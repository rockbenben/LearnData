/*! For license information please see 2707.999a303d.js.LICENSE.txt */
"use strict";(self.webpackChunklearn_data=self.webpackChunklearn_data||[]).push([[2707,8096],{4245:(t,e,s)=>{var i;s.d(e,{XX:()=>K,c0:()=>P,ge:()=>B,qy:()=>T,s6:()=>k});const n=window,a=n.trustedTypes,r=a?a.createPolicy("lit-html",{createHTML:t=>t}):void 0,o="$lit$",h=`lit$${(Math.random()+"").slice(9)}$`,d="?"+h,l=`<${d}>`,c=document,u=()=>c.createComment(""),p=t=>null===t||"object"!=typeof t&&"function"!=typeof t,m=Array.isArray,g=t=>m(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]),b="[ \t\n\f\r]",$=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,f=/>/g,w=RegExp(`>|${b}(?:([^\\s"'>=/]+)(${b}*=${b}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),A=/'/g,x=/"/g,y=/^(?:script|style|textarea|title)$/i,S=t=>(e,...s)=>({_$litType$:t,strings:e,values:s}),T=S(1),P=(S(2),Symbol.for("lit-noChange")),k=Symbol.for("lit-nothing"),C=new WeakMap,M=c.createTreeWalker(c,129,null,!1);function V(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==r?r.createHTML(e):e}const E=(t,e)=>{const s=t.length-1,i=[];let n,a=2===e?"<svg>":"",r=$;for(let e=0;e<s;e++){const s=t[e];let d,c,u=-1,p=0;for(;p<s.length&&(r.lastIndex=p,c=r.exec(s),null!==c);)p=r.lastIndex,r===$?"!--"===c[1]?r=v:void 0!==c[1]?r=f:void 0!==c[2]?(y.test(c[2])&&(n=RegExp("</"+c[2],"g")),r=w):void 0!==c[3]&&(r=w):r===w?">"===c[0]?(r=null!=n?n:$,u=-1):void 0===c[1]?u=-2:(u=r.lastIndex-c[2].length,d=c[1],r=void 0===c[3]?w:'"'===c[3]?x:A):r===x||r===A?r=w:r===v||r===f?r=$:(r=w,n=void 0);const m=r===w&&t[e+1].startsWith("/>")?" ":"";a+=r===$?s+l:u>=0?(i.push(d),s.slice(0,u)+o+s.slice(u)+h+m):s+h+(-2===u?(i.push(void 0),e):m)}return[V(t,a+(t[s]||"<?>")+(2===e?"</svg>":"")),i]};class D{constructor({strings:t,_$litType$:e},s){let i;this.parts=[];let n=0,r=0;const l=t.length-1,c=this.parts,[p,m]=E(t,e);if(this.el=D.createElement(p,s),M.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(i=M.nextNode())&&c.length<l;){if(1===i.nodeType){if(i.hasAttributes()){const t=[];for(const e of i.getAttributeNames())if(e.endsWith(o)||e.startsWith(h)){const s=m[r++];if(t.push(e),void 0!==s){const t=i.getAttribute(s.toLowerCase()+o).split(h),e=/([.?@])?(.*)/.exec(s);c.push({type:1,index:n,name:e[2],strings:t,ctor:"."===e[1]?H:"?"===e[1]?Q:"@"===e[1]?Z:N})}else c.push({type:6,index:n})}for(const e of t)i.removeAttribute(e)}if(y.test(i.tagName)){const t=i.textContent.split(h),e=t.length-1;if(e>0){i.textContent=a?a.emptyScript:"";for(let s=0;s<e;s++)i.append(t[s],u()),M.nextNode(),c.push({type:2,index:++n});i.append(t[e],u())}}}else if(8===i.nodeType)if(i.data===d)c.push({type:2,index:n});else{let t=-1;for(;-1!==(t=i.data.indexOf(h,t+1));)c.push({type:7,index:n}),t+=h.length-1}n++}}static createElement(t,e){const s=c.createElement("template");return s.innerHTML=t,s}}function _(t,e,s=t,i){var n,a,r,o;if(e===P)return e;let h=void 0!==i?null===(n=s._$Co)||void 0===n?void 0:n[i]:s._$Cl;const d=p(e)?void 0:e._$litDirective$;return(null==h?void 0:h.constructor)!==d&&(null===(a=null==h?void 0:h._$AO)||void 0===a||a.call(h,!1),void 0===d?h=void 0:(h=new d(t),h._$AT(t,s,i)),void 0!==i?(null!==(r=(o=s)._$Co)&&void 0!==r?r:o._$Co=[])[i]=h:s._$Cl=h),void 0!==h&&(e=_(t,h._$AS(t,e.values),h,i)),e}class I{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;const{el:{content:s},parts:i}=this._$AD,n=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:c).importNode(s,!0);M.currentNode=n;let a=M.nextNode(),r=0,o=0,h=i[0];for(;void 0!==h;){if(r===h.index){let e;2===h.type?e=new L(a,a.nextSibling,this,t):1===h.type?e=new h.ctor(a,h.name,h.strings,this,t):6===h.type&&(e=new R(a,this,t)),this._$AV.push(e),h=i[++o]}r!==(null==h?void 0:h.index)&&(a=M.nextNode(),r++)}return M.currentNode=c,n}v(t){let e=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,e),e+=s.strings.length-2):s._$AI(t[e])),e++}}class L{constructor(t,e,s,i){var n;this.type=2,this._$AH=k,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=s,this.options=i,this._$Cp=null===(n=null==i?void 0:i.isConnected)||void 0===n||n}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===(null==t?void 0:t.nodeType)&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=_(this,t,e),p(t)?t===k||null==t||""===t?(this._$AH!==k&&this._$AR(),this._$AH=k):t!==this._$AH&&t!==P&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):g(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==k&&p(this._$AH)?this._$AA.nextSibling.data=t:this.$(c.createTextNode(t)),this._$AH=t}g(t){var e;const{values:s,_$litType$:i}=t,n="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=D.createElement(V(i.h,i.h[0]),this.options)),i);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===n)this._$AH.v(s);else{const t=new I(n,this),e=t.u(this.options);t.v(s),this.$(e),this._$AH=t}}_$AC(t){let e=C.get(t.strings);return void 0===e&&C.set(t.strings,e=new D(t)),e}T(t){m(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let s,i=0;for(const n of t)i===e.length?e.push(s=new L(this.k(u()),this.k(u()),this,this.options)):s=e[i],s._$AI(n),i++;i<e.length&&(this._$AR(s&&s._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cp=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class N{constructor(t,e,s,i,n){this.type=1,this._$AH=k,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=n,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=k}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,s,i){const n=this.strings;let a=!1;if(void 0===n)t=_(this,t,e,0),a=!p(t)||t!==this._$AH&&t!==P,a&&(this._$AH=t);else{const i=t;let r,o;for(t=n[0],r=0;r<n.length-1;r++)o=_(this,i[s+r],e,r),o===P&&(o=this._$AH[r]),a||(a=!p(o)||o!==this._$AH[r]),o===k?t=k:t!==k&&(t+=(null!=o?o:"")+n[r+1]),this._$AH[r]=o}a&&!i&&this.j(t)}j(t){t===k?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class H extends N{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===k?void 0:t}}const O=a?a.emptyScript:"";class Q extends N{constructor(){super(...arguments),this.type=4}j(t){t&&t!==k?this.element.setAttribute(this.name,O):this.element.removeAttribute(this.name)}}class Z extends N{constructor(t,e,s,i,n){super(t,e,s,i,n),this.type=5}_$AI(t,e=this){var s;if((t=null!==(s=_(this,t,e,0))&&void 0!==s?s:k)===P)return;const i=this._$AH,n=t===k&&i!==k||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,a=t!==k&&(i===k||n);n&&this.element.removeEventListener(this.name,this,i),a&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class R{constructor(t,e,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){_(this,t)}}const B={O:o,P:h,A:d,C:1,M:E,L:I,R:g,D:_,I:L,V:N,H:Q,N:Z,U:H,F:R},q=n.litHtmlPolyfillSupport;null==q||q(D,L),(null!==(i=n.litHtmlVersions)&&void 0!==i?i:n.litHtmlVersions=[]).push("2.8.0");const K=(t,e,s)=>{var i,n;const a=null!==(i=null==s?void 0:s.renderBefore)&&void 0!==i?i:e;let r=a._$litPart$;if(void 0===r){const t=null!==(n=null==s?void 0:s.renderBefore)&&void 0!==n?n:null;a._$litPart$=r=new L(e.insertBefore(u(),t),t,void 0,null!=s?s:{})}return r._$AI(t),r}},7348:(t,e,s)=>{s.d(e,{Ah:()=>y,Ap:()=>H,DM:()=>A,Dr:()=>nt,Dz:()=>C,GT:()=>$t,HL:()=>z,IU:()=>st,M7:()=>K,ND:()=>v,P$:()=>w,Pn:()=>L,Sb:()=>F,Vz:()=>R,W1:()=>et,Y1:()=>S,Zc:()=>f,_U:()=>mt,c:()=>ot,c7:()=>N,fU:()=>b,gN:()=>at,gX:()=>At,i2:()=>ft,l9:()=>ut,lA:()=>$,pU:()=>U,rW:()=>dt,sx:()=>lt,v$:()=>B,vD:()=>x,xK:()=>P,yF:()=>T,zg:()=>k});var i=s(1665),n=s(3719),a=s(2814),r=s(313),o=s(2486),h=s(4057),d=s(3992),l=s(6976),c=s(5850),u=s(97);class p extends i.WO{#t;constructor(t){super(),this.#t=t}onAttach(t){const{$props:e,ariaKeys:s}=(0,n.$c)(),a=t.getAttribute("aria-keyshortcuts");if(a)return s[this.#t]=a,void(0,i.zp)((()=>{delete s[this.#t]}));const r=e.keyShortcuts()[this.#t];if(r){const e=(0,i.cy)(r)?r.join(" "):(0,i.Kg)(r)?r:r?.keys;t.setAttribute("aria-keyshortcuts",(0,i.cy)(e)?e.join(" "):e)}}}function m(t,e){const s=String(t),i=s.length;return i<e?`${"0".repeat(e-i)}${t}`:s}function g(t){return{hours:Math.trunc(t/3600),minutes:Math.trunc(t%3600/60),seconds:Math.trunc(t%60),fraction:Number((t-Math.trunc(t)).toPrecision(3))}}function b(t,{padHrs:e=null,padMins:s=null,showHrs:n=!1,showMs:a=!1}={}){const{hours:r,minutes:o,seconds:h,fraction:d}=g(t),l=e?m(r,2):r,c=`${s||(0,i.kZ)(s)&&t>=3600?m(o,2):o}:${m(h,2)}${a&&d>0?`.${String(d).replace(/^0?\./,"")}`:""}`;return r>0||n?`${l}:${c}`:c}function $(t){const e=[],{hours:s,minutes:i,seconds:n}=g(t);return s>0&&e.push(`${s} hour`),i>0&&e.push(`${i} min`),(n>0||0===e.length)&&e.push(`${n} sec`),e.join(" ")}class v extends i.WO{#e;constructor(t){super(),this.#e=t,(0,i.QZ)(this.#s.bind(this))}onDestroy(){this.#i?.(),this.#i=null}#s(){const t=this.#e.trigger();if(!t)return void this.hide();const e=this.show.bind(this),s=this.hide.bind(this);this.#e.listen(t,e,s)}#n=-1;#a=-1;#i=null;show(t){this.#r(),window.cancelAnimationFrame(this.#a),this.#a=-1,this.#i?.(),this.#i=null,this.#n=window.setTimeout((()=>{this.#n=-1;const e=this.#e.content();e&&e.style.removeProperty("display"),(0,i.se)((()=>this.#e.onChange(!0,t)))}),this.#e.showDelay?.()??0)}hide(t){this.#r(),(0,i.se)((()=>this.#e.onChange(!1,t))),this.#a=requestAnimationFrame((()=>{this.#r(),this.#a=-1;const t=this.#e.content();if(t){const e=()=>{t.style.display="none",this.#i=null};if((0,r.LY)(t)){this.#i?.();const s=(0,i.k6)(t,"animationend",e,{once:!0});this.#i=s}else e()}}))}#r(){window.clearTimeout(this.#n),this.#n=-1}}class f extends i.WO{static props={disabled:!1};#e;constructor(t){super(),this.#e=t,new h.f,t.keyShortcut&&new p(t.keyShortcut)}onSetup(){const{disabled:t}=this.$props;this.setAttributes({"data-pressed":this.#e.isPresssed,"aria-pressed":this.#o.bind(this),"aria-disabled":()=>t()?"true":null})}onAttach(t){(0,r.jk)(t,"tabindex","0"),(0,r.jk)(t,"role","button"),(0,r.jk)(t,"type","button")}onConnect(t){const e=(0,r.$)(t,this.#h.bind(this));for(const t of["click","touchstart"])e.add(t,this.#d.bind(this),{passive:!0})}#o(){return(0,i.ox)(this.#e.isPresssed())}#l(t){(0,i.wd)(this.#e.isPresssed)&&this.#e.isPresssed.set((t=>!t))}#h(t){if(this.$props.disabled()||this.el.hasAttribute("data-disabled"))return t.preventDefault(),void t.stopImmediatePropagation();t.preventDefault(),(this.#e.onPress??this.#l).call(this,t)}#d(t){this.$props.disabled()&&(t.preventDefault(),t.stopImmediatePropagation())}}class w extends i.uA{static props=f.props;#c;constructor(){super(),new f({isPresssed:this.#u.bind(this),onPress:this.#p.bind(this)})}onSetup(){this.#c=(0,n.$c)();const{canAirPlay:t,isAirPlayConnected:e}=this.#c.$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":this.#m.bind(this),"aria-hidden":(0,a.M)((()=>!t()))})}onAttach(t){t.setAttribute("data-media-tooltip","airplay"),(0,r.Y1)(t,this.#g.bind(this))}#p(t){this.#c.remote.requestAirPlay(t)}#u(){const{remotePlaybackType:t,remotePlaybackState:e}=this.#c.$state;return"airplay"===t()&&"disconnected"!==e()}#m(){const{remotePlaybackType:t,remotePlaybackState:e}=this.#c.$state;return"airplay"===t()&&e()}#g(){const{remotePlaybackState:t}=this.#c.$state;return`AirPlay ${t()}`}}class A extends i.uA{static props=f.props;#c;constructor(){super(),new f({isPresssed:this.#u.bind(this),keyShortcut:"togglePaused",onPress:this.#p.bind(this)})}onSetup(){this.#c=(0,n.$c)();const{paused:t,ended:e}=this.#c.$state;this.setAttributes({"data-paused":t,"data-ended":e})}onAttach(t){t.setAttribute("data-media-tooltip","play"),(0,r.Y1)(t,"Play")}#p(t){const e=this.#c.remote;this.#u()?e.pause(t):e.play(t)}#u(){const{paused:t}=this.#c.$state;return!t()}}class x extends i.uA{static props=f.props;#c;constructor(){super(),new f({isPresssed:this.#u.bind(this),keyShortcut:"toggleCaptions",onPress:this.#p.bind(this)})}onSetup(){this.#c=(0,n.$c)(),this.setAttributes({"data-active":this.#u.bind(this),"data-supported":()=>!this.#b(),"aria-hidden":(0,a.M)(this.#b.bind(this))})}onAttach(t){t.setAttribute("data-media-tooltip","caption"),(0,r.Y1)(t,"Captions")}#p(t){this.#c.remote.toggleCaptions(t)}#u(){const{textTrack:t}=this.#c.$state,e=t();return!!e&&(0,o._k)(e)}#b(){const{hasCaptions:t}=this.#c.$state;return!t()}}class y extends i.uA{static props={...f.props,target:"prefer-media"};#c;constructor(){super(),new f({isPresssed:this.#u.bind(this),keyShortcut:"toggleFullscreen",onPress:this.#p.bind(this)})}onSetup(){this.#c=(0,n.$c)();const{fullscreen:t}=this.#c.$state,e=this.#$.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":(0,a.M)((()=>!e()))})}onAttach(t){t.setAttribute("data-media-tooltip","fullscreen"),(0,r.Y1)(t,"Fullscreen")}#p(t){const e=this.#c.remote,s=this.$props.target();this.#u()?e.exitFullscreen(s,t):e.enterFullscreen(s,t)}#u(){const{fullscreen:t}=this.#c.$state;return t()}#$(){const{canFullscreen:t}=this.#c.$state;return t()}}class S extends i.uA{static props=f.props;#c;constructor(){super(),new f({isPresssed:this.#u.bind(this),keyShortcut:"toggleMuted",onPress:this.#p.bind(this)})}onSetup(){this.#c=(0,n.$c)(),this.setAttributes({"data-muted":this.#u.bind(this),"data-state":this.#m.bind(this)})}onAttach(t){t.setAttribute("data-media-mute-button",""),t.setAttribute("data-media-tooltip","mute"),(0,r.Y1)(t,"Mute")}#p(t){const e=this.#c.remote;this.#u()?e.unmute(t):e.mute(t)}#u(){const{muted:t,volume:e}=this.#c.$state;return t()||0===e()}#m(){const{muted:t,volume:e}=this.#c.$state,s=e();return t()||0===s?"muted":s>=.5?"high":s<.5?"low":void 0}}class T extends i.uA{static props=f.props;#c;constructor(){super(),new f({isPresssed:this.#u.bind(this),keyShortcut:"togglePictureInPicture",onPress:this.#p.bind(this)})}onSetup(){this.#c=(0,n.$c)();const{pictureInPicture:t}=this.#c.$state,e=this.#$.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":(0,a.M)((()=>!e()))})}onAttach(t){t.setAttribute("data-media-tooltip","pip"),(0,r.Y1)(t,"PiP")}#p(t){const e=this.#c.remote;this.#u()?e.exitPictureInPicture(t):e.enterPictureInPicture(t)}#u(){const{pictureInPicture:t}=this.#c.$state;return t()}#$(){const{canPictureInPicture:t}=this.#c.$state;return t()}}class P extends i.uA{static props={disabled:!1,seconds:30};#c;constructor(){super(),new h.f}onSetup(){this.#c=(0,n.$c)();const{seeking:t}=this.#c.$state,{seconds:e}=this.$props,s=this.#$.bind(this);this.setAttributes({seconds:e,"data-seeking":t,"data-supported":s,"aria-hidden":(0,a.M)((()=>!s()))})}onAttach(t){(0,r.jk)(t,"tabindex","0"),(0,r.jk)(t,"role","button"),(0,r.jk)(t,"type","button"),t.setAttribute("data-media-tooltip","seek"),(0,r.Y1)(t,this.#g.bind(this))}onConnect(t){(0,r.$)(t,this.#p.bind(this))}#$(){const{canSeek:t}=this.#c.$state;return t()}#g(){const{seconds:t}=this.$props;return`Seek ${t()>0?"forward":"backward"} ${t()} seconds`}#p(t){const{seconds:e,disabled:s}=this.$props;if(s())return;const{currentTime:i}=this.#c.$state,n=i()+e();this.#c.remote.seek(n,t)}}class k extends i.uA{static props={disabled:!1};#c;constructor(){super(),new h.f}onSetup(){this.#c=(0,n.$c)();const{disabled:t}=this.$props,{live:e,liveEdge:s}=this.#c.$state,i=()=>!e();this.setAttributes({"data-edge":s,"data-hidden":i,"aria-disabled":(0,a.M)((()=>t()||s())),"aria-hidden":(0,a.M)(i)})}onAttach(t){(0,r.jk)(t,"tabindex","0"),(0,r.jk)(t,"role","button"),(0,r.jk)(t,"type","button"),t.setAttribute("data-media-tooltip","live")}onConnect(t){(0,r.$)(t,this.#p.bind(this))}#p(t){const{disabled:e}=this.$props,{liveEdge:s}=this.#c.$state;e()||s()||this.#c.remote.seekToLiveEdge(t)}}const C=new i.Uw({min:0,max:100,value:0,step:1,pointerValue:0,focused:!1,dragging:!1,pointing:!1,hidden:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return M(this.min,this.max,this.value)},get fillPercent(){return 100*this.fillRate},get pointerRate(){return M(this.min,this.max,this.pointerValue)},get pointerPercent(){return 100*this.pointerRate}});function M(t,e,s){const i=e-t;return i>0?(s-t)/i:0}class V extends i.WO{#v;#f;constructor(t){super(),this.#v=t}onConnect(t){this.#f=new IntersectionObserver((t=>{this.#v.callback?.(t,this.#f)}),this.#v),this.#f.observe(t),(0,i.zp)(this.#w.bind(this))}#w(){this.#f?.disconnect(),this.#f=void 0}}const E=(0,i.q6)(),D=(0,i.q6)(),_={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};class I extends i.WO{#e;#c;#f;constructor(t,e){super(),this.#e=t,this.#c=e}onSetup(){(0,i.TQ)(D)&&(this.#f=(0,i.NT)(D))}onConnect(t){(0,i.QZ)(this.#A.bind(this,t)),(0,i.QZ)(this.#x.bind(this,t)),this.#e.swipeGesture&&(0,i.QZ)(this.#y.bind(this))}#y(){const{pointer:t}=this.#c.$state;"coarse"===t()&&this.#e.swipeGesture()?(this.#S=this.#c.player.el?.querySelector("media-provider,[data-media-provider]"),this.#S&&new i.En(this.#S).add("touchstart",this.#T.bind(this),{passive:!0}).add("touchmove",this.#P.bind(this),{passive:!1})):this.#S=null}#S=null;#k=null;#C=null;#T(t){this.#k=t.touches[0]}#P(t){if((0,i.kZ)(this.#k)||(0,r.Mb)(t))return;const e=t.touches[0],s=e.clientX-this.#k.clientX,n=e.clientY-this.#k.clientY,a=this.$state.dragging();!a&&Math.abs(n)>5||a||(t.preventDefault(),Math.abs(s)>20&&(this.#k=e,this.#C=this.$state.value(),this.#M(this.#C,t)))}#A(t){const{hidden:e}=this.$props;(0,i.k6)(t,"focus",this.#V.bind(this)),e()||this.#e.isDisabled()||new i.En(t).add("keyup",this.#E.bind(this)).add("keydown",this.#D.bind(this)).add("pointerenter",this.#_.bind(this)).add("pointermove",this.#I.bind(this)).add("pointerleave",this.#L.bind(this)).add("pointerdown",this.#N.bind(this))}#x(t){!this.#e.isDisabled()&&this.$state.dragging()&&new i.En(document).add("pointerup",this.#H.bind(this),{capture:!0}).add("pointermove",this.#O.bind(this)).add("touchmove",this.#Q.bind(this),{passive:!1})}#V(){this.#Z(this.$state.value())}#R(t,e){const{value:s,min:i,max:n,dragging:a}=this.$state,r=Math.max(i(),Math.min(t,n()));s.set(r);const o=this.createEvent("value-change",{detail:r,trigger:e});if(this.dispatch(o),this.#e.onValueChange?.(o),a()){const t=this.createEvent("drag-value-change",{detail:r,trigger:e});this.dispatch(t),this.#e.onDragValueChange?.(t)}}#Z(t,e){const{pointerValue:s,dragging:i}=this.$state;s.set(t),this.dispatch("pointer-value-change",{detail:t,trigger:e}),i()&&this.#R(t,e)}#B(t){let e,s=this.el.getBoundingClientRect(),{min:n,max:a}=this.$state;if("vertical"===this.$props.orientation()){const{bottom:i,height:n}=s;e=(i-t.clientY)/n}else if(this.#k&&(0,i.Et)(this.#C)){const{width:s}=this.#S.getBoundingClientRect(),i=(t.clientX-this.#k.clientX)/s,r=a()-n(),o=r*Math.abs(i);e=(i<0?this.#C-o:this.#C+o)/r}else{const{left:i,width:n}=s;e=(t.clientX-i)/n}return Math.max(n(),Math.min(a(),this.#e.roundValue(function(t,e,s,i){const n=(e-t)*(0,d.N)(0,s,1)/i;return t+i*Math.round(n)}(n(),a(),e,this.#e.getStep()))))}#_(t){this.$state.pointing.set(!0)}#I(t){const{dragging:e}=this.$state;e()||this.#Z(this.#B(t),t)}#L(t){this.$state.pointing.set(!1)}#N(t){if(0!==t.button)return;const e=this.#B(t);this.#M(e,t),this.#Z(e,t)}#M(t,e){const{dragging:s}=this.$state;if(s())return;s.set(!0),this.#c.remote.pauseControls(e);const i=this.createEvent("drag-start",{detail:t,trigger:e});this.dispatch(i),this.#e.onDragStart?.(i),this.#f?.onDragStart?.()}#q(t,e){const{dragging:s}=this.$state;if(!s())return;s.set(!1),this.#c.remote.resumeControls(e);const i=this.createEvent("drag-end",{detail:t,trigger:e});this.dispatch(i),this.#e.onDragEnd?.(i),this.#k=null,this.#C=null,this.#f?.onDragEnd?.()}#K;#F=!1;#D(t){if(!Object.keys(_).includes(t.key))return;const{key:e}=t,s=this.#U(t);if(!(0,i.kZ)(s))return this.#Z(s,t),void this.#R(s,t);const n=this.#z(t);this.#F||(this.#F=e===this.#K,!this.$state.dragging()&&this.#F&&this.#M(n,t)),this.#Z(n,t),this.#K=e}#E(t){if(!Object.keys(_).includes(t.key)||!(0,i.kZ)(this.#U(t)))return;const e=this.#F?this.$state.pointerValue():this.#z(t);this.#R(e,t),this.#q(e,t),this.#K="",this.#F=!1}#U(t){let e=t.key,{min:s,max:i}=this.$state;return"Home"===e||"PageUp"===e?s():"End"===e||"PageDown"===e?i():!t.metaKey&&/^[0-9]$/.test(e)?(i()-s())/10*Number(e):null}#z(t){const{key:e,shiftKey:s}=t;t.preventDefault(),t.stopPropagation();const{shiftKeyMultiplier:i}=this.$props,{min:n,max:a,value:r,pointerValue:o}=this.$state,h=this.#e.getStep(),d=this.#e.getKeyStep(),l=(s?d*i():d)*Number(_[e]),c=((this.#F?o():this.#e.getValue?.()??r())+l)/h;return Math.max(n(),Math.min(a(),Number((h*c).toFixed(3))))}#H(t){if(0!==t.button)return;t.preventDefault(),t.stopImmediatePropagation();const e=this.#B(t);this.#Z(e,t),this.#q(e,t)}#Q(t){t.preventDefault()}#O=(0,i.z3)((t=>{this.#Z(this.#B(t),t)}),20,{leading:!0})}const L=(0,i.q6)((()=>({})));class N extends i.WO{static props={hidden:!1,disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5};#c;#e;#j=(0,i.O)(!0);#W=(0,i.O)(!0);constructor(t){super(),this.#e=t}onSetup(){this.#c=(0,n.$c)();const t=new h.f;t.attach(this),this.$state.focused=t.focused.bind(t),(0,i.TQ)(L)||(0,i.Pp)(L,{default:"value"}),(0,i.Pp)(E,{orientation:this.$props.orientation,disabled:this.#e.isDisabled,preview:(0,i.O)(null)}),(0,i.QZ)(this.#G.bind(this)),(0,i.QZ)(this.#J.bind(this)),(0,i.QZ)(this.#Y.bind(this)),this.#X(),new I(this.#e,this.#c).attach(this),new V({callback:this.#tt.bind(this)}).attach(this)}onAttach(t){(0,r.jk)(t,"role","slider"),(0,r.jk)(t,"tabindex","0"),(0,r.jk)(t,"autocomplete","off"),(0,i.QZ)(this.#et.bind(this))}onConnect(t){(0,i.zp)((0,r.tD)(t,this.#j.set)),(0,i.QZ)(this.#st.bind(this))}#tt(t){this.#W.set(t[0].isIntersecting)}#st(){const{hidden:t}=this.$props;this.$state.hidden.set(t()||!this.#j()||!this.#W.bind(this))}#G(){const{dragging:t,value:e,min:s,max:n}=this.$state;(0,i.se)(t)||e.set(function(t,e,s,i){return(0,d.N)(t,(0,d.LI)(s,(0,d.Q4)(i)),e)}(s(),n(),e(),this.#e.getStep()))}#J(){this.$state.step.set(this.#e.getStep())}#Y(){if(!this.#e.isDisabled())return;const{dragging:t,pointing:e}=this.$state;t.set(!1),e.set(!1)}#it(){return(0,i.ox)(this.#e.isDisabled())}#X(){const{orientation:t}=this.$props,{dragging:e,active:s,pointing:i}=this.$state;this.setAttributes({"data-dragging":e,"data-pointing":i,"data-active":s,"aria-disabled":this.#it.bind(this),"aria-valuemin":this.#e.aria.valueMin??this.$state.min,"aria-valuemax":this.#e.aria.valueMax??this.$state.max,"aria-valuenow":this.#e.aria.valueNow,"aria-valuetext":this.#e.aria.valueText,"aria-orientation":t})}#et(){const{fillPercent:t,pointerPercent:e}=this.$state;this.#nt((0,d.LI)(t(),3),(0,d.LI)(e(),3))}#nt=(0,i.s_)(((t,e)=>{this.el?.style.setProperty("--slider-fill",t+"%"),this.el?.style.setProperty("--slider-pointer",e+"%")}))}class H extends i.uA{static props={...N.props,min:0,max:100,value:0};static state=C;constructor(){super(),new N({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:this.$props.disabled,aria:{valueNow:this.#at.bind(this),valueText:this.#rt.bind(this)}})}onSetup(){(0,i.QZ)(this.#G.bind(this)),(0,i.QZ)(this.#ot.bind(this))}#at(){const{value:t}=this.$state;return Math.round(t())}#rt(){const{value:t,max:e}=this.$state;return(0,d.LI)(t()/e()*100,2)+"%"}#G(){const{value:t}=this.$props;this.$state.value.set(t())}#ot(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}}const O=new Map,Q=new Map;class Z{#c;#ht;#dt;$images=(0,i.O)([]);static create(t,e){const s=(0,n.$c)();return new Z(t,e,s)}constructor(t,e,s){this.#ht=t,this.#dt=e,this.#c=s,(0,i.QZ)(this.#lt.bind(this))}#lt(){const{canLoad:t}=this.#c.$state;if(!t())return;const e=this.#ht();if(e){if((0,i.Kg)(e)&&O.has(e)){const t=O.get(e);if(O.delete(e),O.set(e,t),O.size>99){const t=O.keys().next().value;O.delete(t)}this.$images.set(O.get(e))}else if((0,i.Kg)(e)){const t=this.#dt(),n=e+"::"+t;if(!Q.has(n)){const a=new Promise((async(n,a)=>{try{const r=await fetch(e,{credentials:(0,c.WF)(t)});if("application/json"===r.headers.get("content-type")){const t=await r.json();if((0,i.cy)(t))if(t[0]&&"text"in t[0])n(this.#ct(t));else{for(let e=0;e<t.length;e++){const s=t[e];(0,l.v)((0,i.Gv)(s),!1),(0,l.v)("url"in s&&(0,i.Kg)(s.url),!1),(0,l.v)("startTime"in s&&(0,i.Et)(s.startTime),!1)}n(t)}else n(this.#ut(t));return}s.e(3463).then(s.bind(s,3463)).then((async({parseResponse:t})=>{try{const{cues:e}=await t(r);n(this.#ct(e))}catch(t){a(t)}}))}catch(t){a(t)}})).then((t=>(O.set(n,t),t))).catch((t=>{this.#pt(e,t)})).finally((()=>{(0,i.Kg)(n)&&Q.delete(n)}));Q.set(n,a)}Q.get(n)?.then((t=>{this.$images.set(t||[])}))}else if((0,i.cy)(e))try{this.$images.set(this.#mt(e))}catch(t){this.#pt(e,t)}else try{this.$images.set(this.#ut(e))}catch(t){this.#pt(e,t)}return()=>{this.$images.set([])}}}#mt(t){const e=this.#gt();return t.map(((t,s)=>((0,l.v)(t.url&&(0,i.Kg)(t.url)),(0,l.v)("startTime"in t&&(0,i.Et)(t.startTime)),{...t,url:(0,i.Kg)(t.url)?this.#bt(t.url,e):t.url})))}#ut(t){(0,l.v)((0,i.Kg)(t.url)),(0,l.v)((0,i.cy)(t.tiles)&&t.tiles?.length);const e=new URL(t.url),s=[],n="tile_width"in t?t.tile_width:t.tileWidth,a="tile_height"in t?t.tile_height:t.tileHeight;for(const i of t.tiles)s.push({url:e,startTime:"start"in i?i.start:i.startTime,width:n,height:a,coords:{x:i.x,y:i.y}});return s}#ct(t){for(let e=0;e<t.length;e++){const s=t[e];(0,l.v)("startTime"in s&&(0,i.Et)(s.startTime)),(0,l.v)("text"in s&&(0,i.Kg)(s.text))}const e=[],s=this.#gt();for(const n of t){const[t,a]=n.text.split("#"),r=this.#$t(a);e.push({url:this.#bt(t,s),startTime:n.startTime,endTime:n.endTime,width:r?.w,height:r?.h,coords:r&&(0,i.Et)(r.x)&&(0,i.Et)(r.y)?{x:r.x,y:r.y}:void 0})}return e}#gt(){let t=(0,i.se)(this.#ht);return(0,i.Kg)(t)&&/^https?:/.test(t)?t:location.href}#bt(t,e){return/^https?:/.test(t)?new URL(t):new URL(t,e)}#$t(t){if(!t)return{};const[e,s]=t.split("="),i=s?.split(","),n={};if(!e||!i)return null;for(let t=0;t<e.length;t++){const s=+i[t];isNaN(s)||(n[e[t]]=s)}return n}#pt(t,e){}}class R extends i.uA{static props={src:null,time:0,crossOrigin:null};static state=new i.Uw({src:"",img:null,thumbnails:[],activeThumbnail:null,crossOrigin:null,loading:!1,error:null,hidden:!1});media;#vt;#ft=[];onSetup(){this.media=(0,n.$c)(),this.#vt=Z.create(this.$props.src,this.$state.crossOrigin),this.#wt(),this.setAttributes({"data-loading":this.#At.bind(this),"data-error":this.#xt.bind(this),"data-hidden":this.$state.hidden,"aria-hidden":(0,a.M)(this.$state.hidden)})}onConnect(t){(0,i.QZ)(this.#yt.bind(this)),(0,i.QZ)(this.#st.bind(this)),(0,i.QZ)(this.#wt.bind(this)),(0,i.QZ)(this.#St.bind(this)),(0,i.QZ)(this.#Tt.bind(this)),(0,i.QZ)(this.#Pt.bind(this))}#yt(){const t=this.$state.img();t&&new i.En(t).add("load",this.#kt.bind(this)).add("error",this.#pt.bind(this))}#wt(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:s}=this.media.$state,i=null!==t()?t():s();e.set(!0===i?"anonymous":i)}#St(){const{src:t,loading:e,error:s}=this.$state;return t()&&(e.set(!0),s.set(null)),()=>{this.#Ct(),e.set(!1),s.set(null)}}#kt(){const{loading:t,error:e}=this.$state;this.#Pt(),t.set(!1),e.set(null)}#pt(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}#At(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}#xt(){const{error:t}=this.$state;return!(0,i.kZ)(t())}#st(){const{hidden:t}=this.$state,{duration:e}=this.media.$state,s=this.#vt.$images();t.set(this.#xt()||!Number.isFinite(e())||0===s.length)}getTime(){return this.$props.time()}#Tt(){let t=this.#vt.$images();if(!t.length)return;let e=this.getTime(),{src:s,activeThumbnail:i}=this.$state,n=-1,a=null;for(let s=t.length-1;s>=0;s--){const i=t[s];if(e>=i.startTime&&(!i.endTime||e<i.endTime)){n=s;break}}t[n]&&(a=t[n]),i.set(a),s.set(a?.url.href||"")}#Pt(){if(!this.scope||this.$state.hidden())return;const t=this.el,e=this.$state.img(),s=this.$state.activeThumbnail();if(!e||!s||!t)return;let i=s.width??e.naturalWidth,n=s?.height??e.naturalHeight,{maxWidth:a,maxHeight:r,minWidth:o,minHeight:h,width:l,height:c}=getComputedStyle(this.el);"100%"===o&&(o=parseFloat(l)+""),"100%"===h&&(h=parseFloat(c)+"");let u=Math.max(parseInt(o)/i,parseInt(h)/n),p=Math.min(Math.max(parseInt(o),parseInt(a))/i,Math.max(parseInt(h),parseInt(r))/n),m=!isNaN(p)&&p<1?p:u>1?u:1;this.#Mt(t,"--thumbnail-width",i*m+"px"),this.#Mt(t,"--thumbnail-height",n*m+"px"),this.#Mt(t,"--thumbnail-aspect-ratio",String((0,d.LI)(i/n,5))),this.#Mt(e,"width",e.naturalWidth*m+"px"),this.#Mt(e,"height",e.naturalHeight*m+"px"),this.#Mt(e,"transform",s.coords?`translate(-${s.coords.x*m}px, -${s.coords.y*m}px)`:""),this.#Mt(e,"max-width","none")}#Mt(t,e,s){t.style.setProperty(e,s),this.#ft.push((()=>t.style.removeProperty(e)))}#Ct(){for(const t of this.#ft)t();this.#ft=[]}}class B extends i.uA{static props={type:"pointer",format:null,showHours:!1,showMs:!1,padHours:null,padMinutes:null,decimalPlaces:2};#Vt;#Et;#Dt;onSetup(){this.#Dt=(0,i.J0)(H.state),this.#Vt=(0,i.NT)(L),this.#Et=(0,i.EW)(this.getValueText.bind(this))}getValueText(){const{type:t,format:e,decimalPlaces:s,padHours:i,padMinutes:n,showHours:a,showMs:r}=this.$props,{value:o,pointerValue:h,min:l,max:c}=this.#Dt,u=e?.()??this.#Vt.default,p="current"===t()?o():h();if("percent"===u){const t=p/(c()-l())*100;return(this.#Vt.percent??d.LI)(t,s())+"%"}return"time"===u?(this.#Vt.time??b)(p,{padHrs:i(),padMins:n(),showHrs:a(),showMs:r()}):(this.#Vt.value?.(p)??p.toFixed(2))+""}}const q=B.prototype;(0,i.EJ)(q,"getValueText");class K extends i.uA{static props={offset:0,noClamp:!1};#Dt;onSetup(){this.#Dt=(0,i.NT)(E);const{active:t}=(0,i.J0)(H.state);this.setAttributes({"data-visible":t})}onAttach(t){Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){const{preview:e}=this.#Dt;e.set(t),(0,i.zp)((()=>e.set(null))),(0,i.QZ)(this.#_t.bind(this));const s=new ResizeObserver(this.#_t.bind(this));s.observe(t),(0,i.zp)((()=>s.disconnect()))}#_t=(0,i.s_)((()=>{const{disabled:t,orientation:e}=this.#Dt;if(t())return;const s=this.el,{offset:i,noClamp:n}=this.$props;s&&function(t,{clamp:e,offset:s,orientation:i}){const n=getComputedStyle(t),a=parseFloat(n.width),r=parseFloat(n.height),o={top:null,right:null,bottom:null,left:null};if(o["horizontal"===i?"bottom":"left"]=`calc(100% + var(--media-slider-preview-offset, ${s}px))`,"horizontal"===i){const t=a/2;if(e){const e=`max(0px, calc(var(--slider-pointer) - ${t}px))`,s=`calc(100% - ${a}px)`;o.left=`min(${e}, ${s})`}else o.left=`calc(var(--slider-pointer) - ${t}px)`}else{const t=r/2;if(e){const e=`max(${t}px, calc(var(--slider-pointer) - ${t}px))`,s=`calc(100% - ${r}px)`;o.bottom=`min(${e}, ${s})`}else o.bottom=`calc(var(--slider-pointer) - ${t}px)`}Object.assign(t.style,o)}(s,{clamp:!n(),offset:i(),orientation:e()})}))}class F extends i.uA{static props={...N.props,keyStep:5,shiftKeyMultiplier:2};static state=C;#c;onSetup(){this.#c=(0,n.$c)();const{audioGain:t}=this.#c.$state;(0,i.Pp)(L,{default:"percent",value:e=>(e*(t()??1)).toFixed(2),percent:e=>Math.round(e*(t()??1))}),new N({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:this.#It.bind(this),aria:{valueMax:this.#Lt.bind(this),valueNow:this.#at.bind(this),valueText:this.#rt.bind(this)},onDragValueChange:this.#Nt.bind(this),onValueChange:this.#Ht.bind(this)}).attach(this),(0,i.QZ)(this.#Ot.bind(this))}onAttach(t){t.setAttribute("data-media-volume-slider",""),(0,r.jk)(t,"aria-label","Volume");const{canSetVolume:e}=this.#c.$state;this.setAttributes({"data-supported":e,"aria-hidden":(0,a.M)((()=>!e()))})}#at(){const{value:t}=this.$state,{audioGain:e}=this.#c.$state;return Math.round(t()*(e()??1))}#rt(){const{value:t,max:e}=this.$state,{audioGain:s}=this.#c.$state;return(0,d.LI)(t()/e()*(s()??1)*100,2)+"%"}#Lt(){const{audioGain:t}=this.#c.$state;return this.$state.max()*(t()??1)}#It(){const{disabled:t}=this.$props,{canSetVolume:e}=this.#c.$state;return t()||!e()}#Ot(){const{muted:t,volume:e}=this.#c.$state,s=t()?0:100*e();this.$state.value.set(s),this.dispatch("value-change",{detail:s})}#Qt=(0,i.z3)(this.#Zt.bind(this),25);#Zt(t){if(!t.trigger)return;const e=(0,d.LI)(t.detail/100,3);this.#c.remote.changeVolume(e,t)}#Ht(t){this.#Qt(t)}#Nt(t){this.#Qt(t)}}class U extends i.uA{static props={...N.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,noSwipeGesture:!1,seekingRequestThrottle:100};static state=C;#c;#Rt;#Bt=(0,i.O)(null);constructor(){super();const{noSwipeGesture:t}=this.$props;new N({swipeGesture:()=>!t(),getValue:this.#qt.bind(this),getStep:this.#Kt.bind(this),getKeyStep:this.#Ft.bind(this),roundValue:this.#Ut,isDisabled:this.#It.bind(this),aria:{valueNow:this.#at.bind(this),valueText:this.#rt.bind(this)},onDragStart:this.#zt.bind(this),onDragValueChange:this.#Nt.bind(this),onDragEnd:this.#jt.bind(this),onValueChange:this.#Ht.bind(this)})}onSetup(){this.#c=(0,n.$c)(),(0,i.Pp)(L,{default:"time",value:this.#Wt.bind(this),time:this.#Gt.bind(this)}),this.setAttributes({"data-chapters":this.#Jt.bind(this)}),this.setStyles({"--slider-progress":this.#Yt.bind(this)}),(0,i.QZ)(this.#Xt.bind(this)),(0,i.QZ)(this.#te.bind(this))}onAttach(t){t.setAttribute("data-media-time-slider",""),(0,r.jk)(t,"aria-label","Seek")}onConnect(t){(0,i.QZ)(this.#ee.bind(this)),(0,u.q)(this.#c.textTracks,"chapters",this.#Bt.set)}#Yt(){const{bufferedEnd:t,duration:e}=this.#c.$state;return(0,d.LI)(100*Math.min(t()/Math.max(e(),1),1),3)+"%"}#Jt(){const{duration:t}=this.#c.$state;return this.#Bt()?.cues.length&&Number.isFinite(t())&&t()>0}#te(){this.#Rt=(0,i.z3)(this.#se.bind(this),this.$props.seekingRequestThrottle())}#Xt(){if(this.$state.hidden())return;const{value:t,dragging:e}=this.$state,s=this.#qt();(0,i.se)(e)||(t.set(s),this.dispatch("value-change",{detail:s}))}#ee(){const t=this.#c.player.el,{preview:e}=(0,i.NT)(E);t&&e()&&(0,i.Bq)(t,"data-preview",this.$state.active())}#se(t,e){this.#c.remote.seeking(t,e)}#ie(t,e,s){this.#Rt.cancel();const{live:i}=this.#c.$state;i()&&e>=99?this.#c.remote.seekToLiveEdge(s):this.#c.remote.seek(t,s)}#ne=!1;#zt(t){const{pauseWhileDragging:e}=this.$props;if(e()){const{paused:e}=this.#c.$state;this.#ne=!e(),this.#c.remote.pause(t)}}#Nt(t){this.#Rt(this.#ae(t.detail),t)}#jt(t){const{seeking:e}=this.#c.$state;(0,i.se)(e)||this.#se(this.#ae(t.detail),t);const s=t.detail;this.#ie(this.#ae(s),s,t);const{pauseWhileDragging:n}=this.$props;n()&&this.#ne&&(this.#c.remote.play(t),this.#ne=!1)}#Ht(t){const{dragging:e}=this.$state;!e()&&t.trigger&&this.#jt(t)}#qt(){const{currentTime:t}=this.#c.$state;return this.#re(t())}#Kt(){const t=this.$props.step()/this.#c.$state.duration()*100;return Number.isFinite(t)?t:1}#Ft(){const t=this.$props.keyStep()/this.#c.$state.duration()*100;return Number.isFinite(t)?t:1}#Ut(t){return(0,d.LI)(t,3)}#It(){const{disabled:t}=this.$props,{canSeek:e}=this.#c.$state;return t()||!e()}#at(){const{value:t}=this.$state;return Math.round(t())}#rt(){const t=this.#ae(this.$state.value()),{duration:e}=this.#c.$state;return Number.isFinite(t)?`${$(t)} out of ${$(e())}`:"live"}#ae(t){const{duration:e}=this.#c.$state;return(0,d.LI)(t/100*e(),5)}#re(t){const{liveEdge:e,duration:s}=this.#c.$state,i=Math.max(0,Math.min(1,e()?1:Math.min(t,s())/s()));return Number.isNaN(i)?0:Number.isFinite(i)?100*i:100}#Wt(t){const e=this.#ae(t),{live:s,duration:i}=this.#c.$state;return Number.isFinite(e)?(s()?e-i():e).toFixed(0):"LIVE"}#Gt(t,e){const s=this.#ae(t),{live:i,duration:n}=this.#c.$state,a=i()?s-n():s;return Number.isFinite(s)?`${a<0?"-":""}${b(Math.abs(a),e)}`:"LIVE"}}const z=(0,i.q6)();const j=["a[href]","[tabindex]","input","select","button"].map((t=>`${t}:not([aria-hidden='true'])`)).join(","),W=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);class G{#oe=-1;#he=null;#de=[];#e;get items(){return this.#de}constructor(t){this.#e=t}attachMenu(t){(0,i.k6)(t,"focus",this.#V.bind(this)),this.#he=t,(0,i.zp)((()=>{this.#he=null}))}listen(){this.#he&&(this.update(),new i.En(this.#he).add("keyup",this.#E.bind(this)).add("keydown",this.#D.bind(this)),(0,i.zp)((()=>{this.#oe=-1,this.#de=[]})))}update(){this.#oe=0,this.#de=this.#le()}scroll(t=this.#ce()){const e=this.#de[t];e&&requestAnimationFrame((()=>{requestAnimationFrame((()=>{!function(t,e={}){!function(t,e){const s=(0,i.r)(t,e);for(const{el:t,top:i,left:n}of s)t.scroll({top:i,left:n,behavior:e.behavior})}(t,{scrollMode:"if-needed",block:"center",inline:"center",...e})}(e,{behavior:"smooth",boundary:t=>!t.hasAttribute("data-root")})}))}))}focusActive(t=!0){const e=this.#ce();this.#ue(e>=0?e:0,t)}#ue(t,e=!0){this.#oe=t,this.#de[t]?(this.#de[t].focus({preventScroll:!0}),e&&this.scroll(t)):this.#he?.focus({preventScroll:!0})}#ce(){return this.#de.findIndex((t=>document.activeElement===t||"menuitemradio"===t.getAttribute("role")&&"true"===t.getAttribute("aria-checked")))}#V(){this.#oe>=0||(this.update(),this.focusActive())}#pe(t){const e=t.target;if((0,i.hN)(t)&&e instanceof Element){const t=e.getAttribute("role");return!/a|input|select|button/.test(e.localName)&&!t}return W.has(t.key)}#E(t){this.#pe(t)&&(t.stopPropagation(),t.preventDefault())}#D(t){if(this.#pe(t))switch(t.stopPropagation(),t.preventDefault(),t.key){case"Escape":this.#e.closeMenu(t);break;case"Tab":this.#ue(this.#me(t.shiftKey?-1:1));break;case"ArrowUp":this.#ue(this.#me(-1));break;case"ArrowDown":this.#ue(this.#me(1));break;case"Home":case"PageUp":this.#ue(0);break;case"End":case"PageDown":this.#ue(this.#de.length-1)}}#me(t){let e=this.#oe;do{e=(e+t+this.#de.length)%this.#de.length}while(null===this.#de[e]?.offsetParent);return e}#le(){if(!this.#he)return[];const t=this.#he.querySelectorAll(j),e=[],s=t=>"menu"===t.getAttribute("role");for(const i of t)(0,r.sb)(i)&&null!==i.offsetParent&&(0,r.D0)(this.#he,i,s)&&e.push(i);return e}}var J=Object.defineProperty,Y=Object.getOwnPropertyDescriptor,X=(t,e,s,i)=>{for(var n,a=Y(e,s),r=t.length-1;r>=0;r--)(n=t[r])&&(a=n(e,s,a)||a);return a&&J(e,s,a),a};let tt=0;class et extends i.uA{static props={showDelay:0};#c;#ge;#be;#$e=(0,i.O)(!1);#ve=(0,i.O)(!1);#fe=(0,i.O)(null);#we=(0,i.O)(null);#Ae;#xe=new Set;#ye=null;#Se;#Te;#Pe=!1;#ke=(0,i.O)(!1);#Ce=new Set;get triggerElement(){return this.#fe()}get contentElement(){return this.#we()}get isSubmenu(){return!!this.#Ae}constructor(){super();const{showDelay:t}=this.$props;this.#Se=new v({trigger:this.#fe,content:this.#we,showDelay:t,listen:(t,e,s)=>{(0,r.$)(t,(t=>{this.#$e()?s(t):e(t)}));const i=this.#Me();i&&(0,r.$)(i,(t=>{t.stopPropagation(),s(t)}))},onChange:this.#Ve.bind(this)})}onSetup(){this.#c=(0,n.$c)();const t=++tt;this.#ge=`media-menu-${t}`,this.#be=`media-menu-button-${t}`,this.#Te=new G({closeMenu:this.close.bind(this)}),(0,i.TQ)(z)&&(this.#Ae=(0,i.NT)(z)),this.#Ee(),this.setAttributes({"data-open":this.#$e,"data-root":!this.isSubmenu,"data-submenu":this.isSubmenu,"data-disabled":this.#It.bind(this)}),(0,i.Pp)(z,{button:this.#fe,content:this.#we,expanded:this.#$e,hint:(0,i.O)(""),submenu:!!this.#Ae,disable:this.#De.bind(this),attachMenuButton:this.#_e.bind(this),attachMenuItems:this.#Ie.bind(this),attachObserver:this.#Le.bind(this),disableMenuButton:this.#Ne.bind(this),addSubmenu:this.#He.bind(this),onTransitionEvent:t=>{this.#Ce.add(t),(0,i.zp)((()=>{this.#Ce.delete(t)}))}})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){(0,i.QZ)(this.#Oe.bind(this)),this.isSubmenu&&this.#Ae?.addSubmenu(this)}onDestroy(){this.#fe.set(null),this.#we.set(null),this.#ye=null,this.#Ce.clear()}#Ee(){let t=-1,e=(0,i.TQ)(D)?(0,i.NT)(D):null;(0,i.Pp)(D,{onDragStart:()=>{e?.onDragStart?.(),window.clearTimeout(t),t=-1,this.#Pe=!0},onDragEnd:()=>{e?.onDragEnd?.(),t=window.setTimeout((()=>{this.#Pe=!1,t=-1}),300)}})}#Oe(){const t=this.#Qe();this.isSubmenu||this.#Ze(),this.#Re(t),t&&((0,i.QZ)((()=>{const{height:t}=this.#c.$state,e=this.#we();e&&(0,i.eC)(e,"--player-height",t()+"px")})),this.#Te.listen(),this.listen("pointerup",this.#Be.bind(this)),(0,i.k6)(window,"pointerup",this.#qe.bind(this)))}#_e(t){const e=t.el,s=this.isSubmenu,n=(0,a.M)(this.#It.bind(this));(0,r.jk)(e,"tabindex",s?"-1":"0"),(0,r.jk)(e,"role",s?"menuitem":"button"),(0,i.Bq)(e,"id",this.#be),(0,i.Bq)(e,"aria-haspopup","menu"),(0,i.Bq)(e,"aria-expanded","false"),(0,i.Bq)(e,"data-root",!this.isSubmenu),(0,i.Bq)(e,"data-submenu",this.isSubmenu),(0,i.QZ)((()=>{(0,i.Bq)(e,"data-open",this.#$e()),(0,i.Bq)(e,"aria-disabled",n())})),this.#fe.set(e),(0,i.zp)((()=>{this.#fe.set(null)}))}#Ie(t){const e=t.el;e.style.setProperty("display","none"),(0,i.Bq)(e,"id",this.#ge),(0,r.jk)(e,"role","menu"),(0,r.jk)(e,"tabindex","-1"),(0,i.Bq)(e,"data-root",!this.isSubmenu),(0,i.Bq)(e,"data-submenu",this.isSubmenu),this.#we.set(e),(0,i.zp)((()=>this.#we.set(null))),(0,i.QZ)((()=>(0,i.Bq)(e,"data-open",this.#$e()))),this.#Te.attachMenu(e),this.#Re(!1);const s=this.#Ke.bind(this);this.isSubmenu?this.#Ae?.onTransitionEvent(s):(t.listen("transitionstart",s),t.listen("transitionend",s),t.listen("animationend",this.#Ze),t.listen("vds-menu-resize",this.#Ze))}#Le(t){this.#ye=t}#Re(t){const e=(0,i.se)(this.#we);e&&(0,i.Bq)(e,"aria-hidden",(0,i.ox)(!t))}#Ne(t){this.#ke.set(t)}#Fe=!1;#Ve(t,e){if(this.#Fe=(0,i.kx)(e),e?.stopPropagation(),this.#$e()===t)return;if(this.#It())return void(t&&this.#Se.hide(e));this.el?.dispatchEvent(new Event("vds-menu-resize",{bubbles:!0,composed:!0}));const s=this.#fe(),n=this.#we();if(s&&((0,i.Bq)(s,"aria-controls",t&&this.#ge),(0,i.Bq)(s,"aria-expanded",(0,i.ox)(t))),n&&(0,i.Bq)(n,"aria-labelledby",t&&this.#be),this.#$e.set(t),this.#Ue(e),(0,i.io)(),this.#Fe){t?n?.focus():s?.focus();for(const t of[this.el,n])t&&t.setAttribute("data-keyboard","")}else for(const t of[this.el,n])t&&t.removeAttribute("data-keyboard");if(this.dispatch(t?"open":"close",{trigger:e}),t)this.isSubmenu||this.#c.activeMenu===this||(this.#c.activeMenu?.close(e),this.#c.activeMenu=this),this.#ye?.onOpen?.(e);else{if(this.isSubmenu)for(const t of this.#xe)t.close(e);else this.#c.activeMenu=null;this.#ye?.onClose?.(e)}t&&requestAnimationFrame(this.#ze.bind(this))}#ze(){this.#je||this.#We||(this.#Te.update(),requestAnimationFrame((()=>{this.#Fe?this.#Te.focusActive():this.#Te.scroll()})))}#Qe(){return!this.#It()&&this.#$e()}#It(){return this.#ve()||this.#ke()}#De(t){this.#ve.set(t)}#Be(t){const e=this.#we();this.#Pe||e&&(0,r.Dq)(e,t)||t.stopPropagation()}#qe(t){const e=this.#we();this.#Pe||e&&(0,r.Dq)(e,t)||this.close(t)}#Me(){const t=this.el?.querySelector('[data-part="close-target"]');return this.el&&t&&(0,r.D0)(this.el,t,(t=>"menu"===t.getAttribute("role")))?t:null}#Ue(t){this.isSubmenu||(this.#$e()?this.#c.remote.pauseControls(t):this.#c.remote.resumeControls(t))}#He(t){this.#xe.add(t),new i.En(t).add("open",this.#Ge).add("close",this.#Je),(0,i.zp)(this.#Ye)}#Ye=this.#Xe.bind(this);#Xe(t){this.#xe.delete(t)}#We=!1;#Ge=this.#ts.bind(this);#ts(t){this.#We=!0;const e=this.#we();this.isSubmenu&&this.triggerElement?.setAttribute("aria-hidden","true");for(const e of this.#xe)if(e!==t.target)for(const t of[e.el,e.triggerElement])t?.setAttribute("aria-hidden","true");if(e){const s=t.target.el;for(const t of e.children)t.contains(s)?t.setAttribute("data-open",""):t!==s&&t.setAttribute("data-hidden","")}}#Je=this.#es.bind(this);#es(t){this.#We=!1;const e=this.#we();this.isSubmenu&&this.triggerElement?.setAttribute("aria-hidden","false");for(const t of this.#xe)for(const e of[t.el,t.triggerElement])e?.setAttribute("aria-hidden","false");if(e)for(const t of e.children)t.removeAttribute("data-open"),t.removeAttribute("data-hidden")}#Ze=(0,i.s_)((()=>{const t=(0,i.se)(this.#we);if(!t)return;let e=0,s=getComputedStyle(t),n=[...t.children];for(const t of["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"])e+=parseFloat(s[t])||0;for(const t of n)if((0,r.sb)(t)&&"contents"===t.style.display)n.push(...t.children);else if(3===t.nodeType)e+=parseFloat(getComputedStyle(t).fontSize);else if((0,r.sb)(t)){if(!(0,r.J9)(t))continue;const s=getComputedStyle(t);e+=t.offsetHeight+(parseFloat(s.marginTop)||0)+(parseFloat(s.marginBottom)||0)}(0,i.eC)(t,"--menu-height",e+"px")}));#je=!1;#Ke(t){const e=this.#we();e&&"height"===t.propertyName&&(this.#je="transitionstart"===t.type,(0,i.Bq)(e,"data-transition",this.#je?"height":null),this.#$e()&&this.#ze());for(const e of this.#Ce)e(t)}open(t){(0,i.se)(this.#$e)||(this.#Se.show(t),(0,i.io)())}close(t){(0,i.se)(this.#$e)&&(this.#Se.hide(t),(0,i.io)())}}X([i._w],et.prototype,"triggerElement"),X([i._w],et.prototype,"contentElement"),X([i._w],et.prototype,"isSubmenu"),X([i.EJ],et.prototype,"open"),X([i.EJ],et.prototype,"close");class st extends i.uA{static props={disabled:!1};#ss;#is=(0,i.O)(null);get expanded(){return this.#ss?.expanded()??!1}constructor(){super(),new h.f}onSetup(){this.#ss=(0,i.NT)(z)}onAttach(t){this.#ss.attachMenuButton(this),(0,i.QZ)(this.#Y.bind(this)),(0,r.jk)(t,"type","button")}onConnect(t){(0,i.QZ)(this.#ns.bind(this)),this.#as();const e=new MutationObserver(this.#as.bind(this));e.observe(t,{attributeFilter:["data-part"],childList:!0,subtree:!0}),(0,i.zp)((()=>e.disconnect())),(0,r.$)(t,(t=>{this.dispatch("select",{trigger:t})}))}#Y(){this.#ss.disableMenuButton(this.$props.disabled())}#ns(){const t=this.#is();t&&(0,i.QZ)((()=>{const e=this.#ss.hint();e&&(t.textContent=e)}))}#as(){const t=this.el?.querySelector('[data-part="hint"]');this.#is.set(t??null)}}const it=st.prototype;(0,i._w)(it,"expanded");class nt extends st{}class at extends i.uA{static props={container:null,disabled:!1};#rs=null;#c;onSetup(){this.#c=(0,n.$c)(),(0,i.Pp)(rt,{attach:this.#os.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){}onDestroy(){this.#rs?.remove(),this.#rs=null}#os(t){this.#hs(!1),this.#rs=t,(0,r.jx)((()=>{(0,r.jx)((()=>{this.connectScope&&(0,i.QZ)(this.#Y.bind(this))}))}))}#Y(){const{fullscreen:t}=this.#c.$state,{disabled:e}=this.$props;this.#hs("fullscreen"===e()?!t():!e())}#hs(t){if(!this.#rs)return;let e=this.#ds(this.$props.container());if(!e)return;const s=this.#rs.parentElement===e;(0,i.Bq)(this.#rs,"data-portal",t),t?s||(this.#rs.remove(),e.append(this.#rs)):s&&this.#rs.parentElement===e&&(this.#rs.remove(),this.el?.append(this.#rs))}#ds(t){return(0,r.sb)(t)?t:t?document.querySelector(t):document.body}}const rt=(0,i.q6)();class ot extends i.uA{static props={placement:null,offset:0,alignOffset:0};#ss;constructor(){super(),new h.f;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){if(this.#ss=(0,i.NT)(z),this.#ss.attachMenuItems(this),(0,i.TQ)(rt)){const e=(0,i.NT)(rt);e&&((0,i.Pp)(rt,null),e.attach(t),(0,i.zp)((()=>e.attach(null))))}}onConnect(t){(0,i.QZ)(this.#ls.bind(this))}#ls(){const{expanded:t}=this.#ss;if(!this.el||!t())return;const e=this.$props.placement();if(!e)return;Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});const{offset:s,alignOffset:n}=this.$props;(0,i.zp)((0,r.RK)(this.el,this.#cs(),e,{offsetVarName:"media-menu",xOffset:n(),yOffset:s()})),(0,i.zp)(this.#us.bind(this))}#us(){this.el&&(this.el.removeAttribute("style"),this.el.style.display="none")}#cs(){return this.#ss.button()}}const ht=(0,i.q6)();class dt extends i.WO{#ps=new Set;#ms=(0,i.O)("");#gs=null;onValueChange;get values(){return Array.from(this.#ps).map((t=>t.value()))}get value(){return this.#ms()}set value(t){this.#bs(t)}onSetup(){(0,i.Pp)(ht,{add:this.#$s.bind(this),remove:this.#vs.bind(this)})}onAttach(t){(0,i.TQ)(z)||(0,r.jk)(t,"role","radiogroup"),this.setAttributes({value:this.#ms})}onDestroy(){this.#ps.clear()}#$s(t){this.#ps.has(t)||(this.#ps.add(t),t.onCheck=this.#fs,t.check(t.value()===this.#ms()))}#vs(t){t.onCheck=null,this.#ps.delete(t)}#fs=this.#bs.bind(this);#bs(t,e){const s=(0,i.se)(this.#ms);if(!t||t===s)return;const n=this.#ws(s),a=this.#ws(t);n?.check(!1,e),a?.check(!0,e),this.#ms.set(t),this.onValueChange?.(t,e)}#ws(t){for(const e of this.#ps)if(t===(0,i.se)(e.value))return e;return null}}class lt extends i.uA{static props={value:""};#As=(0,i.O)(!1);#gs={value:this.$props.value,check:this.#xs.bind(this),onCheck:null};get checked(){return this.#As()}constructor(){super(),new h.f}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":this.#As,"aria-checked":(0,a.M)(this.#As)})}onAttach(t){const e=(0,i.TQ)(z);(0,r.jk)(t,"tabindex",e?"-1":"0"),(0,r.jk)(t,"role",e?"menuitemradio":"radio"),(0,i.QZ)(this.#G.bind(this))}onConnect(t){this.#ys(),(0,r.$)(t,this.#p.bind(this)),(0,i.zp)(this.#w.bind(this))}#w(){(0,i.P1)((()=>{(0,i.NT)(ht).remove(this.#gs)}),this.connectScope)}#ys(){(0,i.NT)(ht).add(this.#gs)}#G(){const{value:t}=this.$props,e=t();(0,i.se)(this.#As)&&this.#gs.onCheck?.(e)}#p(t){(0,i.se)(this.#As)||(this.#bs(!0,t),this.#Ss(t),this.#gs.onCheck?.((0,i.se)(this.$props.value),t))}#xs(t,e){(0,i.se)(this.#As)!==t&&this.#bs(t,e)}#bs(t,e){this.#As.set(t),this.dispatch("change",{detail:t,trigger:e})}#Ss(t){this.dispatch("select",{trigger:t})}}const ct=lt.prototype;(0,i._w)(ct,"checked");class ut extends i.uA{static props={emptyLabel:"Default"};#ss;#c;#gs;get value(){return this.#gs.value}get disabled(){const{audioTracks:t}=this.#c.$state;return t().length<=1}constructor(){super(),this.#gs=new dt,this.#gs.onValueChange=this.#Ht.bind(this)}onSetup(){this.#c=(0,n.$c)(),(0,i.TQ)(z)&&(this.#ss=(0,i.NT)(z))}onConnect(t){(0,i.QZ)(this.#G.bind(this)),(0,i.QZ)(this.#Ts.bind(this)),(0,i.QZ)(this.#Ps.bind(this))}getOptions(){const{audioTracks:t}=this.#c.$state;return t().map((t=>({track:t,label:t.label,value:t.label.toLowerCase()})))}#G(){this.#gs.value=this.#qt()}#Ps(){const{emptyLabel:t}=this.$props,{audioTrack:e}=this.#c.$state,s=e();this.#ss?.hint.set(s?.label??t())}#Ts(){this.#ss?.disable(this.disabled)}#qt(){const{audioTrack:t}=this.#c.$state,e=t();return e?e.label.toLowerCase():""}#Ht(t,e){if(this.disabled)return;const s=this.#c.audioTracks.toArray().findIndex((e=>e.label.toLowerCase()===t));if(s>=0){const t=this.#c.audioTracks[s];this.#c.remote.changeAudioTrack(s,e),this.dispatch("change",{detail:t,trigger:e})}}}const pt=ut.prototype;(0,i._w)(pt,"value"),(0,i._w)(pt,"disabled"),(0,i.EJ)(pt,"getOptions");class mt extends i.uA{static props={offLabel:"Off"};#c;#ss;#gs;get value(){return this.#gs.value}get disabled(){const{hasCaptions:t}=this.#c.$state;return!t()}constructor(){super(),this.#gs=new dt,this.#gs.onValueChange=this.#Ht.bind(this)}onSetup(){this.#c=(0,n.$c)(),(0,i.TQ)(z)&&(this.#ss=(0,i.NT)(z))}onConnect(t){super.onConnect?.(t),(0,i.QZ)(this.#G.bind(this)),(0,i.QZ)(this.#Ts.bind(this)),(0,i.QZ)(this.#Ps.bind(this))}getOptions(){const{offLabel:t}=this.$props,{textTracks:e}=this.#c.$state;return[{value:"off",label:t},...e().filter(o._k).map((t=>({track:t,label:t.label,value:this.#ks(t)})))]}#G(){this.#gs.value=this.#qt()}#Ps(){const{offLabel:t}=this.$props,{textTrack:e}=this.#c.$state,s=e();this.#ss?.hint.set(s&&(0,o._k)(s)&&"showing"===s.mode?s.label:t())}#Ts(){this.#ss?.disable(this.disabled)}#qt(){const{textTrack:t}=this.#c.$state,e=t();return e&&(0,o._k)(e)&&"showing"===e.mode?this.#ks(e):"off"}#Ht(t,e){if(this.disabled)return;if("off"===t){const t=this.#c.textTracks.selected;if(t){const s=this.#c.textTracks.indexOf(t);this.#c.remote.changeTextTrackMode(s,"disabled",e),this.dispatch("change",{detail:null,trigger:e})}return}const s=this.#c.textTracks.toArray().findIndex((e=>this.#ks(e)===t));if(s>=0){const t=this.#c.textTracks[s];this.#c.remote.changeTextTrackMode(s,"showing",e),this.dispatch("change",{detail:t,trigger:e})}}#ks(t){return t.id+":"+t.kind+"-"+t.label.toLowerCase()}}const gt=mt.prototype;(0,i._w)(gt,"value"),(0,i._w)(gt,"disabled"),(0,i.EJ)(gt,"getOptions");const bt=[.25,.5,.75,1,1.25,1.5,1.75,2];class $t extends i.uA{static props={normalLabel:"Normal",rates:bt};#c;#ss;#gs;get value(){return this.#gs.value}get disabled(){const{rates:t}=this.$props,{canSetPlaybackRate:e}=this.#c.$state;return!e()||0===t().length}constructor(){super(),this.#gs=new dt,this.#gs.onValueChange=this.#Ht.bind(this)}onSetup(){this.#c=(0,n.$c)(),(0,i.TQ)(z)&&(this.#ss=(0,i.NT)(z))}onConnect(t){(0,i.QZ)(this.#G.bind(this)),(0,i.QZ)(this.#Ps.bind(this)),(0,i.QZ)(this.#Ts.bind(this))}getOptions(){const{rates:t,normalLabel:e}=this.$props;return t().map((t=>({label:1===t?e:t+"×",value:t.toString()})))}#G(){this.#gs.value=this.#qt()}#Ps(){const{normalLabel:t}=this.$props,{playbackRate:e}=this.#c.$state,s=e();this.#ss?.hint.set(1===s?t():s+"×")}#Ts(){this.#ss?.disable(this.disabled)}#qt(){const{playbackRate:t}=this.#c.$state;return t().toString()}#Ht(t,e){if(this.disabled)return;const s=+t;this.#c.remote.changePlaybackRate(s,e),this.dispatch("change",{detail:s,trigger:e})}}const vt=$t.prototype;(0,i._w)(vt,"value"),(0,i._w)(vt,"disabled"),(0,i.EJ)(vt,"getOptions");class ft extends i.uA{static props={autoLabel:"Auto",hideBitrate:!1,sort:"descending"};#c;#ss;#gs;get value(){return this.#gs.value}get disabled(){const{canSetQuality:t,qualities:e}=this.#c.$state;return!t()||e().length<=1}#Cs=(0,i.EW)((()=>{const{sort:t}=this.$props,{qualities:e}=this.#c.$state;return(0,a.F)(e(),"descending"===t())}));constructor(){super(),this.#gs=new dt,this.#gs.onValueChange=this.#Ht.bind(this)}onSetup(){this.#c=(0,n.$c)(),(0,i.TQ)(z)&&(this.#ss=(0,i.NT)(z))}onConnect(t){(0,i.QZ)(this.#G.bind(this)),(0,i.QZ)(this.#Ts.bind(this)),(0,i.QZ)(this.#Ps.bind(this))}getOptions(){const{autoLabel:t,hideBitrate:e}=this.$props;return[{value:"auto",label:t},...this.#Cs().map((t=>{const s=t.bitrate&&t.bitrate>=0?`${(0,d.LI)(t.bitrate/1e6,2)} Mbps`:null;return{quality:t,label:t.height+"p",value:this.#Ms(t),bitrate:()=>e()?null:s}}))]}#G(){this.#gs.value=this.#qt()}#Ps(){const{autoLabel:t}=this.$props,{autoQuality:e,quality:s}=this.#c.$state,i=s()?s().height+"p":"";this.#ss?.hint.set(e()?t()+(i?` (${i})`:""):i)}#Ts(){this.#ss?.disable(this.disabled)}#Ht(t,e){if(this.disabled)return;if("auto"===t)return this.#c.remote.changeQuality(-1,e),void this.dispatch("change",{detail:"auto",trigger:e});const{qualities:s}=this.#c.$state,n=(0,i.se)(s).findIndex((e=>this.#Ms(e)===t));if(n>=0){const t=(0,i.se)(s)[n];this.#c.remote.changeQuality(n,e),this.dispatch("change",{detail:t,trigger:e})}}#qt(){const{quality:t,autoQuality:e}=this.#c.$state;if(e())return"auto";const s=t();return s?this.#Ms(s):"auto"}#Ms(t){return t.height+"_"+t.bitrate}}const wt=ft.prototype;(0,i._w)(wt,"value"),(0,i._w)(wt,"disabled"),(0,i.EJ)(wt,"getOptions");class At extends i.uA{static props={type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1,toggle:!1,hidden:!1};static state=new i.Uw({timeText:"",hidden:!1});#c;#Vs=(0,i.O)(null);#j=(0,i.O)(!0);#W=(0,i.O)(!0);onSetup(){this.#c=(0,n.$c)(),this.#Es();const{type:t}=this.$props;this.setAttributes({"data-type":t,"data-remainder":this.#Ds.bind(this)}),new V({callback:this.#tt.bind(this)}).attach(this)}onAttach(t){t.hasAttribute("role")||(0,i.QZ)(this.#_s.bind(this)),(0,i.QZ)(this.#Es.bind(this))}onConnect(t){(0,i.zp)((0,r.tD)(t,this.#j.set)),(0,i.QZ)(this.#st.bind(this)),(0,i.QZ)(this.#Is.bind(this))}#tt(t){this.#W.set(t[0].isIntersecting)}#st(){const{hidden:t}=this.$props;this.$state.hidden.set(t()||!this.#j()||!this.#W())}#Is(){this.$props.toggle()?this.el&&(0,r.$)(this.el,this.#Ls.bind(this)):this.#Vs.set(null)}#Es(){const{hidden:t,timeText:e}=this.$state,{duration:s}=this.#c.$state;if(t())return;const{type:i,padHours:n,padMinutes:a,showHours:r}=this.$props,o=this.#Ns(i()),h=s(),d=this.#Ds();if(!Number.isFinite(o+h))return void e.set("LIVE");const l=b(d?Math.max(0,h-o):o,{padHrs:n(),padMins:a(),showHrs:r()});e.set((d?"-":"")+l)}#_s(){if(!this.el)return;const{toggle:t}=this.$props;(0,i.Bq)(this.el,"role",t()?"timer":null),(0,i.Bq)(this.el,"tabindex",t()?0:null)}#Ns(t){const{bufferedEnd:e,duration:s,currentTime:i}=this.#c.$state;switch(t){case"buffered":return e();case"duration":return s();default:return i()}}#Ds(){return this.$props.remainder()&&!1!==this.#Vs()}#Ls(t){t.preventDefault(),null!==this.#Vs()?this.#Vs.set((t=>!t)):this.#Vs.set(!this.$props.remainder())}}},2814:(t,e,s)=>{function i(t,e){return[...t].sort(e?a:n)}function n(t,e){return t.height===e.height?(t.bitrate??0)-(e.bitrate??0):t.height-e.height}function a(t,e){return e.height===t.height?(e.bitrate??0)-(t.bitrate??0):e.height-t.height}function r(t){return()=>t()?"true":"false"}s.d(e,{F:()=>i,M:()=>r})},5286:(t,e,s)=>{s.d(e,{W:()=>n});var i=s(4245);class n extends HTMLElement{rootPart=null;connectedCallback(){this.rootPart=(0,i.XX)(this.render(),this,{renderBefore:this.firstChild}),this.rootPart.setConnected(!0)}disconnectedCallback(){this.rootPart?.setConnected(!1),this.rootPart=null,(0,i.XX)(null,this)}}},4431:(t,e,s)=>{s.d(e,{DW:()=>f,ES:()=>w,L4:()=>p,M0:()=>m,MA:()=>E,Ov:()=>u,Q_:()=>P,SI:()=>x,T$:()=>y,Th:()=>c,Yp:()=>T,Z4:()=>$,cZ:()=>D,cw:()=>C,eq:()=>A,gx:()=>v,mo:()=>S,oY:()=>k,pt:()=>h,py:()=>l,sE:()=>d,tV:()=>b,xi:()=>M,yA:()=>g,zR:()=>V});var i=s(1665),n=s(7348),a=s(313),r=s(3719);const o=(0,a.Xu)('<img loading="eager" decoding="async" aria-hidden="true">');class h extends((0,i.xr)(HTMLElement,n.Vz)){static tagName="media-thumbnail";static attrs={crossOrigin:"crossorigin"};#c;#Hs=this.#Os();onSetup(){this.#c=(0,r.$c)(),this.$state.img.set(this.#Hs)}onConnect(){const{src:t,crossOrigin:e}=this.$state;this.#Hs.parentNode!==this&&this.prepend(this.#Hs),(0,i.QZ)((()=>{(0,i.Bq)(this.#Hs,"src",t()),(0,i.Bq)(this.#Hs,"crossorigin",e())}))}#Os(){return(0,a.n5)(o)}}class d extends((0,i.xr)(HTMLElement,n.gX)){static tagName="media-time";onConnect(){(0,i.QZ)((()=>{this.textContent=this.$state.timeText()}))}}class l extends((0,i.xr)(HTMLElement,n.P$)){static tagName="media-airplay-button"}class c extends((0,i.xr)(HTMLElement,n.vD)){static tagName="media-caption-button"}class u extends((0,i.xr)(HTMLElement,n.Ah)){static tagName="media-fullscreen-button"}class p extends((0,i.xr)(HTMLElement,n.zg)){static tagName="media-live-button"}class m extends((0,i.xr)(HTMLElement,n.Y1)){static tagName="media-mute-button"}class g extends((0,i.xr)(HTMLElement,n.yF)){static tagName="media-pip-button"}class b extends((0,i.xr)(HTMLElement,n.DM)){static tagName="media-play-button"}class $ extends((0,i.xr)(HTMLElement,n.xK)){static tagName="media-seek-button"}function v(t,e){(0,a.jx)((()=>{if(!t.connectScope)return;const s=t.querySelector("template");s&&(0,i.QZ)((()=>{const n=t.getOptions();(0,a.U1)(s,n.length,((t,s)=>{const{label:a,value:r}=n[s],o=t.querySelector('[data-part="label"]');t.setAttribute("value",r),o&&((0,i.Kg)(a)?o.textContent=a:(0,i.QZ)((()=>{o.textContent=a()}))),e?.(t,n[s],s)}))}))}))}class f extends((0,i.xr)(HTMLElement,n.l9)){static tagName="media-audio-radio-group";onConnect(){v(this)}}class w extends((0,i.xr)(HTMLElement,n._U)){static tagName="media-captions-radio-group";onConnect(){v(this)}}class A extends((0,i.xr)(HTMLElement,n.W1)){static tagName="media-menu"}class x extends((0,i.xr)(HTMLElement,n.IU)){static tagName="media-menu-button"}class y extends((0,i.xr)(HTMLElement,n.Dr)){static tagName="media-menu-item"}class S extends((0,i.xr)(HTMLElement,n.c)){static tagName="media-menu-items"}class T extends((0,i.xr)(HTMLElement,n.GT)){static tagName="media-speed-radio-group";onConnect(){v(this)}}class P extends((0,i.xr)(HTMLElement,n.i2)){static tagName="media-quality-radio-group";onConnect(){v(this,((t,e)=>{const s=e.bitrate,n=t.querySelector('[data-part="bitrate"]');s&&n&&(0,i.QZ)((()=>{n.textContent=s()||""}))}))}}class k extends((0,i.xr)(HTMLElement,n.sx)){static tagName="media-radio"}class C extends h{static tagName="media-slider-thumbnail";#c;#Dt;onSetup(){super.onSetup(),this.#c=(0,r.$c)(),this.#Dt=(0,i.J0)(n.Ap.state)}onConnect(){super.onConnect(),(0,i.QZ)(this.#Es.bind(this))}#Es(){const{duration:t,clipStartTime:e}=this.#c.$state;this.time=e()+this.#Dt.pointerRate()*t()}}class M extends((0,i.xr)(HTMLElement,n.v$)){static tagName="media-slider-value";static attrs={padMinutes:{converter:i.Jx}};onConnect(){(0,i.QZ)((()=>{this.textContent=this.getValueText()}))}}class V extends((0,i.xr)(HTMLElement,n.pU)){static tagName="media-time-slider"}class E extends((0,i.xr)(HTMLElement,n.M7)){static tagName="media-slider-preview"}class D extends((0,i.xr)(HTMLElement,n.Sb)){static tagName="media-volume-slider"}},8096:(t,e,s)=>{s.d(e,{MediaPosterElement:()=>o});var i=s(1665),n=s(3719),a=s(5850);class r extends i.uA{static props={src:null,alt:null,crossOrigin:null};static state=new i.Uw({img:null,src:null,alt:null,crossOrigin:null,loading:!0,error:null,hidden:!1});#c;onSetup(){this.#c=(0,n.$c)(),this.#Qs(),this.#Zs(),this.#wt(),this.#st()}onAttach(t){t.style.setProperty("pointer-events","none"),(0,i.QZ)(this.#yt.bind(this)),(0,i.QZ)(this.#Qs.bind(this)),(0,i.QZ)(this.#Zs.bind(this)),(0,i.QZ)(this.#wt.bind(this)),(0,i.QZ)(this.#st.bind(this));const{started:e}=this.#c.$state;this.setAttributes({"data-visible":()=>!e()&&!this.$state.hidden(),"data-loading":this.#At.bind(this),"data-error":this.#xt.bind(this),"data-hidden":this.$state.hidden})}onConnect(t){(0,i.QZ)(this.#Rs.bind(this)),(0,i.QZ)(this.#St.bind(this))}#xt(){const{error:t}=this.$state;return!(0,i.kZ)(t())}#Rs(){const{canLoadPoster:t,poster:e}=this.#c.$state;!t()&&e()&&(0,a.kZ)(e(),"preconnect")}#st(){const{src:t}=this.$props,{poster:e,nativeControls:s}=this.#c.$state;this.el&&(0,i.Bq)(this.el,"display",s()?"none":null),this.$state.hidden.set(this.#xt()||!(t()||e())||s())}#At(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}#yt(){const t=this.$state.img();t&&(new i.En(t).add("load",this.#Bs.bind(this)).add("error",this.#pt.bind(this)),t.complete&&this.#Bs())}#qs="";#Qs(){const{poster:t}=this.#c.$props,{canLoadPoster:e,providedPoster:s,inferredPoster:i}=this.#c.$state,n=this.$props.src()||"",a=n||t()||i();this.#qs===s()&&s.set(n),this.$state.src.set(e()&&a.length?a:null),this.#qs=n}#Zs(){const{src:t}=this.$props,{alt:e}=this.$state,{poster:s}=this.#c.$state;e.set(t()||s()?this.$props.alt():null)}#wt(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:s,poster:i}=this.#c.$state,n=null!==t()?t():s();e.set(/ytimg\.com|vimeo/.test(i()||"")?null:!0===n?"anonymous":n)}#St(){const{loading:t,error:e}=this.$state,{canLoadPoster:s,poster:i}=this.#c.$state;t.set(s()&&!!i()),e.set(null)}#Bs(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null)}#pt(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}}class o extends((0,i.xr)(HTMLElement,r)){static tagName="media-poster";static attrs={crossOrigin:"crossorigin"};#Hs=document.createElement("img");onSetup(){this.$state.img.set(this.#Hs)}onConnect(){const{src:t,alt:e,crossOrigin:s}=this.$state;(0,i.QZ)((()=>{const{loading:t,hidden:e}=this.$state;this.#Hs.style.display=t()||e()?"none":""})),(0,i.QZ)((()=>{(0,i.Bq)(this.#Hs,"alt",e()),(0,i.Bq)(this.#Hs,"crossorigin",s()),(0,i.Bq)(this.#Hs,"src",t())})),this.#Hs.parentNode!==this&&this.prepend(this.#Hs)}}}}]);
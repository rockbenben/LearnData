"use strict";(self.webpackChunklearn_data=self.webpackChunklearn_data||[]).push([[116],{116:(t,s,i)=>{i.d(s,{MediaPosterElement:()=>h});var e=i(5363),n=i(9552),a=i(3694);class r extends e.uA{constructor(){super(...arguments),this.Xh=""}static{this.props={src:null,alt:null,crossOrigin:null}}static{this.state=new e.Uw({img:null,src:null,alt:null,crossOrigin:null,loading:!0,error:null,hidden:!1})}onSetup(){this.a=(0,n.$c)(),this.Mb(),this.Wh(),this.Ca(),this.Ea()}onAttach(t){t.style.setProperty("pointer-events","none"),(0,e.QZ)(this.kf.bind(this)),(0,e.QZ)(this.Mb.bind(this)),(0,e.QZ)(this.Wh.bind(this)),(0,e.QZ)(this.Ca.bind(this)),(0,e.QZ)(this.Ea.bind(this));const{started:s}=this.a.$state;this.setAttributes({"data-visible":()=>!s()&&!this.$state.hidden(),"data-loading":this.Pc.bind(this),"data-error":this.fb.bind(this),"data-hidden":this.$state.hidden})}onConnect(t){(0,e.QZ)(this.Im.bind(this)),(0,e.QZ)(this.Ma.bind(this))}fb(){const{error:t}=this.$state;return!(0,e.kZ)(t())}Im(){const{canLoadPoster:t,poster:s}=this.a.$state;!t()&&s()&&(0,a.kZ)(s(),"preconnect")}Ea(){const{src:t}=this.$props,{poster:s,nativeControls:i}=this.a.$state;this.el&&(0,e.Bq)(this.el,"display",i()?"none":null),this.$state.hidden.set(this.fb()||!(t()||s())||i())}Pc(){const{loading:t,hidden:s}=this.$state;return!s()&&t()}kf(){const t=this.$state.img();t&&((0,e.k6)(t,"load",this.gd.bind(this)),(0,e.k6)(t,"error",this.Q.bind(this)))}Mb(){const{poster:t}=this.a.$props,{canLoadPoster:s,providedPoster:i,inferredPoster:e}=this.a.$state,n=this.$props.src()||"",a=n||t()||e();this.Xh===i()&&i.set(n),this.$state.src.set(s()&&a.length?a:null),this.Xh=n}Wh(){const{src:t}=this.$props,{alt:s}=this.$state,{poster:i}=this.a.$state;s.set(t()||i()?this.$props.alt():null)}Ca(){const{crossOrigin:t}=this.$props,{crossOrigin:s}=this.$state,{crossOrigin:i,poster:e}=this.a.$state,n=null!==t()?t():i();s.set(/ytimg\.com|vimeo/.test(e()||"")?null:!0===n?"anonymous":n)}Ma(){const{loading:t,error:s}=this.$state,{canLoadPoster:i,poster:e}=this.a.$state;t.set(i()&&!!e()),s.set(null)}gd(){const{loading:t,error:s}=this.$state;t.set(!1),s.set(null)}Q(t){const{loading:s,error:i}=this.$state;s.set(!1),i.set(t)}}class h extends((0,e.xr)(HTMLElement,r)){constructor(){super(...arguments),this.Wm=document.createElement("img")}static{this.tagName="media-poster"}static{this.attrs={crossOrigin:"crossorigin"}}onSetup(){this.$state.img.set(this.Wm)}onConnect(){const{src:t,alt:s,crossOrigin:i}=this.$state;(0,e.QZ)((()=>{const{loading:t,hidden:s}=this.$state;this.Wm.style.display=t()||s()?"none":""})),(0,e.QZ)((()=>{(0,e.Bq)(this.Wm,"alt",s()),(0,e.Bq)(this.Wm,"crossorigin",i()),(0,e.Bq)(this.Wm,"src",t())})),this.Wm.parentNode!==this&&this.prepend(this.Wm)}}}}]);
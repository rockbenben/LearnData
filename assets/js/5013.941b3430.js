/*! For license information please see 5013.941b3430.js.LICENSE.txt */
"use strict";(self.webpackChunklearn_data=self.webpackChunklearn_data||[]).push([[5013,5298],{2537:(t,e,s)=>{s.d(e,{W:()=>n});var i=s(4245);class n extends HTMLElement{rootPart=null;connectedCallback(){this.rootPart=(0,i.XX)(this.render(),this,{renderBefore:this.firstChild}),this.rootPart.setConnected(!0)}disconnectedCallback(){this.rootPart?.setConnected(!1),this.rootPart=null,(0,i.XX)(null,this)}}},4185:(t,e,s)=>{s.d(e,{DW:()=>f,ES:()=>w,L4:()=>p,M0:()=>m,MA:()=>E,Ov:()=>u,Q_:()=>P,SI:()=>x,T$:()=>y,Th:()=>c,Yp:()=>T,Z4:()=>$,cZ:()=>D,cw:()=>C,eq:()=>A,gx:()=>v,mo:()=>S,oY:()=>k,pt:()=>h,py:()=>l,sE:()=>d,tV:()=>b,xi:()=>M,yA:()=>g,zR:()=>V});var i=s(4487),n=s(5203),a=s(2106),r=s(9469);const o=(0,a.Xu)('<img loading="eager" decoding="async" aria-hidden="true">');class h extends((0,i.xr)(HTMLElement,n.Vz)){static tagName="media-thumbnail";static attrs={crossOrigin:"crossorigin"};#t;#e=this.#s();onSetup(){this.#t=(0,r.$c)(),this.$state.img.set(this.#e)}onConnect(){const{src:t,crossOrigin:e}=this.$state;this.#e.parentNode!==this&&this.prepend(this.#e),(0,i.QZ)((()=>{(0,i.Bq)(this.#e,"src",t()),(0,i.Bq)(this.#e,"crossorigin",e())}))}#s(){return(0,a.n5)(o)}}class d extends((0,i.xr)(HTMLElement,n.gX)){static tagName="media-time";onConnect(){(0,i.QZ)((()=>{this.textContent=this.$state.timeText()}))}}class l extends((0,i.xr)(HTMLElement,n.P$)){static tagName="media-airplay-button"}class c extends((0,i.xr)(HTMLElement,n.vD)){static tagName="media-caption-button"}class u extends((0,i.xr)(HTMLElement,n.Ah)){static tagName="media-fullscreen-button"}class p extends((0,i.xr)(HTMLElement,n.zg)){static tagName="media-live-button"}class m extends((0,i.xr)(HTMLElement,n.Y1)){static tagName="media-mute-button"}class g extends((0,i.xr)(HTMLElement,n.yF)){static tagName="media-pip-button"}class b extends((0,i.xr)(HTMLElement,n.DM)){static tagName="media-play-button"}class $ extends((0,i.xr)(HTMLElement,n.xK)){static tagName="media-seek-button"}function v(t,e){(0,a.jx)((()=>{if(!t.connectScope)return;const s=t.querySelector("template");s&&(0,i.QZ)((()=>{const n=t.getOptions();(0,a.U1)(s,n.length,((t,s)=>{const{label:a,value:r}=n[s],o=t.querySelector('[data-part="label"]');t.setAttribute("value",r),o&&((0,i.Kg)(a)?o.textContent=a:(0,i.QZ)((()=>{o.textContent=a()}))),e?.(t,n[s],s)}))}))}))}class f extends((0,i.xr)(HTMLElement,n.l9)){static tagName="media-audio-radio-group";onConnect(){v(this)}}class w extends((0,i.xr)(HTMLElement,n._U)){static tagName="media-captions-radio-group";onConnect(){v(this)}}class A extends((0,i.xr)(HTMLElement,n.W1)){static tagName="media-menu"}class x extends((0,i.xr)(HTMLElement,n.IU)){static tagName="media-menu-button"}class y extends((0,i.xr)(HTMLElement,n.Dr)){static tagName="media-menu-item"}class S extends((0,i.xr)(HTMLElement,n.c)){static tagName="media-menu-items"}class T extends((0,i.xr)(HTMLElement,n.GT)){static tagName="media-speed-radio-group";onConnect(){v(this)}}class P extends((0,i.xr)(HTMLElement,n.i2)){static tagName="media-quality-radio-group";onConnect(){v(this,((t,e)=>{const s=e.bitrate,n=t.querySelector('[data-part="bitrate"]');s&&n&&(0,i.QZ)((()=>{n.textContent=s()||""}))}))}}class k extends((0,i.xr)(HTMLElement,n.sx)){static tagName="media-radio"}class C extends h{static tagName="media-slider-thumbnail";#t;#i;onSetup(){super.onSetup(),this.#t=(0,r.$c)(),this.#i=(0,i.J0)(n.Ap.state)}onConnect(){super.onConnect(),(0,i.QZ)(this.#n.bind(this))}#n(){const{duration:t,clipStartTime:e}=this.#t.$state;this.time=e()+this.#i.pointerRate()*t()}}class M extends((0,i.xr)(HTMLElement,n.v$)){static tagName="media-slider-value";static attrs={padMinutes:{converter:i.Jx}};onConnect(){(0,i.QZ)((()=>{this.textContent=this.getValueText()}))}}class V extends((0,i.xr)(HTMLElement,n.pU)){static tagName="media-time-slider"}class E extends((0,i.xr)(HTMLElement,n.M7)){static tagName="media-slider-preview"}class D extends((0,i.xr)(HTMLElement,n.Sb)){static tagName="media-volume-slider"}},4245:(t,e,s)=>{var i;s.d(e,{XX:()=>K,c0:()=>P,ge:()=>B,qy:()=>T,s6:()=>k});const n=window,a=n.trustedTypes,r=a?a.createPolicy("lit-html",{createHTML:t=>t}):void 0,o="$lit$",h=`lit$${(Math.random()+"").slice(9)}$`,d="?"+h,l=`<${d}>`,c=document,u=()=>c.createComment(""),p=t=>null===t||"object"!=typeof t&&"function"!=typeof t,m=Array.isArray,g=t=>m(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]),b="[ \t\n\f\r]",$=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,f=/>/g,w=RegExp(`>|${b}(?:([^\\s"'>=/]+)(${b}*=${b}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),A=/'/g,x=/"/g,y=/^(?:script|style|textarea|title)$/i,S=t=>(e,...s)=>({_$litType$:t,strings:e,values:s}),T=S(1),P=(S(2),Symbol.for("lit-noChange")),k=Symbol.for("lit-nothing"),C=new WeakMap,M=c.createTreeWalker(c,129,null,!1);function V(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==r?r.createHTML(e):e}const E=(t,e)=>{const s=t.length-1,i=[];let n,a=2===e?"<svg>":"",r=$;for(let e=0;e<s;e++){const s=t[e];let d,c,u=-1,p=0;for(;p<s.length&&(r.lastIndex=p,c=r.exec(s),null!==c);)p=r.lastIndex,r===$?"!--"===c[1]?r=v:void 0!==c[1]?r=f:void 0!==c[2]?(y.test(c[2])&&(n=RegExp("</"+c[2],"g")),r=w):void 0!==c[3]&&(r=w):r===w?">"===c[0]?(r=null!=n?n:$,u=-1):void 0===c[1]?u=-2:(u=r.lastIndex-c[2].length,d=c[1],r=void 0===c[3]?w:'"'===c[3]?x:A):r===x||r===A?r=w:r===v||r===f?r=$:(r=w,n=void 0);const m=r===w&&t[e+1].startsWith("/>")?" ":"";a+=r===$?s+l:u>=0?(i.push(d),s.slice(0,u)+o+s.slice(u)+h+m):s+h+(-2===u?(i.push(void 0),e):m)}return[V(t,a+(t[s]||"<?>")+(2===e?"</svg>":"")),i]};class D{constructor({strings:t,_$litType$:e},s){let i;this.parts=[];let n=0,r=0;const l=t.length-1,c=this.parts,[p,m]=E(t,e);if(this.el=D.createElement(p,s),M.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(i=M.nextNode())&&c.length<l;){if(1===i.nodeType){if(i.hasAttributes()){const t=[];for(const e of i.getAttributeNames())if(e.endsWith(o)||e.startsWith(h)){const s=m[r++];if(t.push(e),void 0!==s){const t=i.getAttribute(s.toLowerCase()+o).split(h),e=/([.?@])?(.*)/.exec(s);c.push({type:1,index:n,name:e[2],strings:t,ctor:"."===e[1]?H:"?"===e[1]?Q:"@"===e[1]?Z:N})}else c.push({type:6,index:n})}for(const e of t)i.removeAttribute(e)}if(y.test(i.tagName)){const t=i.textContent.split(h),e=t.length-1;if(e>0){i.textContent=a?a.emptyScript:"";for(let s=0;s<e;s++)i.append(t[s],u()),M.nextNode(),c.push({type:2,index:++n});i.append(t[e],u())}}}else if(8===i.nodeType)if(i.data===d)c.push({type:2,index:n});else{let t=-1;for(;-1!==(t=i.data.indexOf(h,t+1));)c.push({type:7,index:n}),t+=h.length-1}n++}}static createElement(t,e){const s=c.createElement("template");return s.innerHTML=t,s}}function _(t,e,s=t,i){var n,a,r,o;if(e===P)return e;let h=void 0!==i?null===(n=s._$Co)||void 0===n?void 0:n[i]:s._$Cl;const d=p(e)?void 0:e._$litDirective$;return(null==h?void 0:h.constructor)!==d&&(null===(a=null==h?void 0:h._$AO)||void 0===a||a.call(h,!1),void 0===d?h=void 0:(h=new d(t),h._$AT(t,s,i)),void 0!==i?(null!==(r=(o=s)._$Co)&&void 0!==r?r:o._$Co=[])[i]=h:s._$Cl=h),void 0!==h&&(e=_(t,h._$AS(t,e.values),h,i)),e}class I{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;const{el:{content:s},parts:i}=this._$AD,n=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:c).importNode(s,!0);M.currentNode=n;let a=M.nextNode(),r=0,o=0,h=i[0];for(;void 0!==h;){if(r===h.index){let e;2===h.type?e=new L(a,a.nextSibling,this,t):1===h.type?e=new h.ctor(a,h.name,h.strings,this,t):6===h.type&&(e=new R(a,this,t)),this._$AV.push(e),h=i[++o]}r!==(null==h?void 0:h.index)&&(a=M.nextNode(),r++)}return M.currentNode=c,n}v(t){let e=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,e),e+=s.strings.length-2):s._$AI(t[e])),e++}}class L{constructor(t,e,s,i){var n;this.type=2,this._$AH=k,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=s,this.options=i,this._$Cp=null===(n=null==i?void 0:i.isConnected)||void 0===n||n}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===(null==t?void 0:t.nodeType)&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=_(this,t,e),p(t)?t===k||null==t||""===t?(this._$AH!==k&&this._$AR(),this._$AH=k):t!==this._$AH&&t!==P&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):g(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==k&&p(this._$AH)?this._$AA.nextSibling.data=t:this.$(c.createTextNode(t)),this._$AH=t}g(t){var e;const{values:s,_$litType$:i}=t,n="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=D.createElement(V(i.h,i.h[0]),this.options)),i);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===n)this._$AH.v(s);else{const t=new I(n,this),e=t.u(this.options);t.v(s),this.$(e),this._$AH=t}}_$AC(t){let e=C.get(t.strings);return void 0===e&&C.set(t.strings,e=new D(t)),e}T(t){m(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let s,i=0;for(const n of t)i===e.length?e.push(s=new L(this.k(u()),this.k(u()),this,this.options)):s=e[i],s._$AI(n),i++;i<e.length&&(this._$AR(s&&s._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cp=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class N{constructor(t,e,s,i,n){this.type=1,this._$AH=k,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=n,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=k}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,s,i){const n=this.strings;let a=!1;if(void 0===n)t=_(this,t,e,0),a=!p(t)||t!==this._$AH&&t!==P,a&&(this._$AH=t);else{const i=t;let r,o;for(t=n[0],r=0;r<n.length-1;r++)o=_(this,i[s+r],e,r),o===P&&(o=this._$AH[r]),a||(a=!p(o)||o!==this._$AH[r]),o===k?t=k:t!==k&&(t+=(null!=o?o:"")+n[r+1]),this._$AH[r]=o}a&&!i&&this.j(t)}j(t){t===k?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class H extends N{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===k?void 0:t}}const O=a?a.emptyScript:"";class Q extends N{constructor(){super(...arguments),this.type=4}j(t){t&&t!==k?this.element.setAttribute(this.name,O):this.element.removeAttribute(this.name)}}class Z extends N{constructor(t,e,s,i,n){super(t,e,s,i,n),this.type=5}_$AI(t,e=this){var s;if((t=null!==(s=_(this,t,e,0))&&void 0!==s?s:k)===P)return;const i=this._$AH,n=t===k&&i!==k||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,a=t!==k&&(i===k||n);n&&this.element.removeEventListener(this.name,this,i),a&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class R{constructor(t,e,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){_(this,t)}}const B={O:o,P:h,A:d,C:1,M:E,L:I,R:g,D:_,I:L,V:N,H:Q,N:Z,U:H,F:R},q=n.litHtmlPolyfillSupport;null==q||q(D,L),(null!==(i=n.litHtmlVersions)&&void 0!==i?i:n.litHtmlVersions=[]).push("2.8.0");const K=(t,e,s)=>{var i,n;const a=null!==(i=null==s?void 0:s.renderBefore)&&void 0!==i?i:e;let r=a._$litPart$;if(void 0===r){const t=null!==(n=null==s?void 0:s.renderBefore)&&void 0!==n?n:null;a._$litPart$=r=new L(e.insertBefore(u(),t),t,void 0,null!=s?s:{})}return r._$AI(t),r}},5203:(t,e,s)=>{s.d(e,{Ah:()=>y,Ap:()=>H,DM:()=>A,Dr:()=>nt,Dz:()=>C,GT:()=>$t,HL:()=>z,IU:()=>st,M7:()=>K,ND:()=>v,P$:()=>w,Pn:()=>L,Sb:()=>F,Vz:()=>R,W1:()=>et,Y1:()=>S,Zc:()=>f,_U:()=>mt,c:()=>ot,c7:()=>N,fU:()=>b,gN:()=>at,gX:()=>At,i2:()=>ft,l9:()=>ut,lA:()=>$,pU:()=>U,rW:()=>dt,sx:()=>lt,v$:()=>B,vD:()=>x,xK:()=>P,yF:()=>T,zg:()=>k});var i=s(4487),n=s(9469),a=s(2106),r=s(5802),o=s(213),h=s(4447),d=s(9107),l=s(3362),c=s(2037),u=s(7243);class p extends i.WO{#a;constructor(t){super(),this.#a=t}onAttach(t){const{$props:e,ariaKeys:s}=(0,n.$c)(),a=t.getAttribute("aria-keyshortcuts");if(a)return s[this.#a]=a,void(0,i.zp)((()=>{delete s[this.#a]}));const r=e.keyShortcuts()[this.#a];if(r){const e=(0,i.cy)(r)?r.join(" "):(0,i.Kg)(r)?r:r?.keys;t.setAttribute("aria-keyshortcuts",(0,i.cy)(e)?e.join(" "):e)}}}function m(t,e){const s=String(t),i=s.length;return i<e?`${"0".repeat(e-i)}${t}`:s}function g(t){return{hours:Math.trunc(t/3600),minutes:Math.trunc(t%3600/60),seconds:Math.trunc(t%60),fraction:Number((t-Math.trunc(t)).toPrecision(3))}}function b(t,{padHrs:e=null,padMins:s=null,showHrs:n=!1,showMs:a=!1}={}){const{hours:r,minutes:o,seconds:h,fraction:d}=g(t),l=e?m(r,2):r,c=`${s||(0,i.kZ)(s)&&t>=3600?m(o,2):o}:${m(h,2)}${a&&d>0?`.${String(d).replace(/^0?\./,"")}`:""}`;return r>0||n?`${l}:${c}`:c}function $(t){const e=[],{hours:s,minutes:i,seconds:n}=g(t);return s>0&&e.push(`${s} hour`),i>0&&e.push(`${i} min`),(n>0||0===e.length)&&e.push(`${n} sec`),e.join(" ")}class v extends i.WO{#r;constructor(t){super(),this.#r=t,(0,i.QZ)(this.#o.bind(this))}onDestroy(){this.#h?.(),this.#h=null}#o(){const t=this.#r.trigger();if(!t)return void this.hide();const e=this.show.bind(this),s=this.hide.bind(this);this.#r.listen(t,e,s)}#d=-1;#l=-1;#h=null;show(t){this.#c(),window.cancelAnimationFrame(this.#l),this.#l=-1,this.#h?.(),this.#h=null,this.#d=window.setTimeout((()=>{this.#d=-1;const e=this.#r.content();e&&e.style.removeProperty("display"),(0,i.se)((()=>this.#r.onChange(!0,t)))}),this.#r.showDelay?.()??0)}hide(t){this.#c(),(0,i.se)((()=>this.#r.onChange(!1,t))),this.#l=requestAnimationFrame((()=>{this.#c(),this.#l=-1;const t=this.#r.content();if(t){const e=()=>{t.style.display="none",this.#h=null};if((0,a.LY)(t)){this.#h?.();const s=(0,i.k6)(t,"animationend",e,{once:!0});this.#h=s}else e()}}))}#c(){window.clearTimeout(this.#d),this.#d=-1}}class f extends i.WO{static props={disabled:!1};#r;constructor(t){super(),this.#r=t,new o.f,t.keyShortcut&&new p(t.keyShortcut)}onSetup(){const{disabled:t}=this.$props;this.setAttributes({"data-pressed":this.#r.isPresssed,"aria-pressed":this.#u.bind(this),"aria-disabled":()=>t()?"true":null})}onAttach(t){(0,a.jk)(t,"tabindex","0"),(0,a.jk)(t,"role","button"),(0,a.jk)(t,"type","button")}onConnect(t){const e=(0,a.$)(t,this.#p.bind(this));for(const t of["click","touchstart"])e.add(t,this.#m.bind(this),{passive:!0})}#u(){return(0,i.ox)(this.#r.isPresssed())}#g(t){(0,i.wd)(this.#r.isPresssed)&&this.#r.isPresssed.set((t=>!t))}#p(t){if(this.$props.disabled()||this.el.hasAttribute("data-disabled"))return t.preventDefault(),void t.stopImmediatePropagation();t.preventDefault(),(this.#r.onPress??this.#g).call(this,t)}#m(t){this.$props.disabled()&&(t.preventDefault(),t.stopImmediatePropagation())}}class w extends i.uA{static props=f.props;#t;constructor(){super(),new f({isPresssed:this.#b.bind(this),onPress:this.#$.bind(this)})}onSetup(){this.#t=(0,n.$c)();const{canAirPlay:t,isAirPlayConnected:e}=this.#t.$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":this.#v.bind(this),"aria-hidden":(0,a.Mc)((()=>!t()))})}onAttach(t){t.setAttribute("data-media-tooltip","airplay"),(0,a.Y1)(t,this.#f.bind(this))}#$(t){this.#t.remote.requestAirPlay(t)}#b(){const{remotePlaybackType:t,remotePlaybackState:e}=this.#t.$state;return"airplay"===t()&&"disconnected"!==e()}#v(){const{remotePlaybackType:t,remotePlaybackState:e}=this.#t.$state;return"airplay"===t()&&e()}#f(){const{remotePlaybackState:t}=this.#t.$state;return`AirPlay ${t()}`}}class A extends i.uA{static props=f.props;#t;constructor(){super(),new f({isPresssed:this.#b.bind(this),keyShortcut:"togglePaused",onPress:this.#$.bind(this)})}onSetup(){this.#t=(0,n.$c)();const{paused:t,ended:e}=this.#t.$state;this.setAttributes({"data-paused":t,"data-ended":e})}onAttach(t){t.setAttribute("data-media-tooltip","play"),(0,a.Y1)(t,"Play")}#$(t){const e=this.#t.remote;this.#b()?e.pause(t):e.play(t)}#b(){const{paused:t}=this.#t.$state;return!t()}}class x extends i.uA{static props=f.props;#t;constructor(){super(),new f({isPresssed:this.#b.bind(this),keyShortcut:"toggleCaptions",onPress:this.#$.bind(this)})}onSetup(){this.#t=(0,n.$c)(),this.setAttributes({"data-active":this.#b.bind(this),"data-supported":()=>!this.#w(),"aria-hidden":(0,a.Mc)(this.#w.bind(this))})}onAttach(t){t.setAttribute("data-media-tooltip","caption"),(0,a.Y1)(t,"Captions")}#$(t){this.#t.remote.toggleCaptions(t)}#b(){const{textTrack:t}=this.#t.$state,e=t();return!!e&&(0,r._k)(e)}#w(){const{hasCaptions:t}=this.#t.$state;return!t()}}class y extends i.uA{static props={...f.props,target:"prefer-media"};#t;constructor(){super(),new f({isPresssed:this.#b.bind(this),keyShortcut:"toggleFullscreen",onPress:this.#$.bind(this)})}onSetup(){this.#t=(0,n.$c)();const{fullscreen:t}=this.#t.$state,e=this.#A.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":(0,a.Mc)((()=>!e()))})}onAttach(t){t.setAttribute("data-media-tooltip","fullscreen"),(0,a.Y1)(t,"Fullscreen")}#$(t){const e=this.#t.remote,s=this.$props.target();this.#b()?e.exitFullscreen(s,t):e.enterFullscreen(s,t)}#b(){const{fullscreen:t}=this.#t.$state;return t()}#A(){const{canFullscreen:t}=this.#t.$state;return t()}}class S extends i.uA{static props=f.props;#t;constructor(){super(),new f({isPresssed:this.#b.bind(this),keyShortcut:"toggleMuted",onPress:this.#$.bind(this)})}onSetup(){this.#t=(0,n.$c)(),this.setAttributes({"data-muted":this.#b.bind(this),"data-state":this.#v.bind(this)})}onAttach(t){t.setAttribute("data-media-mute-button",""),t.setAttribute("data-media-tooltip","mute"),(0,a.Y1)(t,"Mute")}#$(t){const e=this.#t.remote;this.#b()?e.unmute(t):e.mute(t)}#b(){const{muted:t,volume:e}=this.#t.$state;return t()||0===e()}#v(){const{muted:t,volume:e}=this.#t.$state,s=e();return t()||0===s?"muted":s>=.5?"high":s<.5?"low":void 0}}class T extends i.uA{static props=f.props;#t;constructor(){super(),new f({isPresssed:this.#b.bind(this),keyShortcut:"togglePictureInPicture",onPress:this.#$.bind(this)})}onSetup(){this.#t=(0,n.$c)();const{pictureInPicture:t}=this.#t.$state,e=this.#A.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":(0,a.Mc)((()=>!e()))})}onAttach(t){t.setAttribute("data-media-tooltip","pip"),(0,a.Y1)(t,"PiP")}#$(t){const e=this.#t.remote;this.#b()?e.exitPictureInPicture(t):e.enterPictureInPicture(t)}#b(){const{pictureInPicture:t}=this.#t.$state;return t()}#A(){const{canPictureInPicture:t}=this.#t.$state;return t()}}class P extends i.uA{static props={disabled:!1,seconds:30};#t;constructor(){super(),new o.f}onSetup(){this.#t=(0,n.$c)();const{seeking:t}=this.#t.$state,{seconds:e}=this.$props,s=this.#A.bind(this);this.setAttributes({seconds:e,"data-seeking":t,"data-supported":s,"aria-hidden":(0,a.Mc)((()=>!s()))})}onAttach(t){(0,a.jk)(t,"tabindex","0"),(0,a.jk)(t,"role","button"),(0,a.jk)(t,"type","button"),t.setAttribute("data-media-tooltip","seek"),(0,a.Y1)(t,this.#f.bind(this))}onConnect(t){(0,a.$)(t,this.#$.bind(this))}#A(){const{canSeek:t}=this.#t.$state;return t()}#f(){const{seconds:t}=this.$props;return`Seek ${t()>0?"forward":"backward"} ${t()} seconds`}#$(t){const{seconds:e,disabled:s}=this.$props;if(s())return;const{currentTime:i}=this.#t.$state,n=i()+e();this.#t.remote.seek(n,t)}}class k extends i.uA{static props={disabled:!1};#t;constructor(){super(),new o.f}onSetup(){this.#t=(0,n.$c)();const{disabled:t}=this.$props,{live:e,liveEdge:s}=this.#t.$state,i=()=>!e();this.setAttributes({"data-edge":s,"data-hidden":i,"aria-disabled":(0,a.Mc)((()=>t()||s())),"aria-hidden":(0,a.Mc)(i)})}onAttach(t){(0,a.jk)(t,"tabindex","0"),(0,a.jk)(t,"role","button"),(0,a.jk)(t,"type","button"),t.setAttribute("data-media-tooltip","live")}onConnect(t){(0,a.$)(t,this.#$.bind(this))}#$(t){const{disabled:e}=this.$props,{liveEdge:s}=this.#t.$state;e()||s()||this.#t.remote.seekToLiveEdge(t)}}const C=new i.Uw({min:0,max:100,value:0,step:1,pointerValue:0,focused:!1,dragging:!1,pointing:!1,hidden:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return M(this.min,this.max,this.value)},get fillPercent(){return 100*this.fillRate},get pointerRate(){return M(this.min,this.max,this.pointerValue)},get pointerPercent(){return 100*this.pointerRate}});function M(t,e,s){const i=e-t;return i>0?(s-t)/i:0}class V extends i.WO{#x;#y;constructor(t){super(),this.#x=t}onConnect(t){this.#y=new IntersectionObserver((t=>{this.#x.callback?.(t,this.#y)}),this.#x),this.#y.observe(t),(0,i.zp)(this.#S.bind(this))}#S(){this.#y?.disconnect(),this.#y=void 0}}const E=(0,i.q6)(),D=(0,i.q6)(),_={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};class I extends i.WO{#r;#t;#y;constructor(t,e){super(),this.#r=t,this.#t=e}onSetup(){(0,i.TQ)(D)&&(this.#y=(0,i.NT)(D))}onConnect(t){(0,i.QZ)(this.#T.bind(this,t)),(0,i.QZ)(this.#P.bind(this,t)),this.#r.swipeGesture&&(0,i.QZ)(this.#k.bind(this))}#k(){const{pointer:t}=this.#t.$state;"coarse"===t()&&this.#r.swipeGesture()?(this.#C=this.#t.player.el?.querySelector("media-provider,[data-media-provider]"),this.#C&&new i.En(this.#C).add("touchstart",this.#M.bind(this),{passive:!0}).add("touchmove",this.#V.bind(this),{passive:!1})):this.#C=null}#C=null;#E=null;#D=null;#M(t){this.#E=t.touches[0]}#V(t){if((0,i.kZ)(this.#E)||(0,a.Mb)(t))return;const e=t.touches[0],s=e.clientX-this.#E.clientX,n=e.clientY-this.#E.clientY,r=this.$state.dragging();!r&&Math.abs(n)>5||r||(t.preventDefault(),Math.abs(s)>20&&(this.#E=e,this.#D=this.$state.value(),this.#_(this.#D,t)))}#T(t){const{hidden:e}=this.$props;(0,i.k6)(t,"focus",this.#I.bind(this)),e()||this.#r.isDisabled()||new i.En(t).add("keyup",this.#L.bind(this)).add("keydown",this.#N.bind(this)).add("pointerenter",this.#H.bind(this)).add("pointermove",this.#O.bind(this)).add("pointerleave",this.#Q.bind(this)).add("pointerdown",this.#Z.bind(this))}#P(t){!this.#r.isDisabled()&&this.$state.dragging()&&new i.En(document).add("pointerup",this.#R.bind(this),{capture:!0}).add("pointermove",this.#B.bind(this)).add("touchmove",this.#q.bind(this),{passive:!1})}#I(){this.#K(this.$state.value())}#F(t,e){const{value:s,min:i,max:n,dragging:a}=this.$state,r=Math.max(i(),Math.min(t,n()));s.set(r);const o=this.createEvent("value-change",{detail:r,trigger:e});if(this.dispatch(o),this.#r.onValueChange?.(o),a()){const t=this.createEvent("drag-value-change",{detail:r,trigger:e});this.dispatch(t),this.#r.onDragValueChange?.(t)}}#K(t,e){const{pointerValue:s,dragging:i}=this.$state;s.set(t),this.dispatch("pointer-value-change",{detail:t,trigger:e}),i()&&this.#F(t,e)}#U(t){let e,s=this.el.getBoundingClientRect(),{min:n,max:a}=this.$state;if("vertical"===this.$props.orientation()){const{bottom:i,height:n}=s;e=(i-t.clientY)/n}else if(this.#E&&(0,i.Et)(this.#D)){const{width:s}=this.#C.getBoundingClientRect(),i=(t.clientX-this.#E.clientX)/s,r=a()-n(),o=r*Math.abs(i);e=(i<0?this.#D-o:this.#D+o)/r}else{const{left:i,width:n}=s;e=(t.clientX-i)/n}return Math.max(n(),Math.min(a(),this.#r.roundValue(function(t,e,s,i){const n=(e-t)*(0,h.N)(0,s,1)/i;return t+i*Math.round(n)}(n(),a(),e,this.#r.getStep()))))}#H(t){this.$state.pointing.set(!0)}#O(t){const{dragging:e}=this.$state;e()||this.#K(this.#U(t),t)}#Q(t){this.$state.pointing.set(!1)}#Z(t){if(0!==t.button)return;const e=this.#U(t);this.#_(e,t),this.#K(e,t)}#_(t,e){const{dragging:s}=this.$state;if(s())return;s.set(!0),this.#t.remote.pauseControls(e);const i=this.createEvent("drag-start",{detail:t,trigger:e});this.dispatch(i),this.#r.onDragStart?.(i),this.#y?.onDragStart?.()}#z(t,e){const{dragging:s}=this.$state;if(!s())return;s.set(!1),this.#t.remote.resumeControls(e);const i=this.createEvent("drag-end",{detail:t,trigger:e});this.dispatch(i),this.#r.onDragEnd?.(i),this.#E=null,this.#D=null,this.#y?.onDragEnd?.()}#j;#W=!1;#N(t){if(!Object.keys(_).includes(t.key))return;const{key:e}=t,s=this.#G(t);if(!(0,i.kZ)(s))return this.#K(s,t),void this.#F(s,t);const n=this.#J(t);this.#W||(this.#W=e===this.#j,!this.$state.dragging()&&this.#W&&this.#_(n,t)),this.#K(n,t),this.#j=e}#L(t){if(!Object.keys(_).includes(t.key)||!(0,i.kZ)(this.#G(t)))return;const e=this.#W?this.$state.pointerValue():this.#J(t);this.#F(e,t),this.#z(e,t),this.#j="",this.#W=!1}#G(t){let e=t.key,{min:s,max:i}=this.$state;return"Home"===e||"PageUp"===e?s():"End"===e||"PageDown"===e?i():!t.metaKey&&/^[0-9]$/.test(e)?(i()-s())/10*Number(e):null}#J(t){const{key:e,shiftKey:s}=t;t.preventDefault(),t.stopPropagation();const{shiftKeyMultiplier:i}=this.$props,{min:n,max:a,value:r,pointerValue:o}=this.$state,h=this.#r.getStep(),d=this.#r.getKeyStep(),l=(s?d*i():d)*Number(_[e]),c=((this.#W?o():this.#r.getValue?.()??r())+l)/h;return Math.max(n(),Math.min(a(),Number((h*c).toFixed(3))))}#R(t){if(0!==t.button)return;t.preventDefault(),t.stopImmediatePropagation();const e=this.#U(t);this.#K(e,t),this.#z(e,t)}#q(t){t.preventDefault()}#B=(0,i.z3)((t=>{this.#K(this.#U(t),t)}),20,{leading:!0})}const L=(0,i.q6)((()=>({})));class N extends i.WO{static props={hidden:!1,disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5};#t;#r;#Y=(0,i.O)(!0);#X=(0,i.O)(!0);constructor(t){super(),this.#r=t}onSetup(){this.#t=(0,n.$c)();const t=new o.f;t.attach(this),this.$state.focused=t.focused.bind(t),(0,i.TQ)(L)||(0,i.Pp)(L,{default:"value"}),(0,i.Pp)(E,{orientation:this.$props.orientation,disabled:this.#r.isDisabled,preview:(0,i.O)(null)}),(0,i.QZ)(this.#tt.bind(this)),(0,i.QZ)(this.#et.bind(this)),(0,i.QZ)(this.#st.bind(this)),this.#it(),new I(this.#r,this.#t).attach(this),new V({callback:this.#nt.bind(this)}).attach(this)}onAttach(t){(0,a.jk)(t,"role","slider"),(0,a.jk)(t,"tabindex","0"),(0,a.jk)(t,"autocomplete","off"),(0,i.QZ)(this.#at.bind(this))}onConnect(t){(0,i.zp)((0,a.tD)(t,this.#Y.set)),(0,i.QZ)(this.#rt.bind(this))}#nt(t){this.#X.set(t[0].isIntersecting)}#rt(){const{hidden:t}=this.$props;this.$state.hidden.set(t()||!this.#Y()||!this.#X.bind(this))}#tt(){const{dragging:t,value:e,min:s,max:n}=this.$state;(0,i.se)(t)||e.set(function(t,e,s,i){return(0,h.N)(t,(0,h.LI)(s,(0,h.Q4)(i)),e)}(s(),n(),e(),this.#r.getStep()))}#et(){this.$state.step.set(this.#r.getStep())}#st(){if(!this.#r.isDisabled())return;const{dragging:t,pointing:e}=this.$state;t.set(!1),e.set(!1)}#ot(){return(0,i.ox)(this.#r.isDisabled())}#it(){const{orientation:t}=this.$props,{dragging:e,active:s,pointing:i}=this.$state;this.setAttributes({"data-dragging":e,"data-pointing":i,"data-active":s,"aria-disabled":this.#ot.bind(this),"aria-valuemin":this.#r.aria.valueMin??this.$state.min,"aria-valuemax":this.#r.aria.valueMax??this.$state.max,"aria-valuenow":this.#r.aria.valueNow,"aria-valuetext":this.#r.aria.valueText,"aria-orientation":t})}#at(){const{fillPercent:t,pointerPercent:e}=this.$state;this.#ht((0,h.LI)(t(),3),(0,h.LI)(e(),3))}#ht=(0,i.s_)(((t,e)=>{this.el?.style.setProperty("--slider-fill",t+"%"),this.el?.style.setProperty("--slider-pointer",e+"%")}))}class H extends i.uA{static props={...N.props,min:0,max:100,value:0};static state=C;constructor(){super(),new N({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:this.$props.disabled,aria:{valueNow:this.#dt.bind(this),valueText:this.#lt.bind(this)}})}onSetup(){(0,i.QZ)(this.#tt.bind(this)),(0,i.QZ)(this.#ct.bind(this))}#dt(){const{value:t}=this.$state;return Math.round(t())}#lt(){const{value:t,max:e}=this.$state;return(0,h.LI)(t()/e()*100,2)+"%"}#tt(){const{value:t}=this.$props;this.$state.value.set(t())}#ct(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}}const O=new Map,Q=new Map;class Z{#t;#ut;#pt;$images=(0,i.O)([]);static create(t,e){const s=(0,n.$c)();return new Z(t,e,s)}constructor(t,e,s){this.#ut=t,this.#pt=e,this.#t=s,(0,i.QZ)(this.#mt.bind(this))}#mt(){const{canLoad:t}=this.#t.$state;if(!t())return;const e=this.#ut();if(e){if((0,i.Kg)(e)&&O.has(e)){const t=O.get(e);if(O.delete(e),O.set(e,t),O.size>99){const t=O.keys().next().value;O.delete(t)}this.$images.set(O.get(e))}else if((0,i.Kg)(e)){const t=this.#pt(),n=e+"::"+t;if(!Q.has(n)){const a=new Promise((async(n,a)=>{try{const r=await fetch(e,{credentials:(0,l.WF)(t)});if("application/json"===r.headers.get("content-type")){const t=await r.json();if((0,i.cy)(t))if(t[0]&&"text"in t[0])n(this.#gt(t));else{for(let e=0;e<t.length;e++){const s=t[e];(0,d.v)((0,i.Gv)(s),!1),(0,d.v)("url"in s&&(0,i.Kg)(s.url),!1),(0,d.v)("startTime"in s&&(0,i.Et)(s.startTime),!1)}n(t)}else n(this.#bt(t));return}s.e(3463).then(s.bind(s,3463)).then((async({parseResponse:t})=>{try{const{cues:e}=await t(r);n(this.#gt(e))}catch(t){a(t)}}))}catch(t){a(t)}})).then((t=>(O.set(n,t),t))).catch((t=>{this.#$t(e,t)})).finally((()=>{(0,i.Kg)(n)&&Q.delete(n)}));Q.set(n,a)}Q.get(n)?.then((t=>{this.$images.set(t||[])}))}else if((0,i.cy)(e))try{this.$images.set(this.#vt(e))}catch(t){this.#$t(e,t)}else try{this.$images.set(this.#bt(e))}catch(t){this.#$t(e,t)}return()=>{this.$images.set([])}}}#vt(t){const e=this.#ft();return t.map(((t,s)=>((0,d.v)(t.url&&(0,i.Kg)(t.url)),(0,d.v)("startTime"in t&&(0,i.Et)(t.startTime)),{...t,url:(0,i.Kg)(t.url)?this.#wt(t.url,e):t.url})))}#bt(t){(0,d.v)((0,i.Kg)(t.url)),(0,d.v)((0,i.cy)(t.tiles)&&t.tiles?.length);const e=new URL(t.url),s=[],n="tile_width"in t?t.tile_width:t.tileWidth,a="tile_height"in t?t.tile_height:t.tileHeight;for(const i of t.tiles)s.push({url:e,startTime:"start"in i?i.start:i.startTime,width:n,height:a,coords:{x:i.x,y:i.y}});return s}#gt(t){for(let e=0;e<t.length;e++){const s=t[e];(0,d.v)("startTime"in s&&(0,i.Et)(s.startTime)),(0,d.v)("text"in s&&(0,i.Kg)(s.text))}const e=[],s=this.#ft();for(const n of t){const[t,a]=n.text.split("#"),r=this.#At(a);e.push({url:this.#wt(t,s),startTime:n.startTime,endTime:n.endTime,width:r?.w,height:r?.h,coords:r&&(0,i.Et)(r.x)&&(0,i.Et)(r.y)?{x:r.x,y:r.y}:void 0})}return e}#ft(){let t=(0,i.se)(this.#ut);return(0,i.Kg)(t)&&/^https?:/.test(t)?t:location.href}#wt(t,e){return/^https?:/.test(t)?new URL(t):new URL(t,e)}#At(t){if(!t)return{};const[e,s]=t.split("="),i=s?.split(","),n={};if(!e||!i)return null;for(let t=0;t<e.length;t++){const s=+i[t];isNaN(s)||(n[e[t]]=s)}return n}#$t(t,e){}}class R extends i.uA{static props={src:null,time:0,crossOrigin:null};static state=new i.Uw({src:"",img:null,thumbnails:[],activeThumbnail:null,crossOrigin:null,loading:!1,error:null,hidden:!1});media;#xt;#yt=[];onSetup(){this.media=(0,n.$c)(),this.#xt=Z.create(this.$props.src,this.$state.crossOrigin),this.#St(),this.setAttributes({"data-loading":this.#Tt.bind(this),"data-error":this.#Pt.bind(this),"data-hidden":this.$state.hidden,"aria-hidden":(0,a.Mc)(this.$state.hidden)})}onConnect(t){(0,i.QZ)(this.#kt.bind(this)),(0,i.QZ)(this.#rt.bind(this)),(0,i.QZ)(this.#St.bind(this)),(0,i.QZ)(this.#Ct.bind(this)),(0,i.QZ)(this.#Mt.bind(this)),(0,i.QZ)(this.#Vt.bind(this))}#kt(){const t=this.$state.img();t&&new i.En(t).add("load",this.#Et.bind(this)).add("error",this.#$t.bind(this))}#St(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:s}=this.media.$state,i=null!==t()?t():s();e.set(!0===i?"anonymous":i)}#Ct(){const{src:t,loading:e,error:s}=this.$state;return t()&&(e.set(!0),s.set(null)),()=>{this.#Dt(),e.set(!1),s.set(null)}}#Et(){const{loading:t,error:e}=this.$state;this.#Vt(),t.set(!1),e.set(null)}#$t(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}#Tt(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}#Pt(){const{error:t}=this.$state;return!(0,i.kZ)(t())}#rt(){const{hidden:t}=this.$state,{duration:e}=this.media.$state,s=this.#xt.$images();t.set(this.#Pt()||!Number.isFinite(e())||0===s.length)}getTime(){return this.$props.time()}#Mt(){let t=this.#xt.$images();if(!t.length)return;let e=this.getTime(),{src:s,activeThumbnail:i}=this.$state,n=-1,a=null;for(let s=t.length-1;s>=0;s--){const i=t[s];if(e>=i.startTime&&(!i.endTime||e<i.endTime)){n=s;break}}t[n]&&(a=t[n]),i.set(a),s.set(a?.url.href||"")}#Vt(){if(!this.scope||this.$state.hidden())return;const t=this.el,e=this.$state.img(),s=this.$state.activeThumbnail();if(!e||!s||!t)return;let i=s.width??e.naturalWidth,n=s?.height??e.naturalHeight,{maxWidth:a,maxHeight:r,minWidth:o,minHeight:d,width:l,height:c}=getComputedStyle(this.el);"100%"===o&&(o=parseFloat(l)+""),"100%"===d&&(d=parseFloat(c)+"");let u=Math.max(parseInt(o)/i,parseInt(d)/n),p=Math.min(Math.max(parseInt(o),parseInt(a))/i,Math.max(parseInt(d),parseInt(r))/n),m=!isNaN(p)&&p<1?p:u>1?u:1;this.#_t(t,"--thumbnail-width",i*m+"px"),this.#_t(t,"--thumbnail-height",n*m+"px"),this.#_t(t,"--thumbnail-aspect-ratio",String((0,h.LI)(i/n,5))),this.#_t(e,"width",e.naturalWidth*m+"px"),this.#_t(e,"height",e.naturalHeight*m+"px"),this.#_t(e,"transform",s.coords?`translate(-${s.coords.x*m}px, -${s.coords.y*m}px)`:""),this.#_t(e,"max-width","none")}#_t(t,e,s){t.style.setProperty(e,s),this.#yt.push((()=>t.style.removeProperty(e)))}#Dt(){for(const t of this.#yt)t();this.#yt=[]}}class B extends i.uA{static props={type:"pointer",format:null,showHours:!1,showMs:!1,padHours:null,padMinutes:null,decimalPlaces:2};#It;#Lt;#i;onSetup(){this.#i=(0,i.J0)(H.state),this.#It=(0,i.NT)(L),this.#Lt=(0,i.EW)(this.getValueText.bind(this))}getValueText(){const{type:t,format:e,decimalPlaces:s,padHours:i,padMinutes:n,showHours:a,showMs:r}=this.$props,{value:o,pointerValue:d,min:l,max:c}=this.#i,u=e?.()??this.#It.default,p="current"===t()?o():d();if("percent"===u){const t=p/(c()-l())*100;return(this.#It.percent??h.LI)(t,s())+"%"}return"time"===u?(this.#It.time??b)(p,{padHrs:i(),padMins:n(),showHrs:a(),showMs:r()}):(this.#It.value?.(p)??p.toFixed(2))+""}}const q=B.prototype;(0,i.EJ)(q,"getValueText");class K extends i.uA{static props={offset:0,noClamp:!1};#i;onSetup(){this.#i=(0,i.NT)(E);const{active:t}=(0,i.J0)(H.state);this.setAttributes({"data-visible":t})}onAttach(t){Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){const{preview:e}=this.#i;e.set(t),(0,i.zp)((()=>e.set(null))),(0,i.QZ)(this.#Nt.bind(this));const s=new ResizeObserver(this.#Nt.bind(this));s.observe(t),(0,i.zp)((()=>s.disconnect()))}#Nt=(0,i.s_)((()=>{const{disabled:t,orientation:e}=this.#i;if(t())return;const s=this.el,{offset:i,noClamp:n}=this.$props;s&&function(t,{clamp:e,offset:s,orientation:i}){const n=getComputedStyle(t),a=parseFloat(n.width),r=parseFloat(n.height),o={top:null,right:null,bottom:null,left:null};if(o["horizontal"===i?"bottom":"left"]=`calc(100% + var(--media-slider-preview-offset, ${s}px))`,"horizontal"===i){const t=a/2;if(e){const e=`max(0px, calc(var(--slider-pointer) - ${t}px))`,s=`calc(100% - ${a}px)`;o.left=`min(${e}, ${s})`}else o.left=`calc(var(--slider-pointer) - ${t}px)`}else{const t=r/2;if(e){const e=`max(${t}px, calc(var(--slider-pointer) - ${t}px))`,s=`calc(100% - ${r}px)`;o.bottom=`min(${e}, ${s})`}else o.bottom=`calc(var(--slider-pointer) - ${t}px)`}Object.assign(t.style,o)}(s,{clamp:!n(),offset:i(),orientation:e()})}))}class F extends i.uA{static props={...N.props,keyStep:5,shiftKeyMultiplier:2};static state=C;#t;onSetup(){this.#t=(0,n.$c)();const{audioGain:t}=this.#t.$state;(0,i.Pp)(L,{default:"percent",value:e=>(e*(t()??1)).toFixed(2),percent:e=>Math.round(e*(t()??1))}),new N({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:this.#Ht.bind(this),aria:{valueMax:this.#Ot.bind(this),valueNow:this.#dt.bind(this),valueText:this.#lt.bind(this)},onDragValueChange:this.#Qt.bind(this),onValueChange:this.#Zt.bind(this)}).attach(this),(0,i.QZ)(this.#Rt.bind(this))}onAttach(t){t.setAttribute("data-media-volume-slider",""),(0,a.jk)(t,"aria-label","Volume");const{canSetVolume:e}=this.#t.$state;this.setAttributes({"data-supported":e,"aria-hidden":(0,a.Mc)((()=>!e()))})}#dt(){const{value:t}=this.$state,{audioGain:e}=this.#t.$state;return Math.round(t()*(e()??1))}#lt(){const{value:t,max:e}=this.$state,{audioGain:s}=this.#t.$state;return(0,h.LI)(t()/e()*(s()??1)*100,2)+"%"}#Ot(){const{audioGain:t}=this.#t.$state;return this.$state.max()*(t()??1)}#Ht(){const{disabled:t}=this.$props,{canSetVolume:e}=this.#t.$state;return t()||!e()}#Rt(){const{muted:t,volume:e}=this.#t.$state,s=t()?0:100*e();this.$state.value.set(s),this.dispatch("value-change",{detail:s})}#Bt=(0,i.z3)(this.#qt.bind(this),25);#qt(t){if(!t.trigger)return;const e=(0,h.LI)(t.detail/100,3);this.#t.remote.changeVolume(e,t)}#Zt(t){this.#Bt(t)}#Qt(t){this.#Bt(t)}}class U extends i.uA{static props={...N.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,noSwipeGesture:!1,seekingRequestThrottle:100};static state=C;#t;#Kt;#Ft=(0,i.O)(null);constructor(){super();const{noSwipeGesture:t}=this.$props;new N({swipeGesture:()=>!t(),getValue:this.#Ut.bind(this),getStep:this.#zt.bind(this),getKeyStep:this.#jt.bind(this),roundValue:this.#Wt,isDisabled:this.#Ht.bind(this),aria:{valueNow:this.#dt.bind(this),valueText:this.#lt.bind(this)},onDragStart:this.#Gt.bind(this),onDragValueChange:this.#Qt.bind(this),onDragEnd:this.#Jt.bind(this),onValueChange:this.#Zt.bind(this)})}onSetup(){this.#t=(0,n.$c)(),(0,i.Pp)(L,{default:"time",value:this.#Yt.bind(this),time:this.#Xt.bind(this)}),this.setAttributes({"data-chapters":this.#te.bind(this)}),this.setStyles({"--slider-progress":this.#ee.bind(this)}),(0,i.QZ)(this.#se.bind(this)),(0,i.QZ)(this.#ie.bind(this))}onAttach(t){t.setAttribute("data-media-time-slider",""),(0,a.jk)(t,"aria-label","Seek")}onConnect(t){(0,i.QZ)(this.#ne.bind(this)),(0,c.q)(this.#t.textTracks,"chapters",this.#Ft.set)}#ee(){const{bufferedEnd:t,duration:e}=this.#t.$state;return(0,h.LI)(100*Math.min(t()/Math.max(e(),1),1),3)+"%"}#te(){const{duration:t}=this.#t.$state;return this.#Ft()?.cues.length&&Number.isFinite(t())&&t()>0}#ie(){this.#Kt=(0,i.z3)(this.#ae.bind(this),this.$props.seekingRequestThrottle())}#se(){if(this.$state.hidden())return;const{value:t,dragging:e}=this.$state,s=this.#Ut();(0,i.se)(e)||(t.set(s),this.dispatch("value-change",{detail:s}))}#ne(){const t=this.#t.player.el,{preview:e}=(0,i.NT)(E);t&&e()&&(0,i.Bq)(t,"data-preview",this.$state.active())}#ae(t,e){this.#t.remote.seeking(t,e)}#re(t,e,s){this.#Kt.cancel();const{live:i}=this.#t.$state;i()&&e>=99?this.#t.remote.seekToLiveEdge(s):this.#t.remote.seek(t,s)}#oe=!1;#Gt(t){const{pauseWhileDragging:e}=this.$props;if(e()){const{paused:e}=this.#t.$state;this.#oe=!e(),this.#t.remote.pause(t)}}#Qt(t){this.#Kt(this.#he(t.detail),t)}#Jt(t){const{seeking:e}=this.#t.$state;(0,i.se)(e)||this.#ae(this.#he(t.detail),t);const s=t.detail;this.#re(this.#he(s),s,t);const{pauseWhileDragging:n}=this.$props;n()&&this.#oe&&(this.#t.remote.play(t),this.#oe=!1)}#Zt(t){const{dragging:e}=this.$state;!e()&&t.trigger&&this.#Jt(t)}#Ut(){const{currentTime:t}=this.#t.$state;return this.#de(t())}#zt(){const t=this.$props.step()/this.#t.$state.duration()*100;return Number.isFinite(t)?t:1}#jt(){const t=this.$props.keyStep()/this.#t.$state.duration()*100;return Number.isFinite(t)?t:1}#Wt(t){return(0,h.LI)(t,3)}#Ht(){const{disabled:t}=this.$props,{canSeek:e}=this.#t.$state;return t()||!e()}#dt(){const{value:t}=this.$state;return Math.round(t())}#lt(){const t=this.#he(this.$state.value()),{duration:e}=this.#t.$state;return Number.isFinite(t)?`${$(t)} out of ${$(e())}`:"live"}#he(t){const{duration:e}=this.#t.$state;return(0,h.LI)(t/100*e(),5)}#de(t){const{liveEdge:e,duration:s}=this.#t.$state,i=Math.max(0,Math.min(1,e()?1:Math.min(t,s())/s()));return Number.isNaN(i)?0:Number.isFinite(i)?100*i:100}#Yt(t){const e=this.#he(t),{live:s,duration:i}=this.#t.$state;return Number.isFinite(e)?(s()?e-i():e).toFixed(0):"LIVE"}#Xt(t,e){const s=this.#he(t),{live:i,duration:n}=this.#t.$state,a=i()?s-n():s;return Number.isFinite(s)?`${a<0?"-":""}${b(Math.abs(a),e)}`:"LIVE"}}const z=(0,i.q6)();const j=["a[href]","[tabindex]","input","select","button"].map((t=>`${t}:not([aria-hidden='true'])`)).join(","),W=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);class G{#le=-1;#ce=null;#ue=[];#r;get items(){return this.#ue}constructor(t){this.#r=t}attachMenu(t){(0,i.k6)(t,"focus",this.#I.bind(this)),this.#ce=t,(0,i.zp)((()=>{this.#ce=null}))}listen(){this.#ce&&(this.update(),new i.En(this.#ce).add("keyup",this.#L.bind(this)).add("keydown",this.#N.bind(this)),(0,i.zp)((()=>{this.#le=-1,this.#ue=[]})))}update(){this.#le=0,this.#ue=this.#pe()}scroll(t=this.#me()){const e=this.#ue[t];e&&requestAnimationFrame((()=>{requestAnimationFrame((()=>{!function(t,e={}){!function(t,e){const s=(0,i.r)(t,e);for(const{el:t,top:i,left:n}of s)t.scroll({top:i,left:n,behavior:e.behavior})}(t,{scrollMode:"if-needed",block:"center",inline:"center",...e})}(e,{behavior:"smooth",boundary:t=>!t.hasAttribute("data-root")})}))}))}focusActive(t=!0){const e=this.#me();this.#ge(e>=0?e:0,t)}#ge(t,e=!0){this.#le=t,this.#ue[t]?(this.#ue[t].focus({preventScroll:!0}),e&&this.scroll(t)):this.#ce?.focus({preventScroll:!0})}#me(){return this.#ue.findIndex((t=>document.activeElement===t||"menuitemradio"===t.getAttribute("role")&&"true"===t.getAttribute("aria-checked")))}#I(){this.#le>=0||(this.update(),this.focusActive())}#be(t){const e=t.target;if((0,i.hN)(t)&&e instanceof Element){const t=e.getAttribute("role");return!/a|input|select|button/.test(e.localName)&&!t}return W.has(t.key)}#L(t){this.#be(t)&&(t.stopPropagation(),t.preventDefault())}#N(t){if(this.#be(t))switch(t.stopPropagation(),t.preventDefault(),t.key){case"Escape":this.#r.closeMenu(t);break;case"Tab":this.#ge(this.#$e(t.shiftKey?-1:1));break;case"ArrowUp":this.#ge(this.#$e(-1));break;case"ArrowDown":this.#ge(this.#$e(1));break;case"Home":case"PageUp":this.#ge(0);break;case"End":case"PageDown":this.#ge(this.#ue.length-1)}}#$e(t){let e=this.#le;do{e=(e+t+this.#ue.length)%this.#ue.length}while(null===this.#ue[e]?.offsetParent);return e}#pe(){if(!this.#ce)return[];const t=this.#ce.querySelectorAll(j),e=[],s=t=>"menu"===t.getAttribute("role");for(const i of t)(0,a.sb)(i)&&null!==i.offsetParent&&(0,a.D0)(this.#ce,i,s)&&e.push(i);return e}}var J=Object.defineProperty,Y=Object.getOwnPropertyDescriptor,X=(t,e,s,i)=>{for(var n,a=Y(e,s),r=t.length-1;r>=0;r--)(n=t[r])&&(a=n(e,s,a)||a);return a&&J(e,s,a),a};let tt=0;class et extends i.uA{static props={showDelay:0};#t;#ve;#fe;#we=(0,i.O)(!1);#Ae=(0,i.O)(!1);#xe=(0,i.O)(null);#ye=(0,i.O)(null);#Se;#Te=new Set;#Pe=null;#ke;#Ce;#Me=!1;#Ve=(0,i.O)(!1);#Ee=new Set;get triggerElement(){return this.#xe()}get contentElement(){return this.#ye()}get isSubmenu(){return!!this.#Se}constructor(){super();const{showDelay:t}=this.$props;this.#ke=new v({trigger:this.#xe,content:this.#ye,showDelay:t,listen:(t,e,s)=>{(0,a.$)(t,(t=>{this.#we()?s(t):e(t)}));const i=this.#De();i&&(0,a.$)(i,(t=>{t.stopPropagation(),s(t)}))},onChange:this.#_e.bind(this)})}onSetup(){this.#t=(0,n.$c)();const t=++tt;this.#ve=`media-menu-${t}`,this.#fe=`media-menu-button-${t}`,this.#Ce=new G({closeMenu:this.close.bind(this)}),(0,i.TQ)(z)&&(this.#Se=(0,i.NT)(z)),this.#Ie(),this.setAttributes({"data-open":this.#we,"data-root":!this.isSubmenu,"data-submenu":this.isSubmenu,"data-disabled":this.#Ht.bind(this)}),(0,i.Pp)(z,{button:this.#xe,content:this.#ye,expanded:this.#we,hint:(0,i.O)(""),submenu:!!this.#Se,disable:this.#Le.bind(this),attachMenuButton:this.#Ne.bind(this),attachMenuItems:this.#He.bind(this),attachObserver:this.#Oe.bind(this),disableMenuButton:this.#Qe.bind(this),addSubmenu:this.#Ze.bind(this),onTransitionEvent:t=>{this.#Ee.add(t),(0,i.zp)((()=>{this.#Ee.delete(t)}))}})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){(0,i.QZ)(this.#Re.bind(this)),this.isSubmenu&&this.#Se?.addSubmenu(this)}onDestroy(){this.#xe.set(null),this.#ye.set(null),this.#Pe=null,this.#Ee.clear()}#Ie(){let t=-1,e=(0,i.TQ)(D)?(0,i.NT)(D):null;(0,i.Pp)(D,{onDragStart:()=>{e?.onDragStart?.(),window.clearTimeout(t),t=-1,this.#Me=!0},onDragEnd:()=>{e?.onDragEnd?.(),t=window.setTimeout((()=>{this.#Me=!1,t=-1}),300)}})}#Re(){const t=this.#Be();this.isSubmenu||this.#qe(),this.#Ke(t),t&&((0,i.QZ)((()=>{const{height:t}=this.#t.$state,e=this.#ye();e&&(0,i.eC)(e,"--player-height",t()+"px")})),this.#Ce.listen(),this.listen("pointerup",this.#Fe.bind(this)),(0,i.k6)(window,"pointerup",this.#Ue.bind(this)))}#Ne(t){const e=t.el,s=this.isSubmenu,n=(0,a.Mc)(this.#Ht.bind(this));(0,a.jk)(e,"tabindex",s?"-1":"0"),(0,a.jk)(e,"role",s?"menuitem":"button"),(0,i.Bq)(e,"id",this.#fe),(0,i.Bq)(e,"aria-haspopup","menu"),(0,i.Bq)(e,"aria-expanded","false"),(0,i.Bq)(e,"data-root",!this.isSubmenu),(0,i.Bq)(e,"data-submenu",this.isSubmenu),(0,i.QZ)((()=>{(0,i.Bq)(e,"data-open",this.#we()),(0,i.Bq)(e,"aria-disabled",n())})),this.#xe.set(e),(0,i.zp)((()=>{this.#xe.set(null)}))}#He(t){const e=t.el;e.style.setProperty("display","none"),(0,i.Bq)(e,"id",this.#ve),(0,a.jk)(e,"role","menu"),(0,a.jk)(e,"tabindex","-1"),(0,i.Bq)(e,"data-root",!this.isSubmenu),(0,i.Bq)(e,"data-submenu",this.isSubmenu),this.#ye.set(e),(0,i.zp)((()=>this.#ye.set(null))),(0,i.QZ)((()=>(0,i.Bq)(e,"data-open",this.#we()))),this.#Ce.attachMenu(e),this.#Ke(!1);const s=this.#ze.bind(this);this.isSubmenu?this.#Se?.onTransitionEvent(s):(t.listen("transitionstart",s),t.listen("transitionend",s),t.listen("animationend",this.#qe),t.listen("vds-menu-resize",this.#qe))}#Oe(t){this.#Pe=t}#Ke(t){const e=(0,i.se)(this.#ye);e&&(0,i.Bq)(e,"aria-hidden",(0,i.ox)(!t))}#Qe(t){this.#Ve.set(t)}#je=!1;#_e(t,e){if(this.#je=(0,i.kx)(e),e?.stopPropagation(),this.#we()===t)return;if(this.#Ht())return void(t&&this.#ke.hide(e));this.el?.dispatchEvent(new Event("vds-menu-resize",{bubbles:!0,composed:!0}));const s=this.#xe(),n=this.#ye();if(s&&((0,i.Bq)(s,"aria-controls",t&&this.#ve),(0,i.Bq)(s,"aria-expanded",(0,i.ox)(t))),n&&(0,i.Bq)(n,"aria-labelledby",t&&this.#fe),this.#we.set(t),this.#We(e),(0,i.io)(),this.#je){t?n?.focus():s?.focus();for(const t of[this.el,n])t&&t.setAttribute("data-keyboard","")}else for(const t of[this.el,n])t&&t.removeAttribute("data-keyboard");if(this.dispatch(t?"open":"close",{trigger:e}),t)this.isSubmenu||this.#t.activeMenu===this||(this.#t.activeMenu?.close(e),this.#t.activeMenu=this),this.#Pe?.onOpen?.(e);else{if(this.isSubmenu)for(const t of this.#Te)t.close(e);else this.#t.activeMenu=null;this.#Pe?.onClose?.(e)}t&&requestAnimationFrame(this.#Ge.bind(this))}#Ge(){this.#Je||this.#Ye||(this.#Ce.update(),requestAnimationFrame((()=>{this.#je?this.#Ce.focusActive():this.#Ce.scroll()})))}#Be(){return!this.#Ht()&&this.#we()}#Ht(){return this.#Ae()||this.#Ve()}#Le(t){this.#Ae.set(t)}#Fe(t){const e=this.#ye();this.#Me||e&&(0,a.Dq)(e,t)||t.stopPropagation()}#Ue(t){const e=this.#ye();this.#Me||e&&(0,a.Dq)(e,t)||this.close(t)}#De(){const t=this.el?.querySelector('[data-part="close-target"]');return this.el&&t&&(0,a.D0)(this.el,t,(t=>"menu"===t.getAttribute("role")))?t:null}#We(t){this.isSubmenu||(this.#we()?this.#t.remote.pauseControls(t):this.#t.remote.resumeControls(t))}#Ze(t){this.#Te.add(t),new i.En(t).add("open",this.#Xe).add("close",this.#ts),(0,i.zp)(this.#es)}#es=this.#ss.bind(this);#ss(t){this.#Te.delete(t)}#Ye=!1;#Xe=this.#is.bind(this);#is(t){this.#Ye=!0;const e=this.#ye();this.isSubmenu&&this.triggerElement?.setAttribute("aria-hidden","true");for(const e of this.#Te)if(e!==t.target)for(const t of[e.el,e.triggerElement])t?.setAttribute("aria-hidden","true");if(e){const s=t.target.el;for(const t of e.children)t.contains(s)?t.setAttribute("data-open",""):t!==s&&t.setAttribute("data-hidden","")}}#ts=this.#ns.bind(this);#ns(t){this.#Ye=!1;const e=this.#ye();this.isSubmenu&&this.triggerElement?.setAttribute("aria-hidden","false");for(const t of this.#Te)for(const e of[t.el,t.triggerElement])e?.setAttribute("aria-hidden","false");if(e)for(const t of e.children)t.removeAttribute("data-open"),t.removeAttribute("data-hidden")}#qe=(0,i.s_)((()=>{const t=(0,i.se)(this.#ye);if(!t)return;let e=0,s=getComputedStyle(t),n=[...t.children];for(const t of["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"])e+=parseFloat(s[t])||0;for(const t of n)if((0,a.sb)(t)&&"contents"===t.style.display)n.push(...t.children);else if(3===t.nodeType)e+=parseFloat(getComputedStyle(t).fontSize);else if((0,a.sb)(t)){if(!(0,a.J9)(t))continue;const s=getComputedStyle(t);e+=t.offsetHeight+(parseFloat(s.marginTop)||0)+(parseFloat(s.marginBottom)||0)}(0,i.eC)(t,"--menu-height",e+"px")}));#Je=!1;#ze(t){const e=this.#ye();e&&"height"===t.propertyName&&(this.#Je="transitionstart"===t.type,(0,i.Bq)(e,"data-transition",this.#Je?"height":null),this.#we()&&this.#Ge());for(const e of this.#Ee)e(t)}open(t){(0,i.se)(this.#we)||(this.#ke.show(t),(0,i.io)())}close(t){(0,i.se)(this.#we)&&(this.#ke.hide(t),(0,i.io)())}}X([i._w],et.prototype,"triggerElement"),X([i._w],et.prototype,"contentElement"),X([i._w],et.prototype,"isSubmenu"),X([i.EJ],et.prototype,"open"),X([i.EJ],et.prototype,"close");class st extends i.uA{static props={disabled:!1};#as;#rs=(0,i.O)(null);get expanded(){return this.#as?.expanded()??!1}constructor(){super(),new o.f}onSetup(){this.#as=(0,i.NT)(z)}onAttach(t){this.#as.attachMenuButton(this),(0,i.QZ)(this.#st.bind(this)),(0,a.jk)(t,"type","button")}onConnect(t){(0,i.QZ)(this.#os.bind(this)),this.#hs();const e=new MutationObserver(this.#hs.bind(this));e.observe(t,{attributeFilter:["data-part"],childList:!0,subtree:!0}),(0,i.zp)((()=>e.disconnect())),(0,a.$)(t,(t=>{this.dispatch("select",{trigger:t})}))}#st(){this.#as.disableMenuButton(this.$props.disabled())}#os(){const t=this.#rs();t&&(0,i.QZ)((()=>{const e=this.#as.hint();e&&(t.textContent=e)}))}#hs(){const t=this.el?.querySelector('[data-part="hint"]');this.#rs.set(t??null)}}const it=st.prototype;(0,i._w)(it,"expanded");class nt extends st{}class at extends i.uA{static props={container:null,disabled:!1};#ds=null;#t;onSetup(){this.#t=(0,n.$c)(),(0,i.Pp)(rt,{attach:this.#ls.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){}onDestroy(){this.#ds?.remove(),this.#ds=null}#ls(t){this.#cs(!1),this.#ds=t,(0,a.jx)((()=>{(0,a.jx)((()=>{this.connectScope&&(0,i.QZ)(this.#st.bind(this))}))}))}#st(){const{fullscreen:t}=this.#t.$state,{disabled:e}=this.$props;this.#cs("fullscreen"===e()?!t():!e())}#cs(t){if(!this.#ds)return;let e=this.#us(this.$props.container());if(!e)return;const s=this.#ds.parentElement===e;(0,i.Bq)(this.#ds,"data-portal",t),t?s||(this.#ds.remove(),e.append(this.#ds)):s&&this.#ds.parentElement===e&&(this.#ds.remove(),this.el?.append(this.#ds))}#us(t){return(0,a.sb)(t)?t:t?document.querySelector(t):document.body}}const rt=(0,i.q6)();class ot extends i.uA{static props={placement:null,offset:0,alignOffset:0};#as;constructor(){super(),new o.f;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){if(this.#as=(0,i.NT)(z),this.#as.attachMenuItems(this),(0,i.TQ)(rt)){const e=(0,i.NT)(rt);e&&((0,i.Pp)(rt,null),e.attach(t),(0,i.zp)((()=>e.attach(null))))}}onConnect(t){(0,i.QZ)(this.#ps.bind(this))}#ps(){const{expanded:t}=this.#as;if(!this.el||!t())return;const e=this.$props.placement();if(!e)return;Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});const{offset:s,alignOffset:n}=this.$props;(0,i.zp)((0,a.RK)(this.el,this.#ms(),e,{offsetVarName:"media-menu",xOffset:n(),yOffset:s()})),(0,i.zp)(this.#gs.bind(this))}#gs(){this.el&&(this.el.removeAttribute("style"),this.el.style.display="none")}#ms(){return this.#as.button()}}const ht=(0,i.q6)();class dt extends i.WO{#bs=new Set;#$s=(0,i.O)("");#vs=null;onValueChange;get values(){return Array.from(this.#bs).map((t=>t.value()))}get value(){return this.#$s()}set value(t){this.#fs(t)}onSetup(){(0,i.Pp)(ht,{add:this.#ws.bind(this),remove:this.#As.bind(this)})}onAttach(t){(0,i.TQ)(z)||(0,a.jk)(t,"role","radiogroup"),this.setAttributes({value:this.#$s})}onDestroy(){this.#bs.clear()}#ws(t){this.#bs.has(t)||(this.#bs.add(t),t.onCheck=this.#xs,t.check(t.value()===this.#$s()))}#As(t){t.onCheck=null,this.#bs.delete(t)}#xs=this.#fs.bind(this);#fs(t,e){const s=(0,i.se)(this.#$s);if(!t||t===s)return;const n=this.#ys(s),a=this.#ys(t);n?.check(!1,e),a?.check(!0,e),this.#$s.set(t),this.onValueChange?.(t,e)}#ys(t){for(const e of this.#bs)if(t===(0,i.se)(e.value))return e;return null}}class lt extends i.uA{static props={value:""};#Ss=(0,i.O)(!1);#vs={value:this.$props.value,check:this.#Ts.bind(this),onCheck:null};get checked(){return this.#Ss()}constructor(){super(),new o.f}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":this.#Ss,"aria-checked":(0,a.Mc)(this.#Ss)})}onAttach(t){const e=(0,i.TQ)(z);(0,a.jk)(t,"tabindex",e?"-1":"0"),(0,a.jk)(t,"role",e?"menuitemradio":"radio"),(0,i.QZ)(this.#tt.bind(this))}onConnect(t){this.#Ps(),(0,a.$)(t,this.#$.bind(this)),(0,i.zp)(this.#S.bind(this))}#S(){(0,i.P1)((()=>{(0,i.NT)(ht).remove(this.#vs)}),this.connectScope)}#Ps(){(0,i.NT)(ht).add(this.#vs)}#tt(){const{value:t}=this.$props,e=t();(0,i.se)(this.#Ss)&&this.#vs.onCheck?.(e)}#$(t){(0,i.se)(this.#Ss)||(this.#fs(!0,t),this.#ks(t),this.#vs.onCheck?.((0,i.se)(this.$props.value),t))}#Ts(t,e){(0,i.se)(this.#Ss)!==t&&this.#fs(t,e)}#fs(t,e){this.#Ss.set(t),this.dispatch("change",{detail:t,trigger:e})}#ks(t){this.dispatch("select",{trigger:t})}}const ct=lt.prototype;(0,i._w)(ct,"checked");class ut extends i.uA{static props={emptyLabel:"Default"};#as;#t;#vs;get value(){return this.#vs.value}get disabled(){const{audioTracks:t}=this.#t.$state;return t().length<=1}constructor(){super(),this.#vs=new dt,this.#vs.onValueChange=this.#Zt.bind(this)}onSetup(){this.#t=(0,n.$c)(),(0,i.TQ)(z)&&(this.#as=(0,i.NT)(z))}onConnect(t){(0,i.QZ)(this.#tt.bind(this)),(0,i.QZ)(this.#Cs.bind(this)),(0,i.QZ)(this.#Ms.bind(this))}getOptions(){const{audioTracks:t}=this.#t.$state;return t().map((t=>({track:t,label:t.label,value:t.label.toLowerCase()})))}#tt(){this.#vs.value=this.#Ut()}#Ms(){const{emptyLabel:t}=this.$props,{audioTrack:e}=this.#t.$state,s=e();this.#as?.hint.set(s?.label??t())}#Cs(){this.#as?.disable(this.disabled)}#Ut(){const{audioTrack:t}=this.#t.$state,e=t();return e?e.label.toLowerCase():""}#Zt(t,e){if(this.disabled)return;const s=this.#t.audioTracks.toArray().findIndex((e=>e.label.toLowerCase()===t));if(s>=0){const t=this.#t.audioTracks[s];this.#t.remote.changeAudioTrack(s,e),this.dispatch("change",{detail:t,trigger:e})}}}const pt=ut.prototype;(0,i._w)(pt,"value"),(0,i._w)(pt,"disabled"),(0,i.EJ)(pt,"getOptions");class mt extends i.uA{static props={offLabel:"Off"};#t;#as;#vs;get value(){return this.#vs.value}get disabled(){const{hasCaptions:t}=this.#t.$state;return!t()}constructor(){super(),this.#vs=new dt,this.#vs.onValueChange=this.#Zt.bind(this)}onSetup(){this.#t=(0,n.$c)(),(0,i.TQ)(z)&&(this.#as=(0,i.NT)(z))}onConnect(t){super.onConnect?.(t),(0,i.QZ)(this.#tt.bind(this)),(0,i.QZ)(this.#Cs.bind(this)),(0,i.QZ)(this.#Ms.bind(this))}getOptions(){const{offLabel:t}=this.$props,{textTracks:e}=this.#t.$state;return[{value:"off",label:t},...e().filter(r._k).map((t=>({track:t,label:t.label,value:this.#Vs(t)})))]}#tt(){this.#vs.value=this.#Ut()}#Ms(){const{offLabel:t}=this.$props,{textTrack:e}=this.#t.$state,s=e();this.#as?.hint.set(s&&(0,r._k)(s)&&"showing"===s.mode?s.label:t())}#Cs(){this.#as?.disable(this.disabled)}#Ut(){const{textTrack:t}=this.#t.$state,e=t();return e&&(0,r._k)(e)&&"showing"===e.mode?this.#Vs(e):"off"}#Zt(t,e){if(this.disabled)return;if("off"===t){const t=this.#t.textTracks.selected;if(t){const s=this.#t.textTracks.indexOf(t);this.#t.remote.changeTextTrackMode(s,"disabled",e),this.dispatch("change",{detail:null,trigger:e})}return}const s=this.#t.textTracks.toArray().findIndex((e=>this.#Vs(e)===t));if(s>=0){const t=this.#t.textTracks[s];this.#t.remote.changeTextTrackMode(s,"showing",e),this.dispatch("change",{detail:t,trigger:e})}}#Vs(t){return t.id+":"+t.kind+"-"+t.label.toLowerCase()}}const gt=mt.prototype;(0,i._w)(gt,"value"),(0,i._w)(gt,"disabled"),(0,i.EJ)(gt,"getOptions");const bt=[.25,.5,.75,1,1.25,1.5,1.75,2];class $t extends i.uA{static props={normalLabel:"Normal",rates:bt};#t;#as;#vs;get value(){return this.#vs.value}get disabled(){const{rates:t}=this.$props,{canSetPlaybackRate:e}=this.#t.$state;return!e()||0===t().length}constructor(){super(),this.#vs=new dt,this.#vs.onValueChange=this.#Zt.bind(this)}onSetup(){this.#t=(0,n.$c)(),(0,i.TQ)(z)&&(this.#as=(0,i.NT)(z))}onConnect(t){(0,i.QZ)(this.#tt.bind(this)),(0,i.QZ)(this.#Ms.bind(this)),(0,i.QZ)(this.#Cs.bind(this))}getOptions(){const{rates:t,normalLabel:e}=this.$props;return t().map((t=>({label:1===t?e:t+"",value:t.toString()})))}#tt(){this.#vs.value=this.#Ut()}#Ms(){const{normalLabel:t}=this.$props,{playbackRate:e}=this.#t.$state,s=e();this.#as?.hint.set(1===s?t():s+"")}#Cs(){this.#as?.disable(this.disabled)}#Ut(){const{playbackRate:t}=this.#t.$state;return t().toString()}#Zt(t,e){if(this.disabled)return;const s=+t;this.#t.remote.changePlaybackRate(s,e),this.dispatch("change",{detail:s,trigger:e})}}const vt=$t.prototype;(0,i._w)(vt,"value"),(0,i._w)(vt,"disabled"),(0,i.EJ)(vt,"getOptions");class ft extends i.uA{static props={autoLabel:"Auto",hideBitrate:!1,sort:"descending"};#t;#as;#vs;get value(){return this.#vs.value}get disabled(){const{canSetQuality:t,qualities:e}=this.#t.$state;return!t()||e().length<=1}#Es=(0,i.EW)((()=>{const{sort:t}=this.$props,{qualities:e}=this.#t.$state;return(0,u.F)(e(),"descending"===t())}));constructor(){super(),this.#vs=new dt,this.#vs.onValueChange=this.#Zt.bind(this)}onSetup(){this.#t=(0,n.$c)(),(0,i.TQ)(z)&&(this.#as=(0,i.NT)(z))}onConnect(t){(0,i.QZ)(this.#tt.bind(this)),(0,i.QZ)(this.#Cs.bind(this)),(0,i.QZ)(this.#Ms.bind(this))}getOptions(){const{autoLabel:t,hideBitrate:e}=this.$props;return[{value:"auto",label:t},...this.#Es().map((t=>{const s=t.bitrate&&t.bitrate>=0?`${(0,h.LI)(t.bitrate/1e6,2)} Mbps`:null;return{quality:t,label:t.height+"p",value:this.#Ds(t),bitrate:()=>e()?null:s}}))]}#tt(){this.#vs.value=this.#Ut()}#Ms(){const{autoLabel:t}=this.$props,{autoQuality:e,quality:s}=this.#t.$state,i=s()?s().height+"p":"";this.#as?.hint.set(e()?t()+(i?` (${i})`:""):i)}#Cs(){this.#as?.disable(this.disabled)}#Zt(t,e){if(this.disabled)return;if("auto"===t)return this.#t.remote.changeQuality(-1,e),void this.dispatch("change",{detail:"auto",trigger:e});const{qualities:s}=this.#t.$state,n=(0,i.se)(s).findIndex((e=>this.#Ds(e)===t));if(n>=0){const t=(0,i.se)(s)[n];this.#t.remote.changeQuality(n,e),this.dispatch("change",{detail:t,trigger:e})}}#Ut(){const{quality:t,autoQuality:e}=this.#t.$state;if(e())return"auto";const s=t();return s?this.#Ds(s):"auto"}#Ds(t){return t.height+"_"+t.bitrate}}const wt=ft.prototype;(0,i._w)(wt,"value"),(0,i._w)(wt,"disabled"),(0,i.EJ)(wt,"getOptions");class At extends i.uA{static props={type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1,toggle:!1,hidden:!1};static state=new i.Uw({timeText:"",hidden:!1});#t;#_s=(0,i.O)(null);#Y=(0,i.O)(!0);#X=(0,i.O)(!0);onSetup(){this.#t=(0,n.$c)(),this.#n();const{type:t}=this.$props;this.setAttributes({"data-type":t,"data-remainder":this.#Is.bind(this)}),new V({callback:this.#nt.bind(this)}).attach(this)}onAttach(t){t.hasAttribute("role")||(0,i.QZ)(this.#Ls.bind(this)),(0,i.QZ)(this.#n.bind(this))}onConnect(t){(0,i.zp)((0,a.tD)(t,this.#Y.set)),(0,i.QZ)(this.#rt.bind(this)),(0,i.QZ)(this.#Ns.bind(this))}#nt(t){this.#X.set(t[0].isIntersecting)}#rt(){const{hidden:t}=this.$props;this.$state.hidden.set(t()||!this.#Y()||!this.#X())}#Ns(){this.$props.toggle()?this.el&&(0,a.$)(this.el,this.#Hs.bind(this)):this.#_s.set(null)}#n(){const{hidden:t,timeText:e}=this.$state,{duration:s}=this.#t.$state;if(t())return;const{type:i,padHours:n,padMinutes:a,showHours:r}=this.$props,o=this.#Os(i()),h=s(),d=this.#Is();if(!Number.isFinite(o+h))return void e.set("LIVE");const l=b(d?Math.max(0,h-o):o,{padHrs:n(),padMins:a(),showHrs:r()});e.set((d?"-":"")+l)}#Ls(){if(!this.el)return;const{toggle:t}=this.$props;(0,i.Bq)(this.el,"role",t()?"timer":null),(0,i.Bq)(this.el,"tabindex",t()?0:null)}#Os(t){const{bufferedEnd:e,duration:s,currentTime:i}=this.#t.$state;switch(t){case"buffered":return e();case"duration":return s();default:return i()}}#Is(){return this.$props.remainder()&&!1!==this.#_s()}#Hs(t){t.preventDefault(),null!==this.#_s()?this.#_s.set((t=>!t)):this.#_s.set(!this.$props.remainder())}}},5298:(t,e,s)=>{s.d(e,{MediaPosterElement:()=>o});var i=s(4487),n=s(9469),a=s(3362);class r extends i.uA{static props={src:null,alt:null,crossOrigin:null};static state=new i.Uw({img:null,src:null,alt:null,crossOrigin:null,loading:!0,error:null,hidden:!1});#t;onSetup(){this.#t=(0,n.$c)(),this.#Qs(),this.#Zs(),this.#St(),this.#rt()}onAttach(t){t.style.setProperty("pointer-events","none"),(0,i.QZ)(this.#kt.bind(this)),(0,i.QZ)(this.#Qs.bind(this)),(0,i.QZ)(this.#Zs.bind(this)),(0,i.QZ)(this.#St.bind(this)),(0,i.QZ)(this.#rt.bind(this));const{started:e}=this.#t.$state;this.setAttributes({"data-visible":()=>!e()&&!this.$state.hidden(),"data-loading":this.#Tt.bind(this),"data-error":this.#Pt.bind(this),"data-hidden":this.$state.hidden})}onConnect(t){(0,i.QZ)(this.#Rs.bind(this)),(0,i.QZ)(this.#Ct.bind(this))}#Pt(){const{error:t}=this.$state;return!(0,i.kZ)(t())}#Rs(){const{canLoadPoster:t,poster:e}=this.#t.$state;!t()&&e()&&(0,a.kZ)(e(),"preconnect")}#rt(){const{src:t}=this.$props,{poster:e,nativeControls:s}=this.#t.$state;this.el&&(0,i.Bq)(this.el,"display",s()?"none":null),this.$state.hidden.set(this.#Pt()||!(t()||e())||s())}#Tt(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}#kt(){const t=this.$state.img();t&&(new i.En(t).add("load",this.#Bs.bind(this)).add("error",this.#$t.bind(this)),t.complete&&this.#Bs())}#qs="";#Qs(){const{poster:t}=this.#t.$props,{canLoadPoster:e,providedPoster:s,inferredPoster:i}=this.#t.$state,n=this.$props.src()||"",a=n||t()||i();this.#qs===s()&&s.set(n),this.$state.src.set(e()&&a.length?a:null),this.#qs=n}#Zs(){const{src:t}=this.$props,{alt:e}=this.$state,{poster:s}=this.#t.$state;e.set(t()||s()?this.$props.alt():null)}#St(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:s,poster:i}=this.#t.$state,n=null!==t()?t():s();e.set(/ytimg\.com|vimeo/.test(i()||"")?null:!0===n?"anonymous":n)}#Ct(){const{loading:t,error:e}=this.$state,{canLoadPoster:s,poster:i}=this.#t.$state;t.set(s()&&!!i()),e.set(null)}#Bs(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null)}#$t(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}}class o extends((0,i.xr)(HTMLElement,r)){static tagName="media-poster";static attrs={crossOrigin:"crossorigin"};#e=document.createElement("img");onSetup(){this.$state.img.set(this.#e)}onConnect(){const{src:t,alt:e,crossOrigin:s}=this.$state;(0,i.QZ)((()=>{const{loading:t,hidden:e}=this.$state;this.#e.style.display=t()||e()?"none":""})),(0,i.QZ)((()=>{(0,i.Bq)(this.#e,"alt",e()),(0,i.Bq)(this.#e,"crossorigin",s()),(0,i.Bq)(this.#e,"src",t())})),this.#e.parentNode!==this&&this.prepend(this.#e)}}},7243:(t,e,s)=>{function i(t,e){return[...t].sort(e?a:n)}function n(t,e){return t.height===e.height?(t.bitrate??0)-(e.bitrate??0):t.height-e.height}function a(t,e){return e.height===t.height?(e.bitrate??0)-(t.bitrate??0):e.height-t.height}s.d(e,{F:()=>i})}}]);
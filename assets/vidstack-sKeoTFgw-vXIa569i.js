var fr=Object.getPrototypeOf;var pr=Reflect.get;var Xe=(i,t,e)=>pr(fr(i),e,t);import{_ as lt}from"./app-hIMIqkOU.js";const Y=Symbol(0);let ge=!1,as=!1,tt=null,Dt=null,Q=null,V=0,Lt=[],Ts={};const br=()=>{},Ft=0,xn=1,Xt=2,qe=3;function mr(){ge=!0,queueMicrotask(kn)}function kn(){if(!Lt.length){ge=!1;return}as=!0;for(let i=0;i<Lt.length;i++)Lt[i].$st!==Ft&&gr(Lt[i]);Lt=[],ge=!1,as=!1}function gr(i){let t=[i];for(;i=i[Y];)i.$e&&i.$st!==Ft&&t.push(i);for(let e=t.length-1;e>=0;e--)As(t[e])}function En(i){const t=ye();return ae(t,i.length?i.bind(null,re.bind(t)):i,null)}function d(i){return ae(tt,i,null)}function yr(i){return ae(null,i,null)}function pt(){as||kn()}function Ne(){return tt}function I(i,t){try{return ae(t,i,null)}catch(e){xs(t,e);return}}function Sn(i,t=tt){return t==null?void 0:t.$cx[i]}function $r(i,t,e=tt){e&&(e.$cx={...e.$cx,[i]:t})}function T(i){if(!i||!tt)return i||br;const t=tt;return t.$d?Array.isArray(t.$d)?t.$d.push(i):t.$d=[t.$d,i]:t.$d=i,function(){t.$st!==qe&&(i.call(null),Ve(t.$d)?t.$d=null:Array.isArray(t.$d)&&t.$d.splice(t.$d.indexOf(i),1))}}function re(i=!0){if(this.$st===qe)return;let t=i?this.$ps||this[Y]:this,e=this.$ns,s=null;for(;e&&e[Y]===this;)re.call(e,!0),Ei(e),s=e.$ns,e.$ns=null,e=s;i&&Ei(this),e&&(e.$ps=i?this.$ps:this),t&&(t.$ns=e)}function Ei(i){i.$st=qe,i.$d&&Pn(i),i.$s&&fe(i,0),i.$ps&&(i.$ps.$ns=null),i[Y]=null,i.$s=null,i.$o=null,i.$ps=null,i.$cx=Ts,i.$eh=null}function Pn(i){try{if(Array.isArray(i.$d))for(let t=i.$d.length-1;t>=0;t--){const e=i.$d[t];e.call(e)}else i.$d.call(i.$d);i.$d=null}catch(t){xs(i,t)}}function ae(i,t,e){const s=tt,n=Dt;tt=i,Dt=e;try{return t.call(i)}finally{tt=s,Dt=n}}function xs(i,t){if(!i||!i.$eh)throw t;let e=0,s=i.$eh.length,n=Si(t);for(e=0;e<s;e++)try{i.$eh[e](n);break}catch(r){n=Si(r)}if(e===s)throw n}function Si(i){return i instanceof Error?i:Error(JSON.stringify(i))}function ks(){return this.$st===qe?this.$v:(Dt&&!this.$e&&(!Q&&Dt.$s&&Dt.$s[V]==this?V++:Q?Q.push(this):Q=[this]),this.$c&&As(this),this.$v)}function An(i){const t=Ve(i)?i(this.$v):i;if(this.$ch(this.$v,t)&&(this.$v=t,this.$o))for(let e=0;e<this.$o.length;e++)jn(this.$o[e],Xt);return this.$v}const Es=function(){this[Y]=null,this.$ns=null,this.$ps=null,tt&&tt.append(this)},At=Es.prototype;At.$cx=Ts;At.$eh=null;At.$c=null;At.$d=null;At.append=function(i){if(i[Y]=this,i.$ps=this,this.$ns)if(i.$ns){let t=i.$ns;for(;t.$ns;)t=t.$ns;t.$ns=this.$ns,this.$ns.$ps=t}else i.$ns=this.$ns,this.$ns.$ps=i;this.$ns=i,i.$cx=i.$cx===Ts?this.$cx:{...this.$cx,...i.$cx},this.$eh&&(i.$eh=i.$eh?[...i.$eh,...this.$eh]:this.$eh)};At.dispose=function(){re.call(this)};function ye(){return new Es}const Cn=function(t,e,s){Es.call(this),this.$st=e?Xt:Ft,this.$i=!1,this.$e=!1,this.$s=null,this.$o=null,this.$v=t,e&&(this.$c=e),s&&s.dirty&&(this.$ch=s.dirty)},Ss=Cn.prototype;Object.setPrototypeOf(Ss,At);Ss.$ch=wr;Ss.call=ks;function Ps(i,t,e){return new Cn(i,t,e)}function wr(i,t){return i!==t}function Ve(i){return typeof i=="function"}function As(i){if(i.$st===xn)for(let t=0;t<i.$s.length&&(As(i.$s[t]),i.$st!==Xt);t++);i.$st===Xt?On(i):i.$st=Ft}function Pi(i){i.$ns&&i.$ns[Y]===i&&re.call(i,!1),i.$d&&Pn(i),i.$eh=i[Y]?i[Y].$eh:null}function On(i){let t=Q,e=V;Q=null,V=0;try{Pi(i);const s=ae(i,i.$c,i);if(Q){if(i.$s&&fe(i,V),i.$s&&V>0){i.$s.length=V+Q.length;for(let r=0;r<Q.length;r++)i.$s[V+r]=Q[r]}else i.$s=Q;let n;for(let r=V;r<i.$s.length;r++)n=i.$s[r],n.$o?n.$o.push(i):n.$o=[i]}else i.$s&&V<i.$s.length&&(fe(i,V),i.$s.length=V);!i.$e&&i.$i?An.call(i,s):(i.$v=s,i.$i=!0)}catch(s){xs(i,s),i.$st===Xt&&(Pi(i),i.$s&&fe(i,0));return}Q=t,V=e,i.$st=Ft}function jn(i,t){if(!(i.$st>=t)&&(i.$e&&i.$st===Ft&&(Lt.push(i),ge||mr()),i.$st=t,i.$o))for(let e=0;e<i.$o.length;e++)jn(i.$o[e],xn)}function fe(i,t){let e,s;for(let n=t;n<i.$s.length;n++)e=i.$s[n],e.$o&&(s=e.$o.indexOf(i),e.$o[s]=e.$o[e.$o.length-1],e.$o.pop())}function Cs(...i){}function yt(i){return i===null}function H(i){return typeof i>"u"}function Wh(i){return yt(i)||H(i)}function Kh(i){return(i==null?void 0:i.constructor)===Object}function $e(i){return typeof i=="number"&&!Number.isNaN(i)}function D(i){return typeof i=="string"}function Uh(i){return typeof i=="boolean"}function ct(i){return typeof i=="function"}function X(i){return Array.isArray(i)}var Ai;const vr=Event,Ln=Symbol("DOM_EVENT");class O extends vr{constructor(t,...e){var n,r;super(t,e[0]),this[Ai]=!0,this.triggers=new Tr,this.detail=(n=e[0])==null?void 0:n.detail;const s=(r=e[0])==null?void 0:r.trigger;s&&this.triggers.add(s)}get trigger(){return this.triggers.source}get originEvent(){return this.triggers.origin}get isOriginTrusted(){var t;return((t=this.triggers.origin)==null?void 0:t.isTrusted)??!1}}Ai=Ln;class Tr{constructor(){this.chain=[]}get source(){return this.chain[0]}get origin(){return this.chain[this.chain.length-1]}add(t){this.chain.push(t),xr(t)&&this.chain.push(...t.triggers)}remove(t){return this.chain.splice(this.chain.indexOf(t),1)[0]}has(t){return this.chain.some(e=>e===t)}hasType(t){return!!this.findType(t)}findType(t){return this.chain.find(e=>e.type===t)}walk(t){for(const e of this.chain){const s=t(e);if(s)return[e,s]}}[Symbol.iterator](){return this.chain.values()}}function xr(i){return!!(i!=null&&i[Ln])}class Os extends EventTarget{addEventListener(t,e,s){return super.addEventListener(t,e,s)}removeEventListener(t,e,s){return super.removeEventListener(t,e,s)}}function p(i,t,e,s){return i.addEventListener(t,e,s),T(()=>i.removeEventListener(t,e,s))}function Ci(i){return!!(i!=null&&i.type.startsWith("pointer"))}function pe(i){return!!(i!=null&&i.type.startsWith("touch"))}function kr(i){return/^(click|mouse)/.test((i==null?void 0:i.type)??"")}function we(i){return!!(i!=null&&i.type.startsWith("key"))}function Dn(i){return we(i)&&(i.key==="Enter"||i.key===" ")}function v(i,t,e){if(i)if(!e&&e!==""&&e!==0)i.removeAttribute(t);else{const s=e===!0?"":e+"";i.getAttribute(t)!==s&&i.setAttribute(t,s)}else return}function W(i,t,e){if(i)!e&&e!==0?i.style.removeProperty(t):i.style.setProperty(t,e+"");else return}function $(i,t){const e=Ps(i,null,t),s=ks.bind(e);return s[Y]=!0,s.set=An.bind(e),s}function Er(i){return Ve(i)&&Y in i}function Ct(i,t){const e=Ps(t==null?void 0:t.initial,i,t),s=ks.bind(e);return s[Y]=!0,s}function Sr(i,t){const e=Ps(null,function(){let n=i();return Ve(n)&&T(n),null},void 0);return e.$e=!0,On(e),re.bind(e,!0)}function Pr(i){return Er(i)&&"set"in i}const l=Sr;function $t(i){return{id:Symbol(),provide:i}}function J(i,t,e=Ne()){var n;const s=!H(t);$r(i.id,s?t:(n=i.provide)==null?void 0:n.call(i),e)}function j(i){return Sn(i.id)}function rt(i){return!H(Sn(i.id))}const Kt=Symbol(0),Ut=Symbol(0),Mn=Symbol(0);var Oi;const Ye={};class Ar{constructor(t,e,s){var a;this[Oi]=null,this.$el=$(null),this.a=null,this.d=null,this.f=null,this.g=null,this.e=null,this.o=!1,this.i=Ye,this.b=null,this.c=null,this.l=[],this.m=[],this.j=[],this.n=[],this.d=e,s!=null&&s.scope&&s.scope.append(e);let n=t.state,r=t.props;if(n&&(this.h=n.create(),this.k=new Proxy(this.h,{get:(o,h)=>this.h[h]()}),J(n,this.h)),r&&(this.i=Cr(r),s!=null&&s.props))for(const o of Object.keys(s.props))(a=this.i[o])==null||a.set(s.props[o]);T(this.p.bind(this))}w(){I(()=>{for(const t of this.l)t()},this.d)}x(t){this.a||(this.a=t,this.$el.set(t),I(()=>{this.f=ye(),I(()=>{for(const e of this.m)e(this.a);this.q(),this.r()},this.f)},this.d),t.dispatchEvent(new Event("attached")))}s(){var t;(t=this.f)==null||t.dispose(),this.f=null,this.g=null,this.a=null,this.$el.set(null)}y(){!this.a||!this.f||!this.j.length||I(()=>{this.g=ye(),I(()=>{for(const t of this.j)t(this.a)},this.g)},this.f)}z(){var t;(t=this.g)==null||t.dispose(),this.g=null}p(){if(this.o)return;this.o=!0,I(()=>{for(const e of this.n)e(this.a)},this.d);const t=this.a;this.s(),this.d.dispose(),this.l.length=0,this.m.length=0,this.j.length=0,this.n.length=0,this.e=null,this.b=null,this.c=null,this.i=Ye,this.d=null,this.k=Ye,this.h=null,t&&delete t.$}t(t){t.onSetup&&this.l.push(t.onSetup.bind(t)),t.onAttach&&this.m.push(t.onAttach.bind(t)),t.onConnect&&this.j.push(t.onConnect.bind(t)),t.onDestroy&&this.n.push(t.onDestroy.bind(t))}q(){if(this.b)for(const t of Object.keys(this.b))ct(this.b[t])?l(this.u.bind(this,t)):v(this.a,t,this.b[t])}r(){if(this.c)for(const t of Object.keys(this.c))ct(this.c[t])?l(this.v.bind(this,t)):W(this.a,t,this.c[t])}u(t){v(this.a,t,this.b[t].call(this.e))}v(t){W(this.a,t,this.c[t].call(this.e))}}Oi=Mn;function Cr(i){const t={};for(const e of Object.keys(i)){const s=i[e];t[e]=$(s,s)}return t}let Bt={$$:null};function Or(i,t){return En(()=>{Bt.$$=new Ar(i,Ne(),t);const e=new i;return Bt.$$.e=e,Bt.$$=null,e})}class et extends EventTarget{constructor(){super(),Bt.$$&&this.attach(Bt)}get el(){return this.$$.a}get $el(){return this.$$.$el()}get scope(){return this.$$.d}get attachScope(){return this.$$.f}get connectScope(){return this.$$.g}get $props(){return this.$$.i}get $state(){return this.$$.h}get state(){return this.$$.k}attach({$$:t}){return this.$$=t,t.t(this),this}addEventListener(t,e,s){this.listen(t,e,s)}removeEventListener(t,e,s){var n;(n=this.el)==null||n.removeEventListener(t,e,s)}setAttributes(t){this.$$.b||(this.$$.b={}),Object.assign(this.$$.b,t)}setStyles(t){this.$$.c||(this.$$.c={}),Object.assign(this.$$.c,t)}setCSSVars(t){this.setStyles(t)}createEvent(t,...e){return new O(t,e[0])}dispatch(t,...e){if(!this.el)return!1;const s=t instanceof Event?t:new O(t,e[0]);return Object.defineProperty(s,"target",{get:()=>this.$$.e}),yr(()=>{var n,r;return(r=(n=this.$$)[Mn])==null||r.call(n,s),this.el.dispatchEvent(s)})}dispatchEvent(t){return this.dispatch(t)}listen(t,e,s){return this.el?p(this.el,t,e,s):Cs}}class y extends et{subscribe(t){return I(()=>l(()=>t(this.state)),this.$$.d)}destroy(){this.$$.p()}}function g(i,t,e){i[Kt]||(i[Kt]=new Set),i[Kt].add(t)}function M(i,t,e){i[Ut]||(i[Ut]=new Set),i[Ut].add(t)}class Ot{constructor(t){this.id=Symbol(0),this.record=t,this.A=Object.getOwnPropertyDescriptors(t)}create(){const t={},e=new Proxy(t,{get:(s,n)=>t[n]()});for(const s of Object.keys(this.record)){const n=this.A[s].get;t[s]=n?Ct(n.bind(e)):$(this.record[s])}return t}reset(t,e){for(const s of Object.keys(t))!this.A[s].get&&(!e||e(s))&&t[s].set(this.record[s])}}function He(i){return j(i)}function jr(i,t){for(const e of i)e(t)}function js(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Rn(i){return i.replace(/-./g,t=>t[1].toUpperCase())}function Lr(i){return i.charAt(0).toUpperCase()+i.slice(1)}function Dr(i){return ct(i)?i():i}function ve(i){return i?"true":"false"}function In(){const i=new Set;return{add(...t){for(const e of t)i.add(e)},empty(){for(const t of i)t();i.clear()}}}function Bh(){const i=In();return T(i.empty),i}function os(){let i,t;return{promise:new Promise((s,n)=>{i=s,t=n}),resolve:i,reject:t}}function Mr(i){return new Promise(t=>setTimeout(t,i))}function qt(i){let t=-1,e;function s(...n){e=n,!(t>=0)&&(t=window.requestAnimationFrame(()=>{i.apply(this,e),t=-1,e=void 0}))}return s}const Rr=typeof window<"u"?"requestIdleCallback"in window?window.requestIdleCallback:i=>window.setTimeout(i,1):Cs;function Ir(i,t){return new Promise(e=>{Rr(s=>{i==null||i(s),e()},t)})}const hs=Math.min,Mt=Math.max,Te=Math.round,le=Math.floor,bt=i=>({x:i,y:i});function _n(i){return i.split("-")[0]}function _r(i){return i.split("-")[1]}function Fr(i){return i==="x"?"y":"x"}function qr(i){return i==="y"?"height":"width"}function Fn(i){return["top","bottom"].includes(_n(i))?"y":"x"}function Nr(i){return Fr(Fn(i))}function qn(i){return{...i,top:i.y,left:i.x,right:i.x+i.width,bottom:i.y+i.height}}function ji(i,t,e){let{reference:s,floating:n}=i;const r=Fn(t),a=Nr(t),o=qr(a),h=_n(t),c=r==="y",u=s.x+s.width/2-n.width/2,f=s.y+s.height/2-n.height/2,b=s[o]/2-n[o]/2;let m;switch(h){case"top":m={x:u,y:s.y-n.height};break;case"bottom":m={x:u,y:s.y+s.height};break;case"right":m={x:s.x+s.width,y:f};break;case"left":m={x:s.x-n.width,y:f};break;default:m={x:s.x,y:s.y}}switch(_r(t)){case"start":m[a]-=b*(e&&c?-1:1);break;case"end":m[a]+=b*(e&&c?-1:1);break}return m}const Vr=async(i,t,e)=>{const{placement:s="bottom",strategy:n="absolute",middleware:r=[],platform:a}=e,o=r.filter(Boolean),h=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:i,floating:t,strategy:n}),{x:u,y:f}=ji(c,s,h),b=s,m={},S=0;for(let P=0;P<o.length;P++){const{name:B,fn:L}=o[P],{x:st,y:wt,data:ce,reset:it}=await L({x:u,y:f,initialPlacement:s,placement:b,strategy:n,middlewareData:m,rects:c,platform:a,elements:{reference:i,floating:t}});if(u=st??u,f=wt??f,m={...m,[B]:{...m[B],...ce}},it&&S<=50){S++,typeof it=="object"&&(it.placement&&(b=it.placement),it.rects&&(c=it.rects===!0?await a.getElementRects({reference:i,floating:t,strategy:n}):it.rects),{x:u,y:f}=ji(c,b,h)),P=-1;continue}}return{x:u,y:f,placement:b,strategy:n,middlewareData:m}};function mt(i){return Nn(i)?(i.nodeName||"").toLowerCase():"#document"}function K(i){var t;return(i==null||(t=i.ownerDocument)==null?void 0:t.defaultView)||window}function dt(i){var t;return(t=(Nn(i)?i.ownerDocument:i.document)||window.document)==null?void 0:t.documentElement}function Nn(i){return i instanceof Node||i instanceof K(i).Node}function ut(i){return i instanceof Element||i instanceof K(i).Element}function nt(i){return i instanceof HTMLElement||i instanceof K(i).HTMLElement}function Li(i){return typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof K(i).ShadowRoot}function oe(i){const{overflow:t,overflowX:e,overflowY:s,display:n}=Z(i);return/auto|scroll|overlay|hidden|clip/.test(t+s+e)&&!["inline","contents"].includes(n)}function Hr(i){return["table","td","th"].includes(mt(i))}function Ls(i){const t=Ds(),e=Z(i);return e.transform!=="none"||e.perspective!=="none"||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(e.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(e.contain||"").includes(s))}function Wr(i){let t=It(i);for(;nt(t)&&!We(t);){if(Ls(t))return t;t=It(t)}return null}function Ds(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function We(i){return["html","body","#document"].includes(mt(i))}function Z(i){return K(i).getComputedStyle(i)}function Ke(i){return ut(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function It(i){if(mt(i)==="html")return i;const t=i.assignedSlot||i.parentNode||Li(i)&&i.host||dt(i);return Li(t)?t.host:t}function Vn(i){const t=It(i);return We(t)?i.ownerDocument?i.ownerDocument.body:i.body:nt(t)&&oe(t)?t:Vn(t)}function Yt(i,t,e){var s;t===void 0&&(t=[]),e===void 0&&(e=!0);const n=Vn(i),r=n===((s=i.ownerDocument)==null?void 0:s.body),a=K(n);return r?t.concat(a,a.visualViewport||[],oe(n)?n:[],a.frameElement&&e?Yt(a.frameElement):[]):t.concat(n,Yt(n,[],e))}function Hn(i){const t=Z(i);let e=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const n=nt(i),r=n?i.offsetWidth:e,a=n?i.offsetHeight:s,o=Te(e)!==r||Te(s)!==a;return o&&(e=r,s=a),{width:e,height:s,$:o}}function Ms(i){return ut(i)?i:i.contextElement}function Rt(i){const t=Ms(i);if(!nt(t))return bt(1);const e=t.getBoundingClientRect(),{width:s,height:n,$:r}=Hn(t);let a=(r?Te(e.width):e.width)/s,o=(r?Te(e.height):e.height)/n;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Kr=bt(0);function Wn(i){const t=K(i);return!Ds()||!t.visualViewport?Kr:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ur(i,t,e){return t===void 0&&(t=!1),!e||t&&e!==K(i)?!1:t}function kt(i,t,e,s){t===void 0&&(t=!1),e===void 0&&(e=!1);const n=i.getBoundingClientRect(),r=Ms(i);let a=bt(1);t&&(s?ut(s)&&(a=Rt(s)):a=Rt(i));const o=Ur(r,e,s)?Wn(r):bt(0);let h=(n.left+o.x)/a.x,c=(n.top+o.y)/a.y,u=n.width/a.x,f=n.height/a.y;if(r){const b=K(r),m=s&&ut(s)?K(s):s;let S=b.frameElement;for(;S&&s&&m!==b;){const P=Rt(S),B=S.getBoundingClientRect(),L=Z(S),st=B.left+(S.clientLeft+parseFloat(L.paddingLeft))*P.x,wt=B.top+(S.clientTop+parseFloat(L.paddingTop))*P.y;h*=P.x,c*=P.y,u*=P.x,f*=P.y,h+=st,c+=wt,S=K(S).frameElement}}return qn({width:u,height:f,x:h,y:c})}function Br(i){let{rect:t,offsetParent:e,strategy:s}=i;const n=nt(e),r=dt(e);if(e===r)return t;let a={scrollLeft:0,scrollTop:0},o=bt(1);const h=bt(0);if((n||!n&&s!=="fixed")&&((mt(e)!=="body"||oe(r))&&(a=Ke(e)),nt(e))){const c=kt(e);o=Rt(e),h.x=c.x+e.clientLeft,h.y=c.y+e.clientTop}return{width:t.width*o.x,height:t.height*o.y,x:t.x*o.x-a.scrollLeft*o.x+h.x,y:t.y*o.y-a.scrollTop*o.y+h.y}}function zr(i){return Array.from(i.getClientRects())}function Kn(i){return kt(dt(i)).left+Ke(i).scrollLeft}function Qr(i){const t=dt(i),e=Ke(i),s=i.ownerDocument.body,n=Mt(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),r=Mt(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let a=-e.scrollLeft+Kn(i);const o=-e.scrollTop;return Z(s).direction==="rtl"&&(a+=Mt(t.clientWidth,s.clientWidth)-n),{width:n,height:r,x:a,y:o}}function Xr(i,t){const e=K(i),s=dt(i),n=e.visualViewport;let r=s.clientWidth,a=s.clientHeight,o=0,h=0;if(n){r=n.width,a=n.height;const c=Ds();(!c||c&&t==="fixed")&&(o=n.offsetLeft,h=n.offsetTop)}return{width:r,height:a,x:o,y:h}}function Yr(i,t){const e=kt(i,!0,t==="fixed"),s=e.top+i.clientTop,n=e.left+i.clientLeft,r=nt(i)?Rt(i):bt(1),a=i.clientWidth*r.x,o=i.clientHeight*r.y,h=n*r.x,c=s*r.y;return{width:a,height:o,x:h,y:c}}function Di(i,t,e){let s;if(t==="viewport")s=Xr(i,e);else if(t==="document")s=Qr(dt(i));else if(ut(t))s=Yr(t,e);else{const n=Wn(i);s={...t,x:t.x-n.x,y:t.y-n.y}}return qn(s)}function Un(i,t){const e=It(i);return e===t||!ut(e)||We(e)?!1:Z(e).position==="fixed"||Un(e,t)}function Jr(i,t){const e=t.get(i);if(e)return e;let s=Yt(i,[],!1).filter(o=>ut(o)&&mt(o)!=="body"),n=null;const r=Z(i).position==="fixed";let a=r?It(i):i;for(;ut(a)&&!We(a);){const o=Z(a),h=Ls(a);!h&&o.position==="fixed"&&(n=null),(r?!h&&!n:!h&&o.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||oe(a)&&!h&&Un(i,a))?s=s.filter(u=>u!==a):n=o,a=It(a)}return t.set(i,s),s}function Zr(i){let{element:t,boundary:e,rootBoundary:s,strategy:n}=i;const a=[...e==="clippingAncestors"?Jr(t,this._c):[].concat(e),s],o=a[0],h=a.reduce((c,u)=>{const f=Di(t,u,n);return c.top=Mt(f.top,c.top),c.right=hs(f.right,c.right),c.bottom=hs(f.bottom,c.bottom),c.left=Mt(f.left,c.left),c},Di(t,o,n));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function Gr(i){return Hn(i)}function ta(i,t,e){const s=nt(t),n=dt(t),r=e==="fixed",a=kt(i,!0,r,t);let o={scrollLeft:0,scrollTop:0};const h=bt(0);if(s||!s&&!r)if((mt(t)!=="body"||oe(n))&&(o=Ke(t)),s){const c=kt(t,!0,r,t);h.x=c.x+t.clientLeft,h.y=c.y+t.clientTop}else n&&(h.x=Kn(n));return{x:a.left+o.scrollLeft-h.x,y:a.top+o.scrollTop-h.y,width:a.width,height:a.height}}function Mi(i,t){return!nt(i)||Z(i).position==="fixed"?null:t?t(i):i.offsetParent}function Bn(i,t){const e=K(i);if(!nt(i))return e;let s=Mi(i,t);for(;s&&Hr(s)&&Z(s).position==="static";)s=Mi(s,t);return s&&(mt(s)==="html"||mt(s)==="body"&&Z(s).position==="static"&&!Ls(s))?e:s||Wr(i)||e}const ea=async function(i){let{reference:t,floating:e,strategy:s}=i;const n=this.getOffsetParent||Bn,r=this.getDimensions;return{reference:ta(t,await n(e),s),floating:{x:0,y:0,...await r(e)}}};function sa(i){return Z(i).direction==="rtl"}const ia={convertOffsetParentRelativeRectToViewportRelativeRect:Br,getDocumentElement:dt,getClippingRect:Zr,getOffsetParent:Bn,getElementRects:ea,getClientRects:zr,getDimensions:Gr,getScale:Rt,isElement:ut,isRTL:sa};function na(i,t){let e=null,s;const n=dt(i);function r(){clearTimeout(s),e&&e.disconnect(),e=null}function a(o,h){o===void 0&&(o=!1),h===void 0&&(h=1),r();const{left:c,top:u,width:f,height:b}=i.getBoundingClientRect();if(o||t(),!f||!b)return;const m=le(u),S=le(n.clientWidth-(c+f)),P=le(n.clientHeight-(u+b)),B=le(c),st={rootMargin:-m+"px "+-S+"px "+-P+"px "+-B+"px",threshold:Mt(0,hs(1,h))||1};let wt=!0;function ce(it){const Qe=it[0].intersectionRatio;if(Qe!==h){if(!wt)return a();Qe?a(!1,Qe):s=setTimeout(()=>{a(!1,1e-7)},100)}wt=!1}try{e=new IntersectionObserver(ce,{...st,root:n.ownerDocument})}catch{e=new IntersectionObserver(ce,st)}e.observe(i)}return a(!0),r}function ra(i,t,e,s){s===void 0&&(s={});const{ancestorScroll:n=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,c=Ms(i),u=n||r?[...c?Yt(c):[],...Yt(t)]:[];u.forEach(L=>{n&&L.addEventListener("scroll",e,{passive:!0}),r&&L.addEventListener("resize",e)});const f=c&&o?na(c,e):null;let b=-1,m=null;a&&(m=new ResizeObserver(L=>{let[st]=L;st&&st.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{m&&m.observe(t)})),e()}),c&&!h&&m.observe(c),m.observe(t));let S,P=h?kt(i):null;h&&B();function B(){const L=kt(i);P&&(L.x!==P.x||L.y!==P.y||L.width!==P.width||L.height!==P.height)&&e(),P=L,S=requestAnimationFrame(B)}return e(),()=>{u.forEach(L=>{n&&L.removeEventListener("scroll",e),r&&L.removeEventListener("resize",e)}),f&&f(),m&&m.disconnect(),m=null,h&&cancelAnimationFrame(S)}}const aa=(i,t,e)=>{const s=new Map,n={platform:ia,...e},r={...n.platform,_c:s};return Vr(i,t,{...n,platform:r})},Je=i=>i===null?"":i+"",oa=i=>i===null?null:i+"",ha=i=>i===null?0:Number(i),ca=i=>i!==null,la=()=>null,ua=i=>i===null?[]:JSON.parse(i),da=i=>i===null?{}:JSON.parse(i);function fa(i){if(i===null)return oa;switch(typeof i){case"undefined":return Je;case"string":return Je;case"boolean":return ca;case"number":return ha;case"function":return la;case"object":return X(i)?ua:da;default:return Je}}const ft=Symbol(0),zn=Symbol(0),xt=Symbol(0),vt=Symbol(0);function zh(i,t){var e,s,n;const a=class a extends i{constructor(...h){if(super(...h),this[s]=0,this[n]=null,this.keepAlive=!1,this.forwardKeepAlive=!0,this.$=I(()=>Or(t),null),this.$.$$.t(this),t.props){const c=this.$props,u=Object.getOwnPropertyDescriptors(this);for(const f of Object.keys(u))f in t.props&&(c[f].set(this[f]),delete this[f])}}static get observedAttributes(){var h;if(!this[ft]&&t.props){const c=new Map;for(const u of Object.keys(t.props)){let f=(h=this.attrs)==null?void 0:h[u],b=D(f)?f:f&&(f==null?void 0:f.attr);b!==!1&&(b||(b=js(u)),c.set(b,{C:u,B:f&&!D(f)&&(f==null?void 0:f.converter)||fa(t.props[u])}))}this[ft]=c}return this[ft]?Array.from(this[ft].keys()):[]}get scope(){return this.$.$$.d}get attachScope(){return this.$.$$.f}get connectScope(){return this.$.$$.g}get $props(){return this.$.$$.i}get $state(){return this.$.$$.h}get state(){return this.$.state}attributeChangedCallback(h,c,u){var m;const f=this.constructor;if(!f[ft]){(m=super.attributeChangedCallback)==null||m.call(this,h,c,u);return}const b=f[ft].get(h);b&&(this[b.C]=b.B(u))}connectedCallback(){var u;const h=(u=this.$)==null?void 0:u.$$;if(!h||h.o)return;if(this[xt]!==2){ba.call(this);return}if(!this.isConnected)return;this.hasAttribute("keep-alive")&&(this.keepAlive=!0),h.y(),X(this[vt])&&jr(this[vt],this),this[vt]=null;const c=super.connectedCallback;c&&I(()=>c.call(this),this.connectScope)}disconnectedCallback(){var u;const h=(u=this.$)==null?void 0:u.$$;if(!h||h.o)return;h.z();const c=super.disconnectedCallback;c&&c.call(this),!this.keepAlive&&!this.hasAttribute("keep-alive")&&setTimeout(()=>{requestAnimationFrame(()=>{this.isConnected||h.p()})},0)}[(e=ft,s=xt,n=vt,zn)](){const h=this.$.$$,c=this.constructor;if(h.o)return;const u=c[ft];if(u)for(const f of this.attributes){let b=u.get(f.name);b&&b.B&&h.i[b.C].set(b.B(this.getAttribute(f.name)))}h.w(),h.x(this),this[xt]=2,this.connectedCallback()}subscribe(h){return this.$.subscribe(h)}destroy(){this.disconnectedCallback(),this.$.destroy()}};a[e]=null;let r=a;return pa(r,t),r}function pa(i,t){const e=i.prototype,s=t.prototype;if(t.props)for(const n of Object.keys(t.props))Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get(){return this.$props[n]()},set(r){this.$props[n].set(r)}});if(s[Kt])for(const n of s[Kt])Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get(){return this.$[n]},set(r){this.$[n]=r}});if(s[Ut])for(const n of s[Ut])e[n]=function(...r){return this.$[n](...r)}}function ba(){if(this[xt]!==0)return;this[xt]=1;const i=ga(this),t=i&&window.customElements.get(i.localName),e=i&&i[xt]===2;if(i&&(!t||!e)){ma.call(this,i);return}Qn.call(this,i)}async function ma(i){await window.customElements.whenDefined(i.localName),i[xt]!==2&&await new Promise(t=>(i[vt]??(i[vt]=[])).push(t)),Qn.call(this,i)}function Qn(i){if(this.isConnected){if(i){i.keepAlive&&i.forwardKeepAlive&&(this.keepAlive=!0,this.setAttribute("keep-alive",""));const t=this.$.$$.d;t&&i.$.$$.f.append(t)}this[zn]()}}function ga(i){let t=i.parentNode,e=i.localName.split("-",1)[0]+"-";for(;t;){if(t.nodeType===1&&t.localName.startsWith(e))return t;t=t.parentNode}return null}function Qh(i,t=!1){(t||!window.customElements.get(i.tagName))&&window.customElements.define(i.tagName,i)}const ya=Symbol(0),$a=Symbol(0),wa=Symbol(0),va=Symbol(0),Ta=Symbol(0),xa=Symbol(0),ka=Symbol(0),Ea=Symbol(0),Sa=Symbol(0),E={oa:ya,Yb:$a,H:wa,pa:va,Zb:Ta,Mc:xa,ne:ka,oe:Ea,pe:Sa},Pa=(navigator==null?void 0:navigator.userAgent.toLowerCase())||"",Aa=/iphone|ipad|ipod|ios|crios|fxios/i.test(Pa),Ri=/(iphone|ipod)/gi.test((navigator==null?void 0:navigator.platform)||""),Xh=!!window.chrome,Ca=!!window.safari||Aa;function Xn(){return Oa()&&ct(screen.orientation.unlock)}function Oa(){return!H(window.screen.orientation)&&!H(window.screen.orientation.lock)}function ja(i){return i||(i=document.createElement("video")),i.canPlayType("application/vnd.apple.mpegurl").length>0}function Yh(i){return!!document.pictureInPictureEnabled&&!i.disablePictureInPicture}function Jh(i){return ct(i==null?void 0:i.webkitSupportsPresentationMode)&&ct(i==null?void 0:i.webkitSetPresentationMode)}async function La(){const i=document.createElement("video");return i.volume=.5,await Mr(0),i.volume===.5}function Da(){return(window==null?void 0:window.MediaSource)??(window==null?void 0:window.WebKitMediaSource)}function Ma(){return(window==null?void 0:window.SourceBuffer)??(window==null?void 0:window.WebKitSourceBuffer)}function Yn(){const i=Da();if(H(i))return!1;const t=i&&ct(i.isTypeSupported)&&i.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),e=Ma(),s=H(e)||!H(e.prototype)&&ct(e.prototype.appendBuffer)&&ct(e.prototype.remove);return!!t&&!!s}var Ii;class Jn extends Os{constructor(){super(...arguments),this.r=[],this[Ii]=!1}get length(){return this.r.length}get readonly(){return this[E.Zb]}toArray(){return[...this.r]}[(Ii=E.Zb,Symbol.iterator)](){return this.r.values()}[E.oa](t,e){const s=this.r.length;""+s in this||Object.defineProperty(this,s,{get(){return this.r[s]}}),!this.r.includes(t)&&(this.r.push(t),this.dispatchEvent(new O("add",{detail:t,trigger:e})))}[E.Yb](t,e){var n;const s=this.r.indexOf(t);s>=0&&((n=this[E.oe])==null||n.call(this,t,e),this.r.splice(s,1),this.dispatchEvent(new O("remove",{detail:t,trigger:e})))}[E.H](t){var e;for(const s of[...this.r])this[E.Yb](s,t);this.r=[],this[E.Mc](!1,t),(e=this[E.ne])==null||e.call(this)}[E.Mc](t,e){this[E.Zb]!==t&&(this[E.Zb]=t,this.dispatchEvent(new O("readonly-change",{detail:t,trigger:e})))}}class Ze{get length(){return this.$.length}constructor(t,e){X(t)?this.$=t:!H(t)&&!H(e)?this.$=[[t,e]]:this.$=[]}start(t){return this.$[t][0]??1/0}end(t){return this.$[t][1]??1/0}}function _i(i){if(!i.length)return null;let t=i.start(0);for(let e=1;e<i.length;e++){const s=i.start(e);s<t&&(t=s)}return t}function Fi(i){if(!i.length)return null;let t=i.end(0);for(let e=1;e<i.length;e++){const s=i.end(e);s>t&&(t=s)}return t}const Rs=new Ot({audioTracks:[],audioTrack:null,autoplay:!1,autoplayError:null,buffered:new Ze,duration:0,canLoad:!1,canFullscreen:!1,canOrientScreen:Xn(),canPictureInPicture:!1,canPlay:!1,controls:!1,controlsVisible:!1,crossorigin:null,currentTime:0,ended:!1,error:null,fullscreen:!1,loop:!1,logLevel:"silent",mediaType:"unknown",muted:!1,paused:!0,played:new Ze,playing:!1,playsinline:!1,pictureInPicture:!1,preload:"metadata",playbackRate:1,qualities:[],quality:null,autoQuality:!1,canSetQuality:!0,canSetPlaybackRate:!0,canSetVolume:!1,seekable:new Ze,seeking:!1,source:{src:"",type:""},sources:[],started:!1,textTracks:[],textTrack:null,volume:1,waiting:!1,get title(){return this.providedTitle||this.inferredTitle},get poster(){return this.providedPoster||this.inferredPoster},get viewType(){return this.providedViewType!=="unknown"?this.providedViewType:this.inferredViewType},get streamType(){return this.providedStreamType!=="unknown"?this.providedStreamType:this.inferredStreamType},get currentSrc(){return this.source},get bufferedStart(){return _i(this.buffered)??0},get bufferedEnd(){return Fi(this.buffered)??0},get seekableStart(){return _i(this.seekable)??0},get seekableEnd(){return this.canPlay?Fi(this.seekable)??1/0:0},get seekableWindow(){return Math.max(0,this.seekableEnd-this.seekableStart)},pointer:"fine",orientation:"landscape",width:0,height:0,mediaWidth:0,mediaHeight:0,userBehindLiveEdge:!1,liveEdgeTolerance:10,minLiveDVRWindow:60,get canSeek(){return/unknown|on-demand|:dvr/.test(this.streamType)&&Number.isFinite(this.seekableWindow)&&(!this.live||/:dvr/.test(this.streamType)&&this.seekableWindow>=this.minLiveDVRWindow)},get live(){return this.streamType.includes("live")||!Number.isFinite(this.duration)},get liveEdgeStart(){return this.live&&Number.isFinite(this.seekableEnd)?Math.max(0,(this.liveSyncPosition??this.seekableEnd)-this.liveEdgeTolerance):0},get liveEdge(){return this.live&&(!this.canSeek||!this.userBehindLiveEdge&&this.currentTime>=this.liveEdgeStart)},get liveEdgeWindow(){return this.live&&Number.isFinite(this.seekableEnd)?this.seekableEnd-this.liveEdgeStart:0},autoplaying:!1,providedTitle:"",inferredTitle:"",providedPoster:"",inferredPoster:"",inferredViewType:"unknown",providedViewType:"unknown",providedStreamType:"unknown",inferredStreamType:"unknown",liveSyncPosition:null}),Ra=new Set(["autoplay","canFullscreen","canLoad","canPictureInPicture","canSetVolume","controls","crossorigin","fullscreen","height","inferredViewType","logLevel","loop","mediaHeight","mediaType","mediaWidth","muted","orientation","pictureInPicture","playsinline","pointer","preload","providedPoster","providedStreamType","providedTitle","providedViewType","source","sources","textTrack","textTracks","volume","width"]);function Ia(i){Rs.reset(i,t=>!Ra.has(t)),pt()}const Zn=$t();function x(){return j(Zn)}const _a=eval,Fa=/:\s+'?"?(.*?)'?"?\)/g,qa=/\s+not\s+/g,Na=/\s+and\s+/g,Va=/\s+or\s+/g,Ha=/(\d)px/g,Ae=class Ae extends Os{constructor(t,e){super(),this.ec=$("true"),this.Xc=new Set,this.Yc=$(!0),this.$matches=Ct(()=>{let s=this.ec();if(s==="never")return!1;for(const n of this.Xc){const r=this.Le[n](),a=D(r)?`'${r}'`:r+"";s=s.replace(js(n),a)}return _a(`!!(${s})`)&&this.Yc()}),this.Ke=e,this.Le=t,En(s=>{l(this.jg.bind(this)),l(this.kg.bind(this)),this.Me=s})}get query(){return Dr(this.Ke)}get matches(){return this.$matches()}jg(){const t=this.query;if(t==="")return;if(t==="never"){this.ec.set(t);return}const e=t.trim().split(/\s*,\s*/g),s=e.filter(r=>r.startsWith("@media")).join(","),n=e.filter(r=>!r.startsWith("@media"));if(s.length){const r=window.matchMedia(s.replace(/@media\s/g,"")),a=()=>void this.Yc.set(r.matches);a(),p(r,"change",a)}if(n.length){const r=this.lg(n),a=Object.keys(Rs.record);for(const o of r.matchAll(/\(([-a-zA-Z]+)\s/g)){const h=Rn(o[1]);a.includes(h)&&this.Xc.add(h)}this.ec.set(r)}return()=>{this.Xc.clear(),this.ec.set("true"),this.Yc.set(!0)}}kg(){this.$matches(),this.dispatchEvent(new Event("change"))}lg(t){return t.map(e=>"("+e.replace(Fa,' == "$1")').replace(qa,"!").replace(Na," && ").replace(Va," || ").replace(Ha,"$1").trim()+")").join(" || ")}destroy(){this.Me()}};Ae.create=t=>{const e=x();return new Ae(e.$state,t)};let Jt=Ae;function Zh(i,t){const e=new URLSearchParams;for(const s of Object.keys(t))e.set(s,t[s]+"");return i+"?"+e.toString()}function Gn(i,t="preconnect"){const e=document.querySelector(`link[href="${i}"]`);if(!yt(e))return!0;const s=document.createElement("link");return s.rel=t,s.href=i,s.crossOrigin="true",document.head.append(s),!0}const ue={};function Gh(i){if(ue[i])return ue[i].promise;const t=os(),e=document.querySelector(`script[src="${i}"]`);if(!yt(e))return t.resolve(),t.promise;const s=document.createElement("script");return s.src=i,s.onload=()=>{t.resolve(),delete ue[i]},s.onerror=()=>{t.reject(),delete ue[i]},setTimeout(()=>document.head.append(s),0),t.promise}function xe(i){return i==="use-credentials"?"include":D(i)?"same-origin":void 0}const Wa=Symbol(0),Ka=Symbol(0),Ua=Symbol(0),Ba=Symbol(0),za=Symbol(0),Qa=Symbol(0),Xa=Symbol(0),w={Sa:Wa,M:Ka,Ta:Ua,P:Ba,Ua:za,T:Qa,te:Xa};function Ya(i,t){for(let e=0,s=i.length;e<s;e++)if(ke(i[e],t))return i[e];return null}function ke(i,t){return t>=i.startTime&&t<i.endTime}function Is(i,t,e){let s=null;function n(){const r=D(t)?[t]:t,a=i.toArray().find(o=>r.includes(o.kind)&&o.mode==="showing");if(a!==s){if(!a){e(null),s=null;return}a.readyState==2?e(a):(e(null),a.addEventListener("load",()=>e(a),{once:!0})),s=a}}return n(),p(i,"mode-change",n)}var qi,Ni,Vi;class cs extends Os{constructor(t){super(),this.id="",this.label="",this.language="",this.default=!1,this.P=!1,this.Va=0,this.I="disabled",this.ue={},this.ac=[],this.J=[],this.Wa=[],this[qi]=0,this[Ni]=null,this[Vi]=null;for(const e of Object.keys(t))this[e]=t[e];this.type||(this.type="vtt"),t.content?lt(()=>import("./prod-uUTSXybs.js").then(e=>e.d),__vite__mapDeps([0,1])).then(({parseText:e,VTTCue:s,VTTRegion:n})=>{t.type==="json"?this.ve(t.content,s,n):e(t.content,{type:t.type}).then(({cues:r,regions:a})=>{this.J=r,this.ac=a,this.M()})}):t.src||(this[w.M]=2)}static createId(t){return`id::${t.type}-${t.kind}-${t.src??t.label}`}get metadata(){return this.ue}get regions(){return this.ac}get cues(){return this.J}get activeCues(){return this.Wa}get readyState(){return this[w.M]}get mode(){return this.I}set mode(t){this.setMode(t)}addCue(t,e){var r;let s=0,n=this.J.length;for(s=0;s<n&&!(t.endTime<=this.J[s].startTime);s++);s===n?this.J.push(t):this.J.splice(s,0,t),(e==null?void 0:e.type)!=="cuechange"&&((r=this[w.T])==null||r.track.addCue(t)),this.dispatchEvent(new O("add-cue",{detail:t,trigger:e})),ke(t,this.Va)&&this[w.Ta](this.Va,e)}removeCue(t,e){var n;const s=this.J.indexOf(t);if(s>=0){const r=this.Wa.includes(t);this.J.splice(s,1),(n=this[w.T])==null||n.track.removeCue(t),this.dispatchEvent(new O("remove-cue",{detail:t,trigger:e})),r&&this[w.Ta](this.Va,e)}}setMode(t,e){var s;this.I!==t&&(this.I=t,t==="disabled"?(this.Wa=[],this.we()):this.readyState===2?this[w.Ta](this.Va,e):this.xe(),this.dispatchEvent(new O("mode-change",{detail:this,trigger:e})),(s=this[w.Ua])==null||s.call(this))}[(qi=w.M,Ni=w.Ua,Vi=w.T,w.Ta)](t,e){if(this.Va=t,this.mode==="disabled"||!this.J.length)return;const s=[];for(let r=0,a=this.J.length;r<a;r++){const o=this.J[r];ke(o,t)&&s.push(o)}let n=s.length!==this.Wa.length;if(!n){for(let r=0;r<s.length;r++)if(!this.Wa.includes(s[r])){n=!0;break}}this.Wa=s,n&&this.we(e)}[w.P](){this.P=!0,this.I!=="disabled"&&this.xe()}async xe(){var t,e;if(!(!this.P||!this.src||this[w.M]>0)){this[w.M]=1,this.dispatchEvent(new O("load-start"));try{const{parseResponse:s,VTTCue:n,VTTRegion:r}=await lt(()=>import("./prod-uUTSXybs.js").then(h=>h.d),__vite__mapDeps([0,1])),a=(t=this[w.Sa])==null?void 0:t.call(this),o=fetch(this.src,{headers:this.type==="json"?{"Content-Type":"application/json"}:void 0,credentials:xe(a)});if(this.type==="json")this.ve(await(await o).text(),n,r);else{const{errors:h,metadata:c,regions:u,cues:f}=await s(o,{type:this.type,encoding:this.encoding});if(((e=h[0])==null?void 0:e.code)===0)throw h[0];this.ue=c,this.ac=u,this.J=f}this.M()}catch(s){this.ye(s)}}}M(){var e;if(this[w.M]=2,!this.src||this.type!=="vtt"){const s=(e=this[w.T])==null?void 0:e.track;if(s)for(const n of this.J)s.addCue(n)}const t=new O("load");this[w.Ta](this.Va,t),this.dispatchEvent(t)}ye(t){this[w.M]=3,this.dispatchEvent(new O("error",{detail:t}))}ve(t,e,s){try{const{regions:n,cues:r}=tr(t,e,s);this.ac=n,this.J=r}catch(n){this.ye(n)}}we(t){this.dispatchEvent(new O("cue-change",{trigger:t}))}}const Ja=/captions|subtitles/;function _(i){return Ja.test(i.kind)}function tr(i,t,e){const s=JSON.parse(i);let n=[],r=[];return s.regions&&e&&(n=s.regions.map(a=>Object.assign(new e,a))),(s.cues||X(s))&&(r=(X(s)?s:s.cues).filter(a=>$e(a.startTime)&&$e(a.endTime)).map(a=>Object.assign(new t(0,0,""),a))),{regions:n,cues:r}}function k(i,t,e){i.hasAttribute(t)||i.setAttribute(t,e)}function Nt(i,t){if(i.hasAttribute("aria-label"))return;function e(){v(i,"aria-label",t())}l(e)}function er(i,t,e){for(;t;){if(t===i)return!0;if(e!=null&&e(t))break;t=t.parentElement}return!1}function Et(i,t){p(i,"pointerup",e=>{e.button===0&&t(e)}),p(i,"keydown",e=>{Dn(e)&&t(e)})}function _s(i){return pe(i)&&(i.touches.length>1||i.changedTouches.length>1)}function ls(i){let t=Ne(),e=window.requestAnimationFrame(()=>{I(i,t),e=-1});return()=>void window.cancelAnimationFrame(e)}function tc(i,t,e){let s,n=i,r=i.parentElement,a=i.content.firstElementChild,o=[];!a&&i.firstElementChild&&(i.innerHTML=i.firstElementChild.outerHTML,i.firstElementChild.remove(),a=i.content.firstElementChild);for(let h=0;h<t;h++)s=document.importNode(a,!0),e==null||e(s,h),r.insertBefore(s,n.nextSibling),o.push(s),n=s;return T(()=>{for(let h=0;h<o.length;h++)o[h].remove()}),o}function ec(i){const t=document.createElement("template");return t.innerHTML=i,t.content}function sc(i){return i.cloneNode(!0).firstElementChild}function sr(i,t,e,{offsetVarName:s,xOffset:n,yOffset:r,...a}){if(!i)return;const o=e.replace(" ","-").replace("-center","");if(W(i,"visibility",t?null:"hidden"),!t)return;const h=c=>e.includes("top")?`calc(-1 * ${c})`:c;return ra(t,i,()=>{aa(t,i,{placement:o,...a}).then(({x:c,y:u})=>{Object.assign(i.style,{top:`calc(${u+"px"} + ${h(r?r+"px":`var(--${s}-y-offset, 0px)`)})`,left:`calc(${c+"px"} + ${n?n+"px":`var(--${s}-x-offset, 0px)`})`})})})}function Za(i){return getComputedStyle(i).animationName!=="none"}const Ga=Symbol(0),to=Symbol(0),jt={Ya:Ga,Za:to};function Ge(i){return i instanceof Error?i:Error(JSON.stringify(i))}const eo=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,so=new Set(["audio/mpeg","audio/ogg","audio/3gp","audio/mp4","audio/webm","audio/flac"]),io=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,no=new Set(["video/mp4","video/webm","video/3gp","video/ogg","video/avi","video/mpeg"]),ro=/\.(m3u8)($|\?)/i,ao=new Set(["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"]);function Fs({src:i,type:t}){return D(i)&&ro.test(i)||ao.has(t)}function ic(i){return typeof window.MediaStream<"u"&&i instanceof window.MediaStream}function F(i,t=2){return Number(i.toFixed(t))}function oo(i){var t;return((t=String(i).split(".")[1])==null?void 0:t.length)??0}function qs(i,t,e){return Math.max(i,Math.min(e,t))}var N={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},Hi=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],Wi=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],Ki=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],q=typeof window<"u"&&typeof window.document<"u"?window.document:{},z="fullscreenEnabled"in q&&Object.keys(N)||Hi[0]in q&&Hi||Wi[0]in q&&Wi||Ki[0]in q&&Ki||[],ho={requestFullscreen:function(i){return i[z[N.requestFullscreen]]()},requestFullscreenFunction:function(i){return i[z[N.requestFullscreen]]},get exitFullscreen(){return q[z[N.exitFullscreen]].bind(q)},get fullscreenPseudoClass(){return":"+z[N.fullscreen]},addEventListener:function(i,t,e){return q.addEventListener(z[N[i]],t,e)},removeEventListener:function(i,t,e){return q.removeEventListener(z[N[i]],t,e)},get fullscreenEnabled(){return!!q[z[N.fullscreenEnabled]]},set fullscreenEnabled(i){},get fullscreenElement(){return q[z[N.fullscreenElement]]},set fullscreenElement(i){},get onfullscreenchange(){return q[("on"+z[N.fullscreenchange]).toLowerCase()]},set onfullscreenchange(i){return q[("on"+z[N.fullscreenchange]).toLowerCase()]=i},get onfullscreenerror(){return q[("on"+z[N.fullscreenerror]).toLowerCase()]},set onfullscreenerror(i){return q[("on"+z[N.fullscreenerror]).toLowerCase()]=i}},Tt=ho;const Ee=Tt.fullscreenEnabled;class co extends et{constructor(){super(...arguments),this.ub=!1,this.Nc=!1}get active(){return this.Nc}get supported(){return Ee}onConnect(){p(Tt,"fullscreenchange",this.Oc.bind(this)),p(Tt,"fullscreenerror",this._b.bind(this)),T(this.ya.bind(this))}async ya(){Ee&&await this.exit()}Oc(t){const e=ts(this.el);e!==this.Nc&&(e||(this.ub=!1),this.Nc=e,this.dispatch("fullscreen-change",{detail:e,trigger:t}))}_b(t){this.ub&&(this.dispatch("fullscreen-error",{detail:null,trigger:t}),this.ub=!1)}async enter(){try{return this.ub=!0,!this.el||ts(this.el)?void 0:(Ui(),Tt.requestFullscreen(this.el))}catch(t){throw this.ub=!1,t}}async exit(){if(!(!this.el||!ts(this.el)))return Ui(),Tt.exitFullscreen()}}function lo(){return Ee}function ts(i){if(Tt.fullscreenElement===i)return!0;try{return i.matches(Tt.fullscreenPseudoClass)}catch{return!1}}function Ui(){if(!Ee)throw Error("[vidstack] no fullscreen API")}const Ce=class Ce extends et{constructor(){super(...arguments),this.vb=$(this.qe()),this.Ra=$(!1)}get type(){return this.vb()}get locked(){return this.Ra()}get portrait(){return this.vb().startsWith("portrait")}get landscape(){return this.vb().startsWith("landscape")}get supported(){return Ce.supported}onConnect(){if(this.supported)p(screen.orientation,"change",this.re.bind(this));else{const t=window.matchMedia("(orientation: landscape)");t.onchange=this.re.bind(this),T(()=>t.onchange=null)}T(this.ya.bind(this))}async ya(){this.supported&&this.Ra()&&await this.unlock()}re(t){this.vb.set(this.qe()),this.dispatch("orientation-change",{detail:{orientation:d(this.vb),lock:this.$b},trigger:t})}async lock(t){d(this.Ra)||this.$b===t||(this.se(),await screen.orientation.lock(t),this.Ra.set(!0),this.$b=t)}async unlock(){d(this.Ra)&&(this.se(),this.$b=void 0,await screen.orientation.unlock(),this.Ra.set(!1))}se(){if(!this.supported)throw Error("[vidstack] no orientation API")}qe(){return this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"}};Ce.supported=Xn();let Se=Ce;class uo{constructor(t=void 0){this.tb=t,this.A=null,this.aa=null,this.Pc=-1}setTarget(t){this.A=t}getPlayer(t){var e;return this.aa?this.aa:((e=t??this.A)==null||e.dispatchEvent(new O("find-media-player",{detail:s=>void(this.aa=s),bubbles:!0,composed:!0})),this.aa)}setPlayer(t){this.aa=t}startLoading(t){this.s("media-start-loading",t)}play(t){this.s("media-play-request",t)}pause(t){this.s("media-pause-request",t)}mute(t){this.s("media-mute-request",t)}unmute(t){this.s("media-unmute-request",t)}enterFullscreen(t,e){this.s("media-enter-fullscreen-request",e,t)}exitFullscreen(t,e){this.s("media-exit-fullscreen-request",e,t)}lockScreenOrientation(t,e){this.s("media-orientation-lock-request",e,t)}unlockScreenOrientation(t){this.s("media-orientation-unlock-request",t)}enterPictureInPicture(t){this.s("media-enter-pip-request",t)}exitPictureInPicture(t){this.s("media-exit-pip-request",t)}seeking(t,e){this.s("media-seeking-request",e,t)}seek(t,e){this.s("media-seek-request",e,t)}seekToLiveEdge(t){this.s("media-live-edge-request",t)}changeVolume(t,e){this.s("media-volume-change-request",e,Math.max(0,Math.min(1,t)))}changeAudioTrack(t,e){this.s("media-audio-track-change-request",e,t)}changeQuality(t,e){this.s("media-quality-change-request",e,t)}requestAutoQuality(t){this.changeQuality(-1,t)}changeTextTrackMode(t,e,s){this.s("media-text-track-change-request",s,{index:t,mode:e})}changePlaybackRate(t,e){this.s("media-rate-change-request",e,t)}resumeControls(t){this.s("media-resume-controls-request",t)}pauseControls(t){this.s("media-pause-controls-request",t)}togglePaused(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.paused?this.play(t):this.pause(t))}toggleControls(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.controls.showing?e.controls.hide(0,t):e.controls.show(0,t))}toggleMuted(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.muted?this.unmute(t):this.mute(t))}toggleFullscreen(t,e){const s=this.getPlayer(e==null?void 0:e.target);s&&(s.state.fullscreen?this.exitFullscreen(t,e):this.enterFullscreen(t,e))}togglePictureInPicture(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.pictureInPicture?this.exitPictureInPicture(t):this.enterPictureInPicture(t))}disableCaptions(t){const e=this.getPlayer(t==null?void 0:t.target);if(!e)return;const s=e.state.textTracks,n=e.state.textTrack;if(n){const r=s.indexOf(n);this.changeTextTrackMode(r,"disabled",t)}}toggleCaptions(t){const e=this.getPlayer(t==null?void 0:t.target);if(!e)return;const s=e.state.textTracks,n=e.state.textTrack;if(n){const r=s.indexOf(n);this.changeTextTrackMode(r,"disabled",t),this.Pc=r}else{let r=this.Pc;(!s[r]||!_(s[r]))&&(r=-1),r===-1&&(r=s.findIndex(a=>_(a)&&a.default)),r===-1&&(r=s.findIndex(a=>_(a))),r>=0&&this.changeTextTrackMode(r,"showing",t),this.Pc=-1}}s(t,e,s){var o,h;const n=new O(t,{bubbles:!0,composed:!0,detail:s,trigger:e});let r=(e==null?void 0:e.target)||null;r&&r instanceof y&&(r=r.el),r=!r||r===document||r===window||r===document.body||((o=this.aa)==null?void 0:o.el)&&r instanceof Node&&!this.aa.el.contains(r)?this.A??((h=this.getPlayer())==null?void 0:h.el):r??this.A,this.aa?this.aa.canPlayQueue.k(t,()=>r==null?void 0:r.dispatchEvent(n)):r==null||r.dispatchEvent(n)}za(t){}}class Vt extends et{}class fo extends Vt{constructor(){super(...arguments),this.Qc=-2,this.Xa=!1,this.ze=$(!1),this.Rc=$(!1),this.wb=null,this.defaultDelay=2e3}get hideOnMouseLeave(){const{hideControlsOnMouseLeave:t}=this.$props;return this.ze()||t()}set hideOnMouseLeave(t){this.ze.set(t)}get showing(){return this.$state.controlsVisible()}show(t=0,e){this.Sc(),this.Xa||this.bc(!0,t,e)}hide(t=this.defaultDelay,e){this.Sc(),this.Xa||this.bc(!1,t,e)}pause(t){this.Xa=!0,this.Sc(),this.bc(!0,0,t)}resume(t){this.Xa=!1,!this.$state.paused()&&this.bc(!1,this.defaultDelay,t)}onConnect(){l(this.bg.bind(this)),l(this.Tc.bind(this));const t=this.xb.bind(this),e=this.Aa.bind(this);this.listen("can-play",s=>this.show(0,s)),this.listen("play",t),this.listen("pause",e),this.listen("autoplay-fail",e)}bg(){const{started:t,pointer:e,paused:s}=this.$state;if(!t()||e()!=="fine")return;const n=this.hideOnMouseLeave;(!n||!this.Rc())&&l(()=>{s()||this.listen("pointermove",this.Ae.bind(this))}),n&&(this.listen("mouseenter",this.cg.bind(this)),this.listen("mouseleave",this.dg.bind(this)))}Tc(){const{paused:t,started:e,autoplayError:s}=this.$state;if(t()||s()&&!e())return;const n=this.Ae.bind(this);l(()=>{const r=this.$state.pointer(),a=r==="coarse",o=[a?"touchend":"pointerup","keydown"];for(const h of o)this.listen(h,n,{passive:!1})})}xb(t){this.show(0,t),this.hide(void 0,t)}Aa(t){this.show(0,t)}cg(t){this.Rc.set(!1),this.show(0,t),this.hide(void 0,t)}dg(t){this.Rc.set(!0),this.hide(0,t)}Sc(){window.clearTimeout(this.Qc),this.Qc=-1}Ae(t){var e;t.MEDIA_GESTURE||this.Xa||_s(t)||(we(t)&&(t.key==="Escape"?((e=this.el)==null||e.focus(),this.wb=null):this.wb&&(t.preventDefault(),requestAnimationFrame(()=>{var s;(s=this.wb)==null||s.focus(),this.wb=null}))),this.show(0,t),this.hide(this.defaultDelay,t))}bc(t,e,s){if(e===0){this.B(t,s);return}this.Qc=window.setTimeout(()=>{this.scope&&this.B(t&&!this.Xa,s)},e)}B(t,e){var s;this.$state.controlsVisible()!==t&&(this.$state.controlsVisible.set(t),!t&&document.activeElement&&((s=this.el)!=null&&s.contains(document.activeElement))&&(this.wb=document.activeElement,requestAnimationFrame(()=>{var n;return(n=this.el)==null?void 0:n.focus()})),this.dispatch("controls-change",{detail:t,trigger:e}))}}class po{constructor(){this.priority=0,this.Be=!0,this.m=null,this.z=null,this.yb=new Set}canRender(t,e){return!!e}attach(t){this.m=t,t&&(t.textTracks.onchange=this.B.bind(this))}addTrack(t){this.yb.add(t),this.eg(t)}removeTrack(t){var e,s;(s=(e=t[w.T])==null?void 0:e.remove)==null||s.call(e),t[w.T]=null,this.yb.delete(t)}changeTrack(t){const e=t==null?void 0:t[w.T];e&&e.track.mode!=="showing"&&(e.track.mode="showing"),this.z=t}setDisplay(t){this.Be=t,this.B()}detach(){this.m&&(this.m.textTracks.onchange=null);for(const t of this.yb)this.removeTrack(t);this.yb.clear(),this.m=null,this.z=null}eg(t){var s;if(!this.m)return;const e=t[s=w.T]??(t[s]=this.fg(t));e instanceof HTMLElement&&(this.m.append(e),e.track.mode=e.default?"showing":"hidden")}fg(t){const e=document.createElement("track"),s=t.default||t.mode==="showing",n=t.src&&t.type==="vtt";return e.id=t.id,e.src=n?t.src:"https://cdn.jsdelivr.net/npm/vidstack@next/empty.vtt",e.label=t.label,e.kind=t.kind,e.default=s,t.language&&(e.srclang=t.language),s&&!n&&this.Ce(t,e.track),e}Ce(t,e){var s;if(!(t.src&&t.type==="vtt"||(s=e.cues)!=null&&s.length))for(const n of t.cues)e.addCue(n)}B(t){var e;for(const s of this.yb){const n=(e=s[w.T])==null?void 0:e.track;if(!n)continue;if(!this.Be){n.mode="disabled";continue}const r=n.mode==="showing";r&&this.Ce(s,n),s.setMode(r?"showing":"disabled",t)}}}class bo{constructor(t){this.a=t,this.m=null,this.cc=[],this.De=!1,this.ba=null,this.Ba=null;const e=t.textTracks;this.Uc=e,l(this.Vc.bind(this)),T(this.Ee.bind(this)),p(e,"add",this.Wc.bind(this)),p(e,"remove",this.gg.bind(this)),p(e,"mode-change",this.ea.bind(this))}Vc(){const{$state:t,$iosControls:e}=this.a;this.De=t.controls()||e(),this.ea()}add(t){this.cc.push(t),this.ea()}remove(t){t.detach(),this.cc.splice(this.cc.indexOf(t),1),this.ea()}Fe(t){requestAnimationFrame(()=>{if(this.m=t,t){this.ba=new po,this.ba.attach(t);for(const e of this.Uc)this.Ge(e)}this.ea()})}Ge(t){var e;_(t)&&((e=this.ba)==null||e.addTrack(t))}hg(t){var e;_(t)&&((e=this.ba)==null||e.removeTrack(t))}Wc(t){this.Ge(t.detail)}gg(t){this.hg(t.detail)}ea(){var s,n,r,a,o,h,c;const t=this.Uc.selected;if(this.m&&(this.De||t!=null&&t[w.te])){(s=this.Ba)==null||s.changeTrack(null),(n=this.ba)==null||n.setDisplay(!0),(r=this.ba)==null||r.changeTrack(t);return}if((a=this.ba)==null||a.setDisplay(!1),(o=this.ba)==null||o.changeTrack(null),!t){(h=this.Ba)==null||h.changeTrack(null);return}const e=this.cc.sort((u,f)=>u.priority-f.priority).find(u=>u.canRender(t,this.m));this.Ba!==e&&((c=this.Ba)==null||c.detach(),e==null||e.attach(this.m),this.Ba=e??null),e==null||e.changeTrack(t)}Ee(){var t,e;(t=this.ba)==null||t.detach(),this.ba=null,(e=this.Ba)==null||e.detach(),this.Ba=null}}class mo extends Jn{constructor(){super(...arguments),this.P=!1,this.dc={},this.Je=this.ig.bind(this)}get selected(){return this.r.find(e=>e.mode==="showing"&&_(e))??null}add(t,e){const s=t instanceof cs,n=s?t:new cs(t);return this.dc[t.kind]&&t.default&&delete t.default,n.addEventListener("mode-change",this.Je),this[E.oa](n,e),n[w.Sa]=this[w.Sa],this.P&&n[w.P](),t.default&&(this.dc[t.kind]=n,n.mode="showing"),this}remove(t,e){if(this.r.includes(t))return t===this.dc[t.kind]&&delete this.dc[t.kind],t.mode="disabled",t[w.Ua]=null,t.removeEventListener("mode-change",this.Je),this[E.Yb](t,e),this}clear(t){for(const e of[...this.r])this.remove(e,t);return this}getById(t){return this.r.find(e=>e.id===t)??null}getByKind(t){const e=Array.isArray(t)?t:[t];return this.r.filter(s=>e.includes(s.kind))}[w.P](){if(!this.P){for(const t of this.r)t[w.P]();this.P=!0}}ig(t){const e=t.detail;if(e.mode==="showing"){const s=_(e)?["captions","subtitles"]:[e.kind];for(const n of this.r)n.mode==="showing"&&n!=e&&s.includes(n.kind)&&(n.mode="disabled")}this.dispatchEvent(new O("mode-change",{detail:t.detail,trigger:t}))}}const Wt=Symbol(0);class ir extends Jn{get selected(){return this.r.find(t=>t.selected)??null}get selectedIndex(){return this.r.findIndex(t=>t.selected)}[E.oe](t,e){this[E.pa](t,!1,e)}[E.oa](t,e){t[Wt]=!1,Object.defineProperty(t,"selected",{get(){return this[Wt]},set:s=>{var n;this.readonly||((n=this[E.pe])==null||n.call(this),this[E.pa](t,s))}}),super[E.oa](t,e)}[E.pa](t,e,s){if(e===(t==null?void 0:t[Wt]))return;const n=this.selected;t&&(t[Wt]=e),(e?n!==t:n===t)&&(n&&(n[Wt]=!1),this.dispatchEvent(new O("change",{detail:{prev:n,current:this.selected},trigger:s})))}}class go extends ir{getById(t){return t===""?null:this.r.find(e=>e.id===t)??null}}class yo extends ir{constructor(){super(...arguments),this.fc=!1,this.switch="current"}get auto(){return this.fc||this.readonly}[E.pe](){this[jt.Ya](!1)}[E.ne](t){this[jt.Ya](!1,t)}autoSelect(t){var e;this.readonly||this.fc||!this[jt.Za]||((e=this[jt.Za])==null||e.call(this),this[jt.Ya](!0,t))}[jt.Ya](t,e){this.fc!==t&&(this.fc=t,this.dispatchEvent(new O("auto-change",{detail:t,trigger:e})))}}function $o(i){return i instanceof HTMLAudioElement}function wo(i){return i instanceof HTMLVideoElement}function vo(i){return $o(i)||wo(i)}const To={togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},Bi=new Set(["Shift","Alt","Meta","Control"]),xo='button, [role="button"]',zi='input, textarea, select, [contenteditable], [role^="menuitem"]';class ko extends Vt{constructor(t){super(),this.a=t,this._a=null}onConnect(){l(this.mg.bind(this))}mg(){const{keyDisabled:t,keyTarget:e}=this.$props;if(t())return;const s=e()==="player"?this.el:document,n=$(!1);s===this.el?(this.listen("focusin",()=>n.set(!0)),this.listen("focusout",r=>{this.el.contains(r.target)||n.set(!1)})):(d(n)||n.set(document.querySelector("[data-media-player]")===this.el),p(document,"focusin",r=>{const a=r.composedPath().find(o=>o instanceof Element&&o.localName==="media-player");a!==void 0&&n.set(this.el===a)})),l(()=>{n()&&(p(s,"keyup",this.zb.bind(this)),p(s,"keydown",this.Ab.bind(this)),p(s,"keydown",this.ng.bind(this),{capture:!0}))})}zb(t){const e=document.activeElement;if(!t.key||!this.$state.canSeek()||e!=null&&e.matches(zi))return;let{method:s,value:n}=this.Zc(t);if(!D(n)&&!X(n)){n==null||n.callback(t);return}if(s!=null&&s.startsWith("seek")&&(t.preventDefault(),t.stopPropagation(),this._a?(this.Ne(t,s==="seekForward"),this._a=null):(this.a.remote.seek(this.gc,t),this.gc=void 0)),s!=null&&s.startsWith("volume")){const r=this.el.querySelector("[data-media-volume-slider]");r==null||r.dispatchEvent(new KeyboardEvent("keyup",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}))}}Ab(t){var r,a;if(!t.key||Bi.has(t.key))return;const e=document.activeElement;if(e!=null&&e.matches(zi)||Dn(t)&&(e!=null&&e.matches(xo)))return;let{method:s,value:n}=this.Zc(t);if(!D(n)&&!X(n)){n==null||n.callback(t);return}if(!s&&!t.metaKey&&/[0-9]/.test(t.key)){t.preventDefault(),t.stopPropagation(),this.a.remote.seek(this.$state.duration()/10*Number(t.key),t);return}if(s)switch(t.preventDefault(),t.stopPropagation(),s){case"seekForward":case"seekBackward":this.qa(t,s,s==="seekForward");break;case"volumeUp":case"volumeDown":const o=this.el.querySelector("[data-media-volume-slider]");if(o)o.dispatchEvent(new KeyboardEvent("keydown",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}));else{const c=t.shiftKey?.1:.05;this.a.remote.changeVolume(this.$state.volume()+(s==="volumeUp"?+c:-c),t)}break;case"toggleFullscreen":this.a.remote.toggleFullscreen("prefer-media",t);break;case"speedUp":case"slowDown":const h=this.$state.playbackRate();this.a.remote.changePlaybackRate(Math.max(.25,Math.min(2,h+(s==="speedUp"?.25:-.25))),t);break;default:(a=(r=this.a.remote)[s])==null||a.call(r,t)}}ng(t){vo(t.target)&&this.Zc(t).method&&t.preventDefault()}Zc(t){const e={...this.$props.keyShortcuts(),...this.a.ariaKeys},s=Object.keys(e).find(n=>{var o;const r=e[n],a=X(r)?r.join(" "):D(r)?r:r==null?void 0:r.keys;return(o=X(a)?a:a==null?void 0:a.split(" "))==null?void 0:o.some(h=>So(h).replace(/Control/g,"Ctrl").split("+").every(c=>Bi.has(c)?t[c.toLowerCase()+"Key"]:t.key===c.replace("Space"," ")))});return{method:s,value:s?e[s]:null}}og(t,e){const s=t.shiftKey?10:5;return this.gc=Math.max(0,Math.min((this.gc??this.$state.currentTime())+(e==="seekForward"?+s:-s),this.$state.duration()))}Ne(t,e){var s;(s=this._a)==null||s.dispatchEvent(new KeyboardEvent(t.type,{key:e?"Right":"Left",shiftKey:t.shiftKey,trigger:t}))}qa(t,e,s){this.$state.canSeek()&&(this._a||(this._a=this.el.querySelector("[data-media-time-slider]")),this._a?this.Ne(t,s):this.a.remote.seeking(this.og(t,e),t))}}const Eo=["!","@","#","$","%","^","&","*","(",")"];function So(i){return i.replace(/Shift\+(\d)/g,(t,e)=>Eo[e-1])}class Po extends et{constructor(t){super(),this._c=t}onAttach(t){const{$props:e,ariaKeys:s}=x(),n=t.getAttribute("aria-keyshortcuts");if(n){s[this._c]=n,T(()=>{delete s[this._c]});return}const r=e.keyShortcuts()[this._c];if(r){const a=X(r)?r.join(" "):D(r)?r:r==null?void 0:r.keys;t.setAttribute("aria-keyshortcuts",X(a)?a.join(" "):a)}}}class Ao{canPlay({src:t,type:e}){return D(t)?eo.test(t)||so.has(e)||t.startsWith("blob:")&&e==="audio/object":e==="audio/object"}mediaType(){return"audio"}async load(){return new(await lt(()=>import("./vidstack-audio-Ki6xPpMB.js"),__vite__mapDeps([2,3,4,1]))).AudioProvider(this.target)}}class nr{canPlay(t){return D(t.src)?io.test(t.src)||no.has(t.type)||t.src.startsWith("blob:")&&t.type==="video/object"||Fs(t)&&ja():t.type==="video/object"}mediaType(){return"video"}async load(t){return new(await lt(()=>import("./vidstack-video--JyAfZ36.js"),__vite__mapDeps([5,3,4,1]))).VideoProvider(this.target,t)}}class Co{canPlay(t){return D(t.src)&&t.type==="video/youtube"}mediaType(){return"video"}async load(t){return new(await lt(()=>import("./vidstack-youtube-MxnDZZNh.js"),__vite__mapDeps([6,7,1]))).YouTubeProvider(this.target)}}const Oe=class Oe extends nr{canPlay(t){return Oe.supported&&Fs(t)}async load(t){return new(await lt(()=>import("./vidstack-hls-Vo-MmZjx.js"),__vite__mapDeps([8,5,3,4,1]))).HLSProvider(this.target,t)}};Oe.supported=Yn();let us=Oe;class Oo{canPlay(t){return D(t.src)&&t.type==="video/vimeo"}mediaType(){return"video"}async load(t){return new(await lt(()=>import("./vidstack-vimeo-JfA8EVo5.js"),__vite__mapDeps([9,4,7,1]))).VimeoProvider(this.target)}}const es=Symbol(0),jo=["autoplay","canFullscreen","canPictureInPicture","canLoad","canPlay","canSeek","ended","fullscreen","loop","live","liveEdge","mediaType","muted","paused","pictureInPicture","playing","playsinline","seeking","started","streamType","viewType","waiting"],Lo={autoplay:!1,controls:!1,currentTime:0,crossorigin:null,fullscreenOrientation:"landscape",load:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",title:"",controlsDelay:2e3,hideControlsOnMouseLeave:!1,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:To};class Do extends Vt{constructor(t){super(),this.Ca=t}async onAttach(t){const e=this.$props.load();if(e==="eager")requestAnimationFrame(this.Ca);else if(e==="idle")Ir(this.Ca);else if(e==="visible"){const s=new IntersectionObserver(n=>{this.scope&&n[0].isIntersecting&&(s.disconnect(),this.Ca())});return s.observe(t),s.disconnect.bind(s)}}}class Mo{constructor(t,e){this.X=t,this.a=e,this.c=(s,...n)=>{this.X(new O(s,{detail:n==null?void 0:n[0],trigger:n==null?void 0:n[1]}))}}async jc(t,e){var u;const{$state:s,logger:n}=this.a;if(d(s.canPlay))return;const r={duration:(t==null?void 0:t.duration)??d(s.duration),seekable:(t==null?void 0:t.seekable)??d(s.seekable),buffered:(t==null?void 0:t.buffered)??d(s.buffered),provider:d(this.a.$provider)};this.c("can-play",r,e),pt();const a=d(this.a.$provider),{muted:o,volume:h,playsinline:c}=this.a.$props;a&&(a.setVolume(d(h)),a.setMuted(d(o)),(u=a.setPlaysinline)==null||u.call(a,d(c))),s.canPlay()&&s.autoplay()&&!s.started()&&await this.oh(e)}async oh(t){const{player:e,$state:s}=this.a;s.autoplaying.set(!0);const n=new O("autoplay-attempt",{trigger:t});try{await e.play(n)}catch{}}}class Ro{constructor(){this.e=new Map}k(t,e){this.e.has(t)||this.e.set(t,new Set),this.e.get(t).add(e)}td(t,e){const s=this.e.get(t);if(s)for(const n of s)e(n);this.e.delete(t)}qc(t){this.e.delete(t)}ph(t){var e;return((e=this.e.get(t))==null?void 0:e.size)??0}H(){this.e.clear()}}class rr{constructor(){this.Mb=!1,this.Ed=os(),this.e=new Map}get ph(){return this.e.size}get Rj(){return this.Mb}async Sj(){this.Mb||await this.Ed.promise}k(t,e){if(this.Mb){e();return}this.e.delete(t),this.e.set(t,e)}td(t){var e;(e=this.e.get(t))==null||e(),this.e.delete(t)}Bb(){this.jf(),this.Mb=!0,this.e.size>0&&this.jf()}ra(){this.Mb=!1}H(){this.ra(),this.e.clear(),this.kf()}jf(){for(const t of this.e.keys())this.td(t);this.kf()}kf(){this.Ed.resolve(),this.Ed=os()}}class Io extends Vt{constructor(t,e,s){super(),this.ga=t,this.f=e,this.a=s,this.vk=new rr,this.vd=!1,this.uk=s.$provider,this.Ib=new fo,this.rc=new co,this.ta=new Se}onAttach(){this.listen("fullscreen-change",this.Oc.bind(this))}onConnect(){const t=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),e=this.qh.bind(this);for(const s of t)s.startsWith("media-")&&this.listen(s,e);l(this.wk.bind(this)),l(this.rh.bind(this)),l(this.sh.bind(this)),l(this.th.bind(this))}onDestroy(){this.vk.H()}wk(){const t=this.uk(),e=this.$state.canPlay();return t&&e&&this.vk.Bb(),()=>{this.vk.ra()}}qh(t){t.stopPropagation(),this[t.type]&&(d(this.uk)?this[t.type](t):this.vk.k(t.type,()=>{d(this.uk)&&this[t.type](t)}))}async sc(t){const{canPlay:e,paused:s,ended:n,autoplaying:r,seekableStart:a}=this.$state;if(d(s)){(t==null?void 0:t.type)==="media-play-request"&&this.f.e.k("play",t);try{const o=d(this.uk);return ss(o,d(e)),d(n)&&o.setCurrentTime(a()+.1),await o.play()}catch(o){const h=this.createEvent("play-fail",{detail:Ge(o),trigger:t});throw h.autoplay=r(),this.ga.X(h),o}}}async ud(t){const{canPlay:e,paused:s}=this.$state;if(d(s))return;(t==null?void 0:t.type)==="media-pause-request"&&this.f.e.k("pause",t);const n=d(this.uk);return ss(n,d(e)),n.pause()}Ze(t){const{canPlay:e,live:s,liveEdge:n,canSeek:r,liveSyncPosition:a,seekableEnd:o,userBehindLiveEdge:h}=this.$state;if(h.set(!1),d(()=>!s()||n()||!r()))return;const c=d(this.uk);ss(c,d(e)),c.setCurrentTime(a()??o()-2)}async _e(t="prefer-media",e){const s=this.$e(t);if(Qi(t,s),!s.active)return d(this.$state.pictureInPicture)&&(this.vd=!0,await this.wd(e)),(e==null?void 0:e.type)==="media-enter-fullscreen-request"&&this.f.e.k("fullscreen",e),s.enter()}async af(t="prefer-media",e){const s=this.$e(t);if(Qi(t,s),!!s.active){(e==null?void 0:e.type)==="media-exit-fullscreen-request"&&this.f.e.k("fullscreen",e);try{const n=await s.exit();return this.vd&&d(this.$state.canPictureInPicture)&&await this.xd(),n}finally{this.vd=!1}}}$e(t){const e=d(this.uk);return t==="prefer-media"&&this.rc.supported||t==="media"?this.rc:e==null?void 0:e.fullscreen}async xd(t){if(this.bf(),!this.$state.pictureInPicture())return(t==null?void 0:t.type)==="media-enter-pip-request"&&this.f.e.k("pip",t),await this.uk().pictureInPicture.enter()}async wd(t){if(this.bf(),!!this.$state.pictureInPicture())return(t==null?void 0:t.type)==="media-exit-pip-request"&&this.f.e.k("pip",t),await this.uk().pictureInPicture.exit()}bf(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")}rh(){this.Ib.defaultDelay=this.$props.controlsDelay()}sh(){var n,r;const{canLoad:t,canFullscreen:e}=this.$state,s=this.rc.supported||((r=(n=this.uk())==null?void 0:n.fullscreen)==null?void 0:r.supported)||!1;t()&&d(e)===s||e.set(s)}th(){var n,r;const{canLoad:t,canPictureInPicture:e}=this.$state,s=((r=(n=this.uk())==null?void 0:n.pictureInPicture)==null?void 0:r.supported)||!1;t()&&d(e)===s||e.set(s)}"media-audio-track-change-request"(t){if(this.a.audioTracks.readonly)return;const e=t.detail,s=this.a.audioTracks[e];s&&(this.f.e.k("audioTrack",t),s.selected=!0)}async"media-enter-fullscreen-request"(t){try{await this._e(t.detail,t)}catch(e){this._b(e,t)}}async"media-exit-fullscreen-request"(t){try{await this.af(t.detail,t)}catch(e){this._b(e,t)}}async Oc(t){const e=d(this.$props.fullscreenOrientation),s=t.detail;if(!(H(e)||!this.ta.supported))if(s){if(this.ta.locked)return;this.dispatch("media-orientation-lock-request",{detail:e,trigger:t})}else this.ta.locked&&this.dispatch("media-orientation-unlock-request",{trigger:t})}_b(t,e){this.ga.X(this.createEvent("fullscreen-error",{detail:Ge(t)}))}async"media-orientation-lock-request"(t){try{this.f.e.k("orientation",t),await this.ta.lock(t.detail)}catch{this.f.e.qc("orientation")}}async"media-orientation-unlock-request"(t){try{this.f.e.k("orientation",t),await this.ta.unlock()}catch{this.f.e.qc("orientation")}}async"media-enter-pip-request"(t){try{await this.xd(t)}catch(e){this.cf(e,t)}}async"media-exit-pip-request"(t){try{await this.wd(t)}catch(e){this.cf(e,t)}}cf(t,e){this.ga.X(this.createEvent("picture-in-picture-error",{detail:Ge(t)}))}"media-live-edge-request"(t){const{live:e,liveEdge:s,canSeek:n}=this.$state;if(!(!e()||s()||!n())){this.f.e.k("seeked",t);try{this.Ze()}catch{}}}async"media-loop-request"(t){try{this.f.Ha=!0,this.f.gb=!0,await this.sc(t)}catch{this.f.Ha=!1,this.f.gb=!1}}async"media-pause-request"(t){if(!this.$state.paused())try{await this.ud(t)}catch{this.f.e.qc("pause")}}async"media-play-request"(t){if(this.$state.paused())try{await this.sc(t)}catch{}}"media-rate-change-request"(t){const{playbackRate:e,canSetPlaybackRate:s}=this.$state;if(e()===t.detail||!s())return;const n=this.uk();n!=null&&n.setPlaybackRate&&(this.f.e.k("rate",t),n.setPlaybackRate(t.detail))}"media-quality-change-request"(t){if(this.a.qualities.readonly)return;this.f.e.k("quality",t);const e=t.detail;if(e<0)this.a.qualities.autoSelect(t);else{const s=this.a.qualities[e];s&&(s.selected=!0)}}"media-pause-controls-request"(t){this.f.e.k("controls",t),this.Ib.pause(t)}"media-resume-controls-request"(t){this.f.e.k("controls",t),this.Ib.resume(t)}"media-seek-request"(t){const{seekableStart:e,seekableEnd:s,ended:n,canSeek:r,live:a,userBehindLiveEdge:o}=this.$state;n()&&(this.f.gb=!0),this.f.qa=!1,this.f.e.qc("seeking");const h=Math.min(Math.max(e()+.1,t.detail),s()-.1);!Number.isFinite(h)||!r()||(this.f.e.k("seeked",t),this.uk().setCurrentTime(h),a()&&t.isOriginTrusted&&Math.abs(s()-h)>=2&&o.set(!0))}"media-seeking-request"(t){this.f.e.k("seeking",t),this.$state.seeking.set(!0),this.f.qa=!0}"media-start-loading"(t){this.$state.canLoad()||(this.f.e.k("load",t),this.ga.X(this.createEvent("can-load")))}"media-text-track-change-request"(t){const{index:e,mode:s}=t.detail,n=this.a.textTracks[e];n&&(this.f.e.k("textTrack",t),n.setMode(s,t))}"media-mute-request"(t){this.$state.muted()||(this.f.e.k("volume",t),this.uk().setMuted(!0))}"media-unmute-request"(t){const{muted:e,volume:s}=this.$state;e()&&(this.f.e.k("volume",t),this.a.$provider().setMuted(!1),s()===0&&(this.f.e.k("volume",t),this.uk().setVolume(.25)))}"media-volume-change-request"(t){const{muted:e,volume:s}=this.$state,n=t.detail;s()!==n&&(this.f.e.k("volume",t),this.uk().setVolume(n),n>0&&e()&&(this.f.e.k("volume",t),this.uk().setMuted(!1)))}}function ss(i,t){if(!(i&&t))throw Error("[vidstack] media not ready")}function Qi(i,t){if(!(t!=null&&t.supported))throw Error("[vidstack] no fullscreen support")}class _o{constructor(){this.qa=!1,this.Ha=!1,this.gb=!1,this.e=new Ro}}var ar=Fo;function Fo(i,t,e){var s=null,n=null,r=function(){s&&(clearTimeout(s),n=null,s=null)},a=function(){var h=n;r(),h&&h()},o=function(){if(!t)return i.apply(this,arguments);var h=this,c=arguments,u=e&&!s;if(r(),n=function(){i.apply(h,c)},s=setTimeout(function(){if(s=null,!u){var f=n;return n=null,f()}},t),u)return n()};return o.cancel=r,o.flush=a,o}var Ue=qo;function qo(i,t,e){var s=null,n=null,r=e&&e.leading,a=e&&e.trailing;r==null&&(r=!0),a==null&&(a=!r),r==!0&&(a=!1);var o=function(){s&&(clearTimeout(s),s=null)},h=function(){var u=n;o(),u&&u()},c=function(){var u=r&&!s,f=this,b=arguments;if(n=function(){return i.apply(f,b)},s||(s=setTimeout(function(){if(s=null,a)return n()},t)),u)return u=!1,n()};return c.cancel=o,c.flush=h,c}const No=new Set(["autoplay","autoplay-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]);class Vo extends Vt{constructor(t,e){super(),this.f=t,this.a=e,this.p=new Map,this.tc=!1,this.Jb=!1,this.seeking=Ue(s=>{const{seeking:n,currentTime:r,paused:a}=this.$state;n.set(!0),r.set(s.detail),this.F("seeking",s),a()&&(this.hb=s,this.zd())},150,{leading:!0}),this.zd=ar(()=>{if(!this.hb)return;this.tc=!0;const{waiting:s,playing:n}=this.$state;s.set(!0),n.set(!1);const r=this.createEvent("waiting",{trigger:this.hb});this.p.set("waiting",r),this.dispatch(r),this.hb=void 0,this.tc=!1},300)}onAttach(t){t.setAttribute("aria-busy","true"),this.listen("fullscreen-change",this["fullscreen-change"].bind(this)),this.listen("fullscreen-error",this["fullscreen-error"].bind(this)),this.listen("orientation-change",this["orientation-change"].bind(this))}onConnect(t){this.uh(),this.vh(),this.wh(),this.xh(),T(this.yh.bind(this))}X(t){var s;if(!this.scope)return;const e=t.type;(s=this[t.type])==null||s.call(this,t),No.has(e)&&this.p.set(e,t),this.dispatch(t)}xh(){var t;this.Jb&&((t=this.a.$provider())!=null&&t.paused&&requestAnimationFrame(()=>{this.scope&&this.a.remote.play(new O("dom-connect"))}),this.Jb=!1)}yh(){var t;this.Jb||(this.Jb=!this.a.$state.paused(),(t=this.a.$provider())==null||t.pause())}ib(){this.df(),this.f.gb=!1,this.f.Ha=!1,this.tc=!1,this.hb=void 0,this.p.clear()}F(t,e){this.f.e.td(t,s=>{e.request=s,e.triggers.add(s)})}uh(){this.yd(),this.ef();const t=this.a.textTracks;p(t,"add",this.yd.bind(this)),p(t,"remove",this.yd.bind(this)),p(t,"mode-change",this.ef.bind(this))}vh(){const t=this.a.qualities;p(t,"add",this.pc.bind(this)),p(t,"remove",this.pc.bind(this)),p(t,"change",this.fb.bind(this)),p(t,"auto-change",this.zh.bind(this)),p(t,"readonly-change",this.Ah.bind(this))}wh(){const t=this.a.audioTracks;p(t,"add",this.ff.bind(this)),p(t,"remove",this.ff.bind(this)),p(t,"change",this.Bh.bind(this))}yd(t){const{textTracks:e}=this.$state;e.set(this.a.textTracks.toArray()),this.dispatch("text-tracks-change",{detail:e(),trigger:t})}ef(t){t&&this.F("textTrack",t);const e=this.a.textTracks.selected,{textTrack:s}=this.$state;s()!==e&&(s.set(e),this.dispatch("text-track-change",{detail:e,trigger:t}))}ff(t){const{audioTracks:e}=this.$state;e.set(this.a.audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:e(),trigger:t})}Bh(t){const{audioTrack:e}=this.$state;e.set(this.a.audioTracks.selected),this.F("audioTrack",t),this.dispatch("audio-track-change",{detail:e(),trigger:t})}pc(t){const{qualities:e}=this.$state;e.set(this.a.qualities.toArray()),this.dispatch("qualities-change",{detail:e(),trigger:t})}fb(t){const{quality:e}=this.$state;e.set(this.a.qualities.selected),this.F("quality",t),this.dispatch("quality-change",{detail:e(),trigger:t})}zh(){this.$state.autoQuality.set(this.a.qualities.auto)}Ah(){this.$state.canSetQuality.set(!this.a.qualities.readonly)}"provider-change"(t){var n,r;const e=this.a.$provider(),s=t.detail;(e==null?void 0:e.type)!==(s==null?void 0:s.type)&&((n=e==null?void 0:e.destroy)==null||n.call(e),(r=e==null?void 0:e.scope)==null||r.dispose(),this.a.$provider.set(t.detail),e&&t.detail===null&&this.gf(t))}"provider-loader-change"(t){}autoplay(t){this.$state.autoplayError.set(null)}"autoplay-fail"(t){this.$state.autoplayError.set(t.detail),this.ib()}"can-load"(t){this.$state.canLoad.set(!0),this.p.set("can-load",t),this.F("load",t),this.a.textTracks[w.P]()}"media-type-change"(t){const e=this.p.get("source-change");e&&t.triggers.add(e);const s=this.$state.viewType();this.$state.mediaType.set(t.detail);const n=this.$state.providedViewType(),r=n==="unknown"?t.detail:n;s!==r&&setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(t.detail),this.dispatch("view-type-change",{detail:r,trigger:t}))})},0)}"stream-type-change"(t){const e=this.p.get("source-change");e&&t.triggers.add(e);const{streamType:s,inferredStreamType:n}=this.$state;n.set(t.detail),t.detail=s()}"rate-change"(t){this.$state.playbackRate.set(t.detail),this.F("rate",t)}"sources-change"(t){this.$state.sources.set(t.detail)}"source-change"(t){var s;const e=this.p.get("sources-change");e&&t.triggers.add(e),this.gf(t),this.p.set(t.type,t),this.$state.source.set(t.detail),(s=this.el)==null||s.setAttribute("aria-busy","true")}gf(t){this.a.audioTracks[E.H](t),this.a.qualities[E.H](t),this.ib(),Ia(this.a.$state)}abort(t){const e=this.p.get("source-change");e&&t.triggers.add(e);const s=this.p.get("can-load");s&&!t.triggers.hasType("can-load")&&t.triggers.add(s)}"load-start"(t){const e=this.p.get("source-change");e&&t.triggers.add(e)}error(t){this.$state.error.set(t.detail);const e=this.p.get("abort");e&&t.triggers.add(e)}"loaded-metadata"(t){const e=this.p.get("load-start");e&&t.triggers.add(e)}"loaded-data"(t){const e=this.p.get("load-start");e&&t.triggers.add(e)}"can-play"(t){var s;const e=this.p.get("loaded-metadata");e&&t.triggers.add(e),this.hf(t.detail),(s=this.el)==null||s.setAttribute("aria-busy","false")}"can-play-through"(t){this.hf(t.detail);const e=this.p.get("can-play");e&&t.triggers.add(e)}hf(t){const{seekable:e,seekableEnd:s,buffered:n,duration:r,canPlay:a}=this.$state;a.set(!0),n.set(t.buffered),e.set(t.seekable),r.set(s())}"duration-change"(t){const{live:e,duration:s}=this.$state,n=t.detail;e()||s.set(Number.isNaN(n)?0:n)}progress(t){const{buffered:e,seekable:s,live:n,duration:r,seekableEnd:a}=this.$state,o=t.detail;e.set(o.buffered),s.set(o.seekable),n()&&(r.set(a),this.dispatch("duration-change",{detail:a(),trigger:t}))}play(t){const{paused:e,autoplayError:s,ended:n,autoplaying:r,playsinline:a,pointer:o,muted:h,viewType:c}=this.$state;if(t.autoplay=r(),this.f.Ha||!e()){t.stopImmediatePropagation();return}const u=this.p.get("waiting");u&&t.triggers.add(u),this.F("play",t),this.p.set("play",t),e.set(!1),s.set(null),t.autoplay&&(this.X(this.createEvent("autoplay",{detail:{muted:h()},trigger:t})),r.set(!1)),(n()||this.f.gb)&&(this.f.gb=!1,n.set(!1),this.X(this.createEvent("replay",{trigger:t}))),!a()&&c()==="video"&&o()==="coarse"&&this.a.remote.enterFullscreen("prefer-media",t)}"play-fail"(t){const{muted:e,autoplaying:s}=this.$state,n=this.p.get("play");n&&t.triggers.add(n),this.F("play",t);const{paused:r,playing:a}=this.$state;r.set(!0),a.set(!1),this.ib(),this.p.set("play-fail",t),t.autoplay&&(this.X(this.createEvent("autoplay-fail",{detail:{muted:e(),error:t.detail},trigger:t})),s.set(!1))}playing(t){const e=this.p.get("play"),s=this.p.get("seeked");e?t.triggers.add(e):s&&t.triggers.add(s),setTimeout(()=>this.ib(),0);const{paused:n,playing:r,live:a,liveSyncPosition:o,seekableEnd:h,started:c,currentTime:u,seeking:f,ended:b}=this.$state;if(n.set(!1),r.set(!0),f.set(!1),b.set(!1),this.f.Ha){t.stopImmediatePropagation(),this.f.Ha=!1;return}if(a()&&!c()&&u()===0){const m=o()??h()-2;Number.isFinite(m)&&this.a.$provider().setCurrentTime(m)}this.started(t)}started(t){const{started:e}=this.$state;e()||(e.set(!0),this.X(this.createEvent("started",{trigger:t})))}pause(t){var r;if((r=this.el)!=null&&r.isConnected||(this.Jb=!0),this.f.Ha){t.stopImmediatePropagation();return}const e=this.p.get("seeked");e&&t.triggers.add(e),this.F("pause",t);const{paused:s,playing:n}=this.$state;s.set(!0),n.set(!1),this.ib()}"time-update"(t){const{currentTime:e,played:s,waiting:n}=this.$state,r=t.detail;e.set(r.currentTime),s.set(r.played),n.set(!1);for(const a of this.a.textTracks)a[w.Ta](r.currentTime,t)}"volume-change"(t){const{volume:e,muted:s}=this.$state,n=t.detail;e.set(n.volume),s.set(n.muted||n.volume===0),this.F("volume",t)}seeked(t){const{seeking:e,currentTime:s,paused:n,duration:r,ended:a}=this.$state;if(this.f.qa)e.set(!0),t.stopImmediatePropagation();else if(e()){const o=this.p.get("waiting");o&&t.triggers.add(o);const h=this.p.get("seeking");h&&!t.triggers.has(h)&&t.triggers.add(h),n()&&this.df(),e.set(!1),t.detail!==r()&&a.set(!1),s.set(t.detail),this.F("seeked",t);const c=t==null?void 0:t.originEvent;c!=null&&c.isTrusted&&!/seek/.test(c.type)&&this.started(t)}}waiting(t){this.tc||this.f.qa||(t.stopImmediatePropagation(),this.hb=t,this.zd())}end(t){const{loop:e}=this.$state;if(e()){setTimeout(()=>{requestAnimationFrame(()=>{this.dispatch("media-loop-request",{trigger:t})})},0);return}this.Db(t)}Db(t){const{paused:e,seeking:s,ended:n,duration:r}=this.$state;e()||this.dispatch("pause",{trigger:t}),s()&&this.dispatch("seeked",{detail:r(),trigger:t}),n.set(!0),this.ib(),this.dispatch("ended",{trigger:t})}df(){this.zd.cancel(),this.$state.waiting.set(!1)}"fullscreen-change"(t){this.$state.fullscreen.set(t.detail),this.F("fullscreen",t)}"fullscreen-error"(t){this.F("fullscreen",t)}"orientation-change"(t){this.F("orientation",t)}"picture-in-picture-change"(t){this.$state.pictureInPicture.set(t.detail),this.F("pip",t)}"picture-in-picture-error"(t){this.F("pip",t)}"title-change"(t){t.stopImmediatePropagation(),this.$state.inferredTitle.set(t.detail)}"poster-change"(t){t.stopImmediatePropagation(),this.$state.inferredPoster.set(t.detail)}}class Ho extends Vt{onSetup(){this.Ch(),l(this.Eh.bind(this)),l(this.uc.bind(this)),l(this.Fh.bind(this)),l(this.ld.bind(this)),l(this.Gh.bind(this)),l(this.Vc.bind(this)),l(this.Hh.bind(this)),l(this.Ad.bind(this)),l(this.Ih.bind(this)),l(this.Jh.bind(this)),l(this.Kh.bind(this))}Ch(){var e;const t={poster:"providedPoster",streamType:"providedStreamType",title:"providedTitle",viewType:"providedViewType"};for(const s of Object.keys(this.$props))(e=this.$state[t[s]??s])==null||e.set(this.$props[s]());this.$state.muted.set(this.$props.muted()||this.$props.volume()===0)}Eh(){const{viewType:t,streamType:e,title:s,poster:n}=this.$props;this.$state.providedPoster.set(n()),this.$state.providedStreamType.set(e()),this.$state.providedViewType.set(t()),this.$state.providedTitle.set(s())}Dh(){}uc(){const{title:t}=this.$state;this.dispatch("title-change",{detail:t()})}Fh(){const t=this.$props.autoplay();this.$state.autoplay.set(t),this.dispatch("autoplay-change",{detail:t})}Gh(){const t=this.$props.loop();this.$state.loop.set(t),this.dispatch("loop-change",{detail:t})}Vc(){const t=this.$props.controls();this.$state.controls.set(t)}ld(){const{poster:t}=this.$state;this.dispatch("poster-change",{detail:t()})}Hh(){const t=this.$props.crossorigin();this.$state.crossorigin.set(t===!0?"":t)}Ad(){const t=this.$props.playsinline();this.$state.playsinline.set(t),this.dispatch("playsinline-change",{detail:t})}Jh(){this.dispatch("live-change",{detail:this.$state.live()})}Ih(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())}Kh(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})}}let ds=$(!1);p(document,"pointerdown",()=>{ds.set(!1)}),p(document,"keydown",i=>{i.metaKey||i.altKey||i.ctrlKey||ds.set(!0)});class at extends et{constructor(){super(...arguments),this.Kb=$(!1)}onConnect(t){l(()=>{if(!ds()){this.Kb.set(!1),de(t,!1),this.listen("pointerenter",this.Cd.bind(this)),this.listen("pointerleave",this.Dd.bind(this));return}const e=document.activeElement===t;this.Kb.set(e),de(t,e),this.listen("focus",this.Lb.bind(this)),this.listen("blur",this.Nh.bind(this))})}focused(){return this.Kb()}Lb(){this.Kb.set(!0),de(this.el,!0)}Nh(){this.Kb.set(!1),de(this.el,!1)}Cd(){Xi(this.el,!0)}Dd(){Xi(this.el,!1)}}function de(i,t){v(i,"data-focus",t),v(i,"data-hocus",t)}function Xi(i,t){v(i,"data-hocus",t),v(i,"data-hover",t)}var Wo=Object.defineProperty,Ko=Object.getOwnPropertyDescriptor,C=(i,t,e,s)=>{for(var n=s>1?void 0:s?Ko(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Wo(t,e,n),n},ht;const A=(ht=class extends y{constructor(){super(),this.canPlayQueue=new rr,this.wc=!1,new Ho;const t={player:this,scope:Ne(),qualities:new yo,audioTracks:new go,$provider:$(null),$providerSetup:$(!1),$props:this.$props,$state:this.$state};t.remote=new uo(void 0),t.remote.setPlayer(this),t.$iosControls=Ct(this.Oh.bind(this)),t.textTracks=new mo,t.textTracks[w.Sa]=this.$state.crossorigin,t.textRenderers=new bo(t),t.ariaKeys={},this.a=t,J(Zn,t),this.orientation=new Se,new at,new ko(t);const e=new _o;this.ga=new Vo(e,t),this.Y=new Io(this.ga,e,t),t.delegate=new Mo(this.ga.X.bind(this.ga),t),new Do(this.startLoading.bind(this))}get i(){return this.a.$provider()}onSetup(){this.Ph(),l(this.Qh.bind(this)),l(this.Rh.bind(this)),l(this.Tc.bind(this)),l(this.Fd.bind(this)),l(this.jb.bind(this)),l(this.Ad.bind(this)),l(this.Sh.bind(this))}onAttach(t){t.setAttribute("data-media-player",""),k(t,"tabindex","0"),k(t,"role","region"),l(this.uc.bind(this)),l(this.lf.bind(this)),p(t,"find-media-player",this.Th.bind(this))}onConnect(t){Ri&&v(t,"data-iphone",""),La().then(this.$state.canSetVolume.set);const e=window.matchMedia("(pointer: coarse)");this.mf(e),e.onchange=this.mf.bind(this);const s=new ResizeObserver(qt(this.O.bind(this)));s.observe(t),l(this.O.bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),T(()=>{s.disconnect(),e.onchange=null})}onDestroy(){this.a.player=null,this.canPlayQueue.H()}uc(){var h;if(this.wc){this.wc=!1;return}const{title:t,live:e,viewType:s}=this.$state,n=e(),r=Lr(s()),a=r!=="Unknown"?`${n?"Live ":""}${r}`:n?"Live":"Media",o=t();v(this.el,"aria-label",o?`${a} - ${o}`:a+" Player"),this.el&&customElements.get(this.el.localName)&&(this.wc=!0),(h=this.el)==null||h.removeAttribute("title")}lf(){const t=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(t),v(this.el,"data-orientation",t),this.O()}Qh(){this.$state.canPlay()&&this.i?this.canPlayQueue.Bb():this.canPlayQueue.ra()}Ph(){if(ht[es]){this.setAttributes(ht[es]);return}const t={"data-captions":function(){const s=this.$state.textTrack();return!!s&&_(s)},"data-ios-controls":function(){return this.a.$iosControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){const{canPlay:s,waiting:n}=this.$state;return!s()||n()},"data-error":function(){const{error:s}=this.$state;return!!s()},"data-autoplay-error":function(){const{autoplayError:s}=this.$state;return!!s()}},e={canPictureInPicture:"can-pip",pictureInPicture:"pip"};for(const s of jo){const n="data-"+(e[s]??js(s));t[n]=function(){return this.$state[s]()}}delete t.title,ht[es]=t,this.setAttributes(t)}Th(t){t.detail(this)}O(){if(!this.el)return;const t=this.el.clientWidth,e=this.el.clientHeight;this.$state.width.set(t),this.$state.height.set(e),W(this.el,"--player-width",t+"px"),W(this.el,"--player-height",e+"px")}mf(t){const e=t.matches?"coarse":"fine";v(this.el,"data-pointer",e),this.$state.pointer.set(e),this.O()}Oh(){const{playsinline:t,fullscreen:e}=this.$state;return Ri&&!lo()&&this.$state.mediaType()==="video"&&(!t()||e())}get provider(){return this.i}get controls(){return this.Y.Ib}get title(){return d(this.$state.providedTitle)}set title(t){this.wc||this.$state.providedTitle.set(t)}get qualities(){return this.a.qualities}get audioTracks(){return this.a.audioTracks}get textTracks(){return this.a.textTracks}get textRenderers(){return this.a.textRenderers}get paused(){return d(this.$state.paused)}set paused(t){this.nf(t)}Tc(){this.nf(this.$props.paused())}nf(t){t?this.canPlayQueue.k("paused",()=>this.Y.ud()):this.canPlayQueue.k("paused",()=>this.Y.sc())}get muted(){return d(this.$state.muted)}set muted(t){this.$props.muted.set(t)}Rh(){this.Uh(this.$props.muted())}Uh(t){this.canPlayQueue.k("muted",()=>{this.i&&this.i.setMuted(t)})}get currentTime(){return d(this.$state.currentTime)}set currentTime(t){this.of(t)}jb(){this.of(this.$props.currentTime())}of(t){this.canPlayQueue.k("currentTime",()=>{t!==d(this.$state.currentTime)&&d(()=>{if(!this.i)return;const e=Math.min(Math.max(this.$state.seekableStart()+.1,t),this.$state.seekableEnd()-.1);Number.isFinite(e)&&this.i.setCurrentTime(e)})})}get volume(){return d(this.$state.volume)}set volume(t){this.$props.volume.set(t)}Fd(){this.Vh(this.$props.volume())}Vh(t){const e=qs(0,t,1);this.canPlayQueue.k("volume",()=>{this.i&&this.i.setVolume(e)})}get playbackRate(){return d(this.$state.playbackRate)}set playbackRate(t){this.pf(t)}Sh(){this.pf(this.$props.playbackRate())}pf(t){this.canPlayQueue.k("rate",()=>{var e,s;this.i&&((s=(e=this.i).setPlaybackRate)==null||s.call(e,t))})}Ad(){this.Wh(this.$props.playsinline())}Wh(t){this.canPlayQueue.k("playsinline",()=>{var e,s;this.i&&((s=(e=this.i).setPlaysinline)==null||s.call(e,t))})}async play(t){return this.Y.sc(t)}async pause(t){return this.Y.ud(t)}async enterFullscreen(t,e){return this.Y._e(t,e)}async exitFullscreen(t,e){return this.Y.af(t,e)}enterPictureInPicture(t){return this.Y.xd(t)}exitPictureInPicture(t){return this.Y.wd(t)}seekToLiveEdge(t){this.Y.Ze(t)}startLoading(t){this.a.delegate.c("can-load",void 0,t)}matchQuery(t){return I(()=>Jt.create(t),this.scope)}destroy(){this.a.remote.setPlayer(null),this.dispatch("destroy")}},ht.props=Lo,ht.state=Rs,ht);C([g],A.prototype,"canPlayQueue",2);C([g],A.prototype,"provider",1);C([g],A.prototype,"controls",1);C([g],A.prototype,"orientation",2);C([g],A.prototype,"title",1);C([g],A.prototype,"qualities",1);C([g],A.prototype,"audioTracks",1);C([g],A.prototype,"textTracks",1);C([g],A.prototype,"textRenderers",1);C([g],A.prototype,"paused",1);C([g],A.prototype,"muted",1);C([g],A.prototype,"currentTime",1);C([g],A.prototype,"volume",1);C([g],A.prototype,"playbackRate",1);C([M],A.prototype,"play",1);C([M],A.prototype,"pause",1);C([M],A.prototype,"enterFullscreen",1);C([M],A.prototype,"exitFullscreen",1);C([M],A.prototype,"enterPictureInPicture",1);C([M],A.prototype,"exitPictureInPicture",1);C([M],A.prototype,"seekToLiveEdge",1);C([M],A.prototype,"startLoading",1);C([M],A.prototype,"matchQuery",1);let nc=A;function or(i,t){return fetch(i,t).then(e=>e.text()).then(e=>{const s=Uo(e);if(s)return or(/^https?:/.test(s)?s:new URL(s,i).href,t);const n=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(e)?"on-demand":"live";return n==="live"&&Bo(e)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(e)||e.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":n})}function Uo(i){const t=i.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return t?t[0].split(`
`)[1].trim():null}function Bo(i){const t=i.split(`
`);for(const e of t)if(e.startsWith("#EXT-X-TARGETDURATION")){const s=parseFloat(e.split(":")[1]);if(!isNaN(s))return s}return-1}const hr=new Map;class zo{constructor(t,e,s,n=[]){this.xc=t,this.a=e,this.ha=s,this.Gd=!1;const r=new us,a=new nr,o=new Ao,h=new Co,c=new Oo,u=[h,c];this.Hd=Ct(()=>e.$props.preferNativeHLS()?[a,o,r,...u,...n]:[r,a,o,...u,...n]);const{$state:f}=e;f.sources.set(Yi(e.$props.src()));for(const b of f.sources()){const m=this.Hd().find(P=>P.canPlay(b));if(!m)continue;const S=m.mediaType(b);this.a.$state.source.set(b),this.a.$state.mediaType.set(S),this.a.$state.inferredViewType.set(S),this.ha.set(m),this.Gd=!0}}get c(){return this.a.delegate.c}connect(){const t=this.ha();this.Gd&&(this.qf(this.a.$state.source(),t),this.rf(t),this.Gd=!1),l(this.Xh.bind(this)),l(this.Yh.bind(this)),l(this.Zh.bind(this)),l(this._h.bind(this))}Xh(){this.c("sources-change",[...Yi(this.a.$props.src()),...this.xc()])}Yh(){var a;const{$state:t}=this.a,e=t.sources(),s=d(t.source),n=this.sf(s,e);if(((a=e[0])==null?void 0:a.src)&&!n.src&&!n.type){const{crossorigin:o}=t,h=xe(o()),c=new AbortController;return Promise.all(e.map(u=>D(u.src)&&u.type==="?"?fetch(u.src,{method:"HEAD",credentials:h,signal:c.signal}).then(f=>(u.type=f.headers.get("content-type")||"??",hr.set(u.src,u.type),u)).catch(()=>u):u)).then(u=>{c.signal.aborted||(this.sf(d(t.source),u),pt())}),()=>c.abort()}pt()}sf(t,e){let s={src:"",type:""},n=null;for(const r of e){const a=d(this.Hd).find(o=>o.canPlay(r));a&&(s=r,n=a)}return Ji(t,s)||this.qf(s,n),n!==d(this.ha)&&this.rf(n),s}qf(t,e){this.c("source-change",t),this.c("media-type-change",(e==null?void 0:e.mediaType(t))||"unknown")}rf(t){this.a.$providerSetup.set(!1),this.c("provider-change",null),t&&d(()=>{var e;return(e=t.preconnect)==null?void 0:e.call(t,this.a)}),this.ha.set(t),this.c("provider-loader-change",t)}Zh(){const t=this.a.$provider();if(!(!t||d(this.a.$providerSetup))){if(this.a.$state.canLoad()){I(()=>t.setup(this.a),t.scope),this.a.$providerSetup.set(!0);return}d(()=>{var e;return(e=t.preconnect)==null?void 0:e.call(t,this.a)})}}_h(){if(!this.a.$providerSetup())return;const t=this.a.$provider(),e=this.a.$state.source(),s=d(this.a.$state.crossorigin);if(!Ji(t==null?void 0:t.currentSrc,e)){if(this.a.$state.canLoad()){const n=new AbortController;return Fs(e)?Yn()||or(e.src,{credentials:xe(s),signal:n.signal}).then(r=>{this.c("stream-type-change",r)}).catch(Cs):this.c("stream-type-change","on-demand"),d(()=>t==null?void 0:t.loadSource(e,d(this.a.$state.preload))),()=>n.abort()}try{D(e.src)&&Gn(new URL(e.src).origin,"preconnect")}catch{}}}}function Yi(i){return(X(i)?i:[!D(i)&&"src"in i?i:{src:i}]).map(({src:t,type:e,...s})=>({src:t,type:e??(D(t)?hr.get(t):null)??(!D(t)||t.startsWith("blob:")?"video/object":t.includes("youtube")?"video/youtube":t.includes("vimeo")?"video/vimeo":"?"),...s}))}function Ji(i,t){return(i==null?void 0:i.src)===(t==null?void 0:t.src)&&(i==null?void 0:i.type)===(t==null?void 0:t.type)}class Qo{constructor(t,e){this.yc=t,this.a=e,this.tf=[],l(this.$h.bind(this))}$h(){const t=this.yc();for(const e of this.tf)if(!t.some(s=>s.id===e.id)){const s=e.id&&this.a.textTracks.getById(e.id);s&&this.a.textTracks.remove(s)}for(const e of t){const s=e.id||cs.createId(e);this.a.textTracks.getById(s)||(e.id=s,this.a.textTracks.add(e))}this.tf=t}}var Xo=Object.defineProperty,Yo=Object.getOwnPropertyDescriptor,Jo=(i,t,e,s)=>{for(var n=s>1?void 0:s?Yo(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Xo(t,e,n),n};const je=class je extends y{constructor(){super(...arguments),this.xc=$([]),this.yc=$([]),this.ha=null,this.Id=-1}onSetup(){this.a=x(),this.uf=new zo(this.xc,this.a,this.$state.loader,this.$props.loaders())}onAttach(t){t.setAttribute("data-media-provider","")}onConnect(t){this.uf.connect(),new Qo(this.yc,this.a);const e=new ResizeObserver(qt(this.O.bind(this)));e.observe(t);const s=new MutationObserver(this.vf.bind(this));s.observe(t,{attributes:!0,childList:!0}),this.O(),this.vf(),T(()=>{e.disconnect(),s.disconnect()})}load(t){window.cancelAnimationFrame(this.Id),this.Id=requestAnimationFrame(()=>this.ai(t)),T(()=>{window.cancelAnimationFrame(this.Id)})}ai(t){if(!this.scope)return;const e=this.$state.loader(),{$provider:s}=this.a;this.ha===e&&(e==null?void 0:e.target)===t&&d(s)||(this.wf(),this.ha=e,e&&(e.target=t||null),!(!e||!t)&&e.load(this.a).then(n=>{this.scope&&d(this.$state.loader)===e&&this.a.delegate.c("provider-change",n)}))}onDestroy(){this.ha=null,this.wf()}wf(){this.a.delegate.c("provider-change",null)}O(){if(!this.el)return;const t=this.a.player,e=this.el.offsetWidth,s=this.el.offsetHeight;t&&(t.$state.mediaWidth.set(e),t.$state.mediaHeight.set(s),t.el&&(W(t.el,"--media-width",e+"px"),W(t.el,"--media-height",s+"px")))}vf(){const t=[],e=[],s=this.el.children;for(const n of s)n instanceof HTMLSourceElement?t.push({src:n.src,type:n.type}):n instanceof HTMLTrackElement&&e.push({id:n.id,src:n.src,kind:n.track.kind,language:n.srclang,label:n.label,default:n.default,type:n.getAttribute("data-type")});this.xc.set(t),this.yc.set(e),pt()}};je.props={loaders:[]},je.state=new Ot({loader:null});let fs=je;Jo([M],fs.prototype,"load",1);const Xs=class Xs extends y{onSetup(){this.a=x(),l(this.bi.bind(this))}onAttach(t){const{pictureInPicture:e,fullscreen:s}=this.a.$state;W(t,"pointer-events","none"),k(t,"role","group"),this.setAttributes({"data-visible":this.xf.bind(this),"data-fullscreen":s,"data-pip":e}),l(()=>{this.dispatch("change",{detail:this.xf()})}),l(this.ci.bind(this)),l(()=>{const n=s();for(const r of["top","right","bottom","left"])W(t,`padding-${r}`,n&&`env(safe-area-inset-${r})`)})}ci(){if(!this.el)return;const{$iosControls:t}=this.a,{controls:e}=this.a.$state,s=e()||t();v(this.el,"aria-hidden",s?"true":null),W(this.el,"display",s?"none":null)}bi(){const{controls:t}=this.a.player,{hideDelay:e,hideOnMouseLeave:s}=this.$props;t.defaultDelay=e()===2e3?this.a.$props.controlsDelay():e(),t.hideOnMouseLeave=s()}xf(){const{controlsVisible:t}=this.a.$state;return t()}};Xs.props={hideDelay:2e3,hideOnMouseLeave:!1};let Zi=Xs;class cr extends et{constructor(t){super(),this.j=t,this.Ac=-1,this.Bc=-1,this.Ia=null,l(this.di.bind(this))}onDestroy(){var t;(t=this.Ia)==null||t.call(this),this.Ia=null}di(){const t=this.j.C();if(!t){this.hide();return}const e=this.show.bind(this),s=this.hide.bind(this);this.j.zc(t,e,s)}show(t){var e,s,n;window.cancelAnimationFrame(this.Bc),this.Bc=-1,(e=this.Ia)==null||e.call(this),this.Ia=null,this.Ac=window.setTimeout(()=>{this.Ac=-1;const r=this.j.u();r&&r.style.removeProperty("display"),d(()=>this.j.B(!0,t))},((n=(s=this.j).yf)==null?void 0:n.call(s))??0)}hide(t){window.clearTimeout(this.Ac),this.Ac=-1,d(()=>this.j.B(!1,t)),this.Bc=requestAnimationFrame(()=>{var s;this.Bc=-1;const e=this.j.u();if(e){const n=Za(e),r=()=>{e.style.display="none",this.Ia=null};if(n){(s=this.Ia)==null||s.call(this);const a=p(e,"animationend",r,{once:!0});this.Ia=a}else r()}})}}const be=$t();let Zo=0;const Ys=class Ys extends y{constructor(){super(),this.ca=`media-tooltip-${++Zo}`,this.C=$(null),this.u=$(null),new at;const{showDelay:t}=this.$props;new cr({C:this.C,u:this.u,yf:t,zc(e,s,n){p(e,"touchstart",r=>r.preventDefault(),{passive:!1}),p(e,"focus",s),p(e,"blur",n),p(e,"mouseenter",s),p(e,"mouseleave",n)},B:this.ei.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onSetup(){J(be,{C:this.C,u:this.u,Jd:this.Jd.bind(this),Kd:this.Kd.bind(this),Ld:this.Ld.bind(this),Md:this.Md.bind(this)})}Jd(t){var s;this.C.set(t);let e=t.getAttribute("data-media-tooltip");e&&((s=this.el)==null||s.setAttribute(`data-media-${e}-tooltip`,"")),v(t,"data-describedby",this.ca)}Kd(t){t.removeAttribute("data-describedby"),t.removeAttribute("aria-describedby"),this.C.set(null)}Ld(t){t.setAttribute("id",this.ca),t.style.display="none",k(t,"role","tooltip"),this.u.set(t)}Md(t){t.removeAttribute("id"),t.removeAttribute("role"),this.u.set(null)}ei(t){const e=this.C(),s=this.u();e&&v(e,"aria-describedby",t?this.ca:null);for(const n of[this.el,e,s])n&&v(n,"data-visible",t)}};Ys.props={showDelay:500};let Gi=Ys;const Js=class Js extends y{constructor(){super(),new at;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){this.Ja(t),Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){this.Ja(t);const e=j(be);T(()=>e.Md(t)),T(ls(()=>{this.connectScope&&l(this.Nd.bind(this))}))}Ja(t){j(be).Ld(t)}Nd(){const{placement:t,offset:e,alignOffset:s}=this.$props;return sr(this.el,this.fi(),t(),{offsetVarName:"media-tooltip",xOffset:s(),yOffset:e()})}fi(){return j(be).C()}};Js.props={placement:"top center",offset:0,alignOffset:0};let tn=Js;const Zs=class Zs extends et{constructor(t){super(),this.j=t,new at,t.kb&&new Po(t.kb)}onSetup(){const{disabled:t}=this.$props;this.setAttributes({"data-pressed":this.j.n,"aria-pressed":this.gi.bind(this),"aria-disabled":()=>t()?"true":null})}onAttach(t){k(t,"tabindex","0"),k(t,"role","button"),k(t,"type","button")}onConnect(t){Et(t,this.hi.bind(this));for(const e of["click","touchstart"])this.listen(e,this.ii.bind(this))}gi(){return ve(this.j.n())}ji(t){Pr(this.j.n)&&this.j.n.set(e=>!e)}hi(t){if(this.$props.disabled()||this.el.hasAttribute("data-disabled")){t.preventDefault(),t.stopImmediatePropagation();return}t.preventDefault(),(this.j.v??this.ji).call(this,t)}ii(t){this.$props.disabled()&&(t.preventDefault(),t.stopImmediatePropagation())}};Zs.props={disabled:!1};let U=Zs;var Go=Object.defineProperty,th=Object.getOwnPropertyDescriptor,eh=(i,t,e,s)=>{for(var n=s>1?void 0:s?th(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Go(t,e,n),n};const Gs=class Gs extends y{constructor(){super(),this.zf=$(!1),new U({n:this.zf})}get pressed(){return this.zf()}};Gs.props={disabled:!1,defaultPressed:!1};let ps=Gs;eh([g],ps.prototype,"pressed",1);const ti=class ti extends y{constructor(){super(),new U({n:this.n.bind(this),kb:"togglePaused",v:this.v.bind(this)})}onSetup(){this.a=x();const{paused:t,ended:e}=this.a.$state;this.setAttributes({"data-paused":t,"data-ended":e})}onAttach(t){t.setAttribute("data-media-tooltip","play"),Nt(t,this.Z.bind(this))}v(t){const e=this.a.remote;this.n()?e.pause(t):e.play(t)}n(){const{paused:t}=this.a.$state;return!t()}Z(){const{paused:t}=this.a.$state;return t()?"Play":"Pause"}};ti.props=U.props;let en=ti;function sh(i){return i?"true":"false"}function G(i){return()=>sh(i())}const ei=class ei extends y{constructor(){super(),new U({n:this.n.bind(this),kb:"toggleCaptions",v:this.v.bind(this)})}onSetup(){this.a=x(),this.setAttributes({"data-active":this.n.bind(this),"data-supported":()=>!this.lb(),"aria-hidden":G(this.lb.bind(this))})}onAttach(t){t.setAttribute("data-media-tooltip","caption"),Nt(t,this.Z.bind(this))}v(t){this.a.remote.toggleCaptions(t)}n(){const{textTrack:t}=this.a.$state,e=t();return!!e&&_(e)}lb(){const{textTracks:t}=this.a.$state;return t().filter(_).length==0}Z(){const{textTrack:t}=this.a.$state;return t()?"Closed-Captions Off":"Closed-Captions On"}};ei.props=U.props;let sn=ei;const si=class si extends y{constructor(){super(),new U({n:this.n.bind(this),kb:"toggleFullscreen",v:this.v.bind(this)})}onSetup(){this.a=x();const{fullscreen:t}=this.a.$state,e=this.Nb.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":G(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","fullscreen"),Nt(t,this.Z.bind(this))}v(t){const e=this.a.remote,s=this.$props.target();this.n()?e.exitFullscreen(s,t):e.enterFullscreen(s,t)}n(){const{fullscreen:t}=this.a.$state;return t()}Nb(){const{canFullscreen:t}=this.a.$state;return t()}Z(){const{fullscreen:t}=this.a.$state;return t()?"Exit Fullscreen":"Enter Fullscreen"}};si.props={...U.props,target:"prefer-media"};let nn=si;const ii=class ii extends y{constructor(){super(),new U({n:this.n.bind(this),kb:"toggleMuted",v:this.v.bind(this)})}onSetup(){this.a=x(),this.setAttributes({"data-muted":this.n.bind(this),"data-state":this.ki.bind(this)})}onAttach(t){t.setAttribute("data-media-mute-button",""),t.setAttribute("data-media-tooltip","mute"),Nt(t,this.Z.bind(this))}v(t){const e=this.a.remote;this.n()?e.unmute(t):e.mute(t)}n(){const{muted:t,volume:e}=this.a.$state;return t()||e()===0}Z(){return this.n()?"Unmute":"Mute"}ki(){const{muted:t,volume:e}=this.a.$state,s=e();if(t()||s===0)return"muted";if(s>=.5)return"high";if(s<.5)return"low"}};ii.props=U.props;let rn=ii;const ni=class ni extends y{constructor(){super(),new U({n:this.n.bind(this),kb:"togglePictureInPicture",v:this.v.bind(this)})}onSetup(){this.a=x();const{pictureInPicture:t}=this.a.$state,e=this.Nb.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":G(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","pip"),Nt(t,this.Z.bind(this))}v(t){const e=this.a.remote;this.n()?e.exitPictureInPicture(t):e.enterPictureInPicture(t)}n(){const{pictureInPicture:t}=this.a.$state;return t()}Nb(){const{canPictureInPicture:t}=this.a.$state;return t()}Z(){const{pictureInPicture:t}=this.a.$state;return t()?"Exit Picture In Picture":"Enter Picture In Picture"}};ni.props=U.props;let an=ni;const ri=class ri extends y{constructor(){super(),new at}onSetup(){this.a=x();const{seeking:t}=this.a.$state,{seconds:e}=this.$props,s=this.Nb.bind(this);this.setAttributes({seconds:e,"data-seeking":t,"data-supported":s,"aria-hidden":G(()=>!s())})}onAttach(t){k(t,"tabindex","0"),k(t,"role","button"),k(t,"type","button"),t.setAttribute("data-media-tooltip","seek"),Nt(t,this.Z.bind(this))}onConnect(t){Et(t,this.v.bind(this))}Nb(){const{canSeek:t}=this.a.$state;return t()}Z(){const{seconds:t}=this.$props;return`Seek ${t()>0?"forward":"backward"} ${t()} seconds`}v(t){const{seconds:e,disabled:s}=this.$props;if(s())return;const{currentTime:n}=this.a.$state,r=n()+e();this.a.remote.seek(r,t)}};ri.props={disabled:!1,seconds:30};let on=ri;const ai=class ai extends y{constructor(){super(),new at}onSetup(){this.a=x();const{disabled:t}=this.$props,{live:e,liveEdge:s}=this.a.$state,n=()=>!e();this.setAttributes({"data-edge":s,"data-hidden":n,"aria-disabled":G(()=>t()||s()),"aria-hidden":G(n)})}onAttach(t){k(t,"tabindex","0"),k(t,"role","button"),k(t,"type","button"),t.setAttribute("data-media-tooltip","live")}onConnect(t){Et(t,this.v.bind(this))}v(t){const{disabled:e}=this.$props,{liveEdge:s}=this.a.$state;e()||s()||this.a.remote.seekToLiveEdge(t)}};ai.props={disabled:!1};let hn=ai;const Ns=new Ot({min:0,max:100,value:0,pointerValue:0,focused:!1,dragging:!1,pointing:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return cn(this.min,this.max,this.value)},get fillPercent(){return this.fillRate*100},get pointerRate(){return cn(this.min,this.max,this.pointerValue)},get pointerPercent(){return this.pointerRate*100}});function cn(i,t,e){const s=t-i,n=e-i;return s>0?n/s:0}function ih(i,t,e,s){return qs(i,F(e,oo(s)),t)}function nh(i,t,e,s){const n=qs(0,e,1),r=t-i,a=r*n,o=a/s,h=s*o;return i+h}const ln={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};class rh extends et{constructor(t,e){super(),this.j=t,this.a=e,this.i=null,this.ua=null,this.mb=null,this.ti=Ue(s=>{this.va(this.Dc(s),s)},20,{leading:!0})}onConnect(){var t;if(l(this.li.bind(this)),l(this.mi.bind(this)),this.j.ni){const e=(t=this.a.player.el)==null?void 0:t.querySelector("media-provider,[data-media-provider]");e&&(this.i=e,p(e,"touchstart",this.oi.bind(this),{passive:!0}),p(e,"touchmove",this.pi.bind(this),{passive:!1}))}}oi(t){this.ua=t.touches[0]}pi(t){if(yt(this.ua)||_s(t))return;const e=t.touches[0],s=e.clientX-this.ua.clientX,n=e.clientY-this.ua.clientY,r=this.$state.dragging();!r&&Math.abs(n)>20||r||Math.abs(s)>20&&(this.ua=e,this.mb=this.$state.value(),this.Od(this.mb,t))}li(){this.j.K()||(this.listen("focus",this.Lb.bind(this)),this.listen("pointerenter",this.Cd.bind(this)),this.listen("pointermove",this.qi.bind(this)),this.listen("pointerleave",this.Dd.bind(this)),this.listen("pointerdown",this.ri.bind(this)),this.listen("keydown",this.Ab.bind(this)),this.listen("keyup",this.zb.bind(this)))}mi(){this.j.K()||!this.$state.dragging()||(p(document,"pointerup",this.si.bind(this)),p(document,"pointermove",this.ti.bind(this)),Ca&&p(document,"touchmove",this.ui.bind(this),{passive:!1}))}Lb(){this.va(this.$state.value())}Pd(t,e){var c,u,f,b;const{value:s,min:n,max:r,dragging:a}=this.$state,o=Math.max(n(),Math.min(t,r()));s.set(o);const h=this.createEvent("value-change",{detail:o,trigger:e});if(this.dispatch(h),(u=(c=this.j).o)==null||u.call(c,h),a()){const m=this.createEvent("drag-value-change",{detail:o,trigger:e});this.dispatch(m),(b=(f=this.j).nb)==null||b.call(f,m)}}va(t,e){const{pointerValue:s,dragging:n}=this.$state;s.set(t),this.dispatch("pointer-value-change",{detail:t,trigger:e}),n()&&this.Pd(t,e)}Dc(t){let e,s=this.el.getBoundingClientRect(),{min:n,max:r}=this.$state;if(this.$props.orientation()==="vertical"){const{bottom:a,height:o}=s;e=(a-t.clientY)/o}else if(this.ua&&$e(this.mb)){const{width:a}=this.i.getBoundingClientRect(),o=(t.clientX-this.ua.clientX)/a,h=r()-n(),c=h*Math.abs(o);e=(o<0?this.mb-c:this.mb+c)/h}else{const{left:a,width:o}=s;e=(t.clientX-a)/o}return Math.max(n(),Math.min(r(),this.j.Ob(nh(n(),r(),e,this.j.Ka()))))}Cd(t){this.$state.pointing.set(!0)}qi(t){const{dragging:e}=this.$state;e()||this.va(this.Dc(t),t)}Dd(t){this.$state.pointing.set(!1)}ri(t){if(t.button!==0)return;const e=this.Dc(t);this.Od(e,t),this.va(e,t)}Od(t,e){var r,a;const{dragging:s}=this.$state;if(s())return;s.set(!0),this.a.remote.pauseControls(e);const n=this.createEvent("drag-start",{detail:t,trigger:e});this.dispatch(n),(a=(r=this.j).Qd)==null||a.call(r,n)}Af(t,e){var r,a;const{dragging:s}=this.$state;if(!s())return;s.set(!1),this.a.remote.resumeControls(e);const n=this.createEvent("drag-end",{detail:t,trigger:e});this.dispatch(n),(a=(r=this.j).Ec)==null||a.call(r,n),this.ua=null,this.mb=null}Ab(t){const{key:e}=t,{min:s,max:n}=this.$state;let r;if(e==="Home"||e==="PageUp"?r=s():e==="End"||e==="PageDown"?r=n():!t.metaKey&&/[0-9]/.test(e)&&(r=(n()-s())/10*Number(e)),!H(r)){this.va(r,t),this.Pd(r,t);return}const a=this.Bf(t);if(H(a))return;const o=e===this.Rd;!this.$state.dragging()&&o&&this.Od(a,t),this.va(a,t),o||this.Pd(a,t),this.Rd=e}zb(t){this.Rd="";const{dragging:e,value:s}=this.$state;if(!e())return;const n=this.Bf(t)??s();this.va(n),this.Af(n,t)}Bf(t){const{key:e,shiftKey:s}=t;if(!Object.keys(ln).includes(e))return;t.preventDefault(),t.stopPropagation();const{shiftKeyMultiplier:r}=this.$props,{value:a,min:o,max:h}=this.$state,c=this.j.Ka(),u=this.j.Pb(),f=s?u*r():u,b=Number(ln[e]),m=f*b,S=(a()+m)/c;return Math.max(o(),Math.min(h(),Number((c*S).toFixed(3))))}si(t){if(t.button!==0)return;const e=this.Dc(t);this.va(e,t),this.Af(e,t)}ui(t){t.preventDefault()}}const Zt=$t(()=>({})),Vs=$t(),oi=class oi extends et{constructor(t){super(),this.j=t,this.xi=qt((e,s)=>{var n,r;(n=this.el)==null||n.style.setProperty("--slider-fill",e+"%"),(r=this.el)==null||r.style.setProperty("--slider-pointer",s+"%")})}onSetup(){this.a=x();const t=new at;t.attach(this),this.$state.focused=t.focused.bind(t),rt(Zt)||J(Zt,{default:"value"}),J(Vs,{ta:this.$props.orientation,Fc:this.j.K,Cf:$(null)}),l(this.D.bind(this)),l(this.Qb.bind(this)),this.vi(),new rh(this.j,this.a).attach(this)}onAttach(t){k(t,"role","slider"),k(t,"tabindex","0"),k(t,"autocomplete","off"),l(this.Df.bind(this))}D(){const{dragging:t,value:e,min:s,max:n}=this.$state;d(t)||e.set(ih(s(),n(),e(),this.j.Ka()))}Qb(){if(!this.j.K())return;const{dragging:t,pointing:e}=this.$state;t.set(!1),e.set(!1)}wi(){return ve(this.j.K())}vi(){const{orientation:t}=this.$props,{dragging:e,active:s,pointing:n}=this.$state;this.setAttributes({"data-dragging":e,"data-pointing":n,"data-active":s,"aria-disabled":this.wi.bind(this),"aria-valuemin":this.$state.min,"aria-valuemax":this.$state.max,"aria-valuenow":this.j.ia,"aria-valuetext":this.j.ja,"aria-orientation":t})}Df(){const{fillPercent:t,pointerPercent:e}=this.$state;this.xi(F(t(),3),F(e(),3))}};oi.props={disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5};let gt=oi;const Le=class Le extends y{constructor(){super(),new gt({Ka:this.$props.step,Pb:this.$props.keyStep,Ob:Math.round,K:this.$props.disabled,ia:this.ia.bind(this),ja:this.ja.bind(this)})}onSetup(){l(this.D.bind(this)),l(this.yi.bind(this))}ia(){const{value:t}=this.$state;return Math.round(t())}ja(){const{value:t,max:e}=this.$state;return F(t()/e()*100,2)+"%"}D(){const{value:t}=this.$props;this.$state.value.set(t())}yi(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}};Le.props={...gt.props,min:0,max:100,value:0},Le.state=Ns;let Gt=Le;const ot=new Map,is=new Set,ns=new Set;class Hs{constructor(t,e){this.$src=t,this.a=e,this.$cues=$([]),l(this.zi.bind(this)),ns.add(this),T(()=>ns.delete(this))}static create(t){const e=x();return new Hs(t,e)}zi(){const{canLoad:t}=this.a.$state;if(!t())return;const e=new AbortController,{crossorigin:s}=this.a.$state,n=this.$src();if(n){if(ot.has(n)){const r=ot.get(n);if(ot.delete(n),ot.set(n,r),ot.size>30){const a=ot.keys().next().value;ot.delete(a)}this.$cues.set(ot.get(n))}else is.has(n)||(is.add(n),lt(()=>import("./prod-uUTSXybs.js").then(r=>r.d),__vite__mapDeps([0,1])).then(async({parseResponse:r})=>{try{const a=await fetch(n,{signal:e.signal,credentials:xe(s())});if(a.headers.get("content-type")==="application/json"){try{const{cues:c}=tr(await a.text(),window.VTTCue);this.Ef(n,c)}catch{}return}const{cues:h}=await r(a);this.Ef(n,h)}catch{}}));return()=>{e.abort(),this.$cues.set([])}}}Ef(t,e){this.$cues.set(e);for(const s of ns)d(s.$src)===t&&s.$cues.set(e);ot.set(t,e),is.delete(t)}}const De=class De extends y{constructor(){super(...arguments),this.Td=[],this.Ff=qt(this.Fi.bind(this))}onSetup(){this.a=x(),this.Sd=Hs.create(this.$props.src),this.setAttributes({"data-loading":this.Rb.bind(this),"data-error":this.wa.bind(this),"data-hidden":this.$state.hidden,"aria-hidden":G(this.$state.hidden)})}onConnect(t){l(this.Ud.bind(this)),l(this.ob.bind(this)),l(this.Ea.bind(this)),l(this.Ai.bind(this)),l(this.Bi.bind(this))}Ud(){const t=this.$state.img();t&&(p(t,"load",this.qd.bind(this)),p(t,"error",this.U.bind(this)))}Ea(){const{src:t,loading:e,error:s}=this.$state;t(),e.set(!0),s.set(null)}qd(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null),this.Ff()}U(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}Rb(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}wa(){const{error:t}=this.$state;return!yt(t())}ob(){const{hidden:t}=this.$state,{duration:e}=this.a.$state,s=this.Sd.$cues();t.set(this.wa()||!Number.isFinite(e())||s.length===0)}Gf(){return this.$props.time()}Ai(){const t=this.Gf(),{activeCue:e}=this.$state,{duration:s}=this.a.$state,n=this.Sd.$cues();if(!n||!Number.isFinite(s())){e.set(null);return}e.set(Ya(n,t))}Bi(){let{activeCue:t}=this.$state,e=t(),s=d(this.$props.src);if(/^https?:/.test(s)||(s=location.href),!s||!e){this.$state.src.set(""),this.Ci();return}const[n,r=""]=(e.text||"").split("#");this.$state.coords.set(this.Di(r)),this.$state.src.set(this.Ei(n,s)),this.Ff()}Ei(t,e){return/^https?:/.test(t)?t:new URL(t,e).href}Di(t){const[e,s]=t.split("="),n={},r=s==null?void 0:s.split(",");if(!e||!s)return null;for(let a=0;a<e.length;a++)n[e[a]]=+r[a];return n}Fi(){if(!this.scope)return;const t=this.$state.img(),e=this.$state.coords();if(!t||!this.el)return;const s=(e==null?void 0:e.w)??t.naturalWidth,n=(e==null?void 0:e.h)??t.naturalHeight,{maxWidth:r,maxHeight:a,minWidth:o,minHeight:h}=getComputedStyle(this.el),c=Math.max(parseInt(o)/s,parseInt(h)/n),u=Math.min(parseInt(r)/s,parseInt(a)/n),f=u<1?u:c>1?c:1;this.pb(this.el,"--thumbnail-width",`${s*f}px`),this.pb(this.el,"--thumbnail-height",`${n*f}px`),this.pb(t,"width",`${t.naturalWidth*f}px`),this.pb(t,"height",`${t.naturalHeight*f}px`),this.pb(t,"transform",e?`translate(-${e.x*f}px, -${e.y*f}px)`:""),this.pb(t,"max-width","none")}pb(t,e,s){t.style.setProperty(e,s),this.Td.push(()=>t.style.removeProperty(e))}Ci(){for(const t of this.Td)t();this.Td=[]}};De.props={src:"",time:0},De.state=new Ot({src:"",img:null,coords:null,activeCue:null,loading:!1,error:null,hidden:!1});let un=De;var ah=Object.defineProperty,oh=Object.getOwnPropertyDescriptor,hh=(i,t,e,s)=>{for(var n=s>1?void 0:s?oh(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&ah(t,e,n),n};const Me=class Me extends y{get video(){return this.$state.video()}onSetup(){this.a=x(),this.Q=He(Gt.state),this.setAttributes({"data-loading":this.Rb.bind(this),"data-hidden":this.$state.hidden,"data-error":this.wa.bind(this),"aria-hidden":G(this.$state.hidden)})}onAttach(t){l(this.Gi.bind(this)),l(this.fd.bind(this)),l(this.ob.bind(this)),l(this.Hi.bind(this)),l(this.Ii.bind(this))}Gi(){const t=this.$state.video();t&&(t.readyState>=2&&this.hc(),p(t,"canplay",this.hc.bind(this)),p(t,"error",this.U.bind(this)))}fd(){const{src:t}=this.$state,{canLoad:e}=this.a.$state;t.set(e()?this.$props.src():null)}Rb(){const{canPlay:t,hidden:e}=this.$state;return!t()&&!e()}wa(){const{error:t}=this.$state;return!yt(t)}ob(){const{src:t,hidden:e}=this.$state,{canLoad:s,duration:n}=this.a.$state;e.set(s()&&(!t()||this.wa()||!Number.isFinite(n())))}Hi(){const{src:t,canPlay:e,error:s}=this.$state;t(),e.set(!1),s.set(null)}hc(t){const{canPlay:e,error:s}=this.$state;e.set(!0),s.set(null),this.dispatch("can-play",{trigger:t})}U(t){const{canPlay:e,error:s}=this.$state;e.set(!1),s.set(t),this.dispatch("error",{trigger:t})}Ii(){const{video:t,canPlay:e}=this.$state,{duration:s}=this.a.$state,{pointerRate:n}=this.Q,r=t();e()&&r&&Number.isFinite(s())&&Number.isFinite(n())&&(r.currentTime=n()*s())}};Me.props={src:null},Me.state=new Ot({video:null,src:null,canPlay:!1,error:null,hidden:!1});let bs=Me;hh([g],bs.prototype,"video",1);function rs(i,t){const e=String(i),s=e.length;if(s<t){const r=t-s;return`${"0".repeat(r)}${i}`}return e}function lr(i){const t=Math.trunc(i/3600),e=Math.trunc(i%3600/60),s=Math.trunc(i%60),n=Number((i-Math.trunc(i)).toPrecision(3));return{hours:t,minutes:e,seconds:s,fraction:n}}function Be(i,t=null,e=null,s=!1){const{hours:n,minutes:r,seconds:a}=lr(i),o=t?rs(n,2):n,h=e||yt(e)&&i>=3600?rs(r,2):r,c=rs(a,2);return n>0||s?`${o}:${h}:${c}`:`${h}:${c}`}function ms(i){const t=[],{hours:e,minutes:s,seconds:n}=lr(i);return e>0&&t.push(`${e} hour`),s>0&&t.push(`${s} min`),(n>0||t.length===0)&&t.push(`${n} sec`),t.join(" ")}var ch=Object.defineProperty,lh=Object.getOwnPropertyDescriptor,uh=(i,t,e,s)=>{for(var n=s>1?void 0:s?lh(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&ch(t,e,n),n};const hi=class hi extends y{onSetup(){this.Q=He(Gt.state),this.Sb=j(Zt),this.Ji=Ct(this.getValueText.bind(this))}getValueText(){var m,S;const{type:t,format:e,decimalPlaces:s,padHours:n,padMinutes:r,showHours:a}=this.$props,{value:o,pointerValue:h,min:c,max:u}=this.Q,f=e()??this.Sb.default,b=t()==="current"?o():h();if(f==="percent"){const P=u()-c(),B=b/P*100;return(this.Sb.percent??F)(B,s())+""}else return f==="time"?(this.Sb.time??Be)(b,n(),r(),a()):((S=(m=this.Sb).value)==null?void 0:S.call(m,b))??b.toFixed(2)}};hi.props={type:"pointer",format:null,showHours:!1,padHours:null,padMinutes:null,decimalPlaces:2};let gs=hi;uh([M],gs.prototype,"getValueText",1);const ci=class ci extends y{onSetup(){this.Q=j(Vs);const{active:t}=He(Gt.state);this.setAttributes({"data-visible":t})}onAttach(t){Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){const{Cf:e}=this.Q;e.set(t),T(()=>e.set(null)),l(this.Hf.bind(this));const s=new ResizeObserver(this.Hf.bind(this));s.observe(t),T(()=>s.disconnect())}Hf(){const{Fc:t,ta:e}=this.Q;if(t())return;const s=this.el,{offset:n,noClamp:r}=this.$props;dh(s,{clamp:!r(),offset:n(),orientation:e()})}};ci.props={offset:0,noClamp:!1};let dn=ci;function dh(i,{clamp:t,offset:e,orientation:s}){const{width:n,height:r}=i.getBoundingClientRect(),a={top:null,right:null,bottom:null,left:null};if(a[s==="horizontal"?"bottom":"left"]=`calc(100% + var(--media-slider-preview-offset, ${e}px))`,s==="horizontal"){const o=n/2;if(!t)a.left=`calc(var(--slider-pointer) - ${o}px)`;else{const h=`max(0px, calc(var(--slider-pointer) - ${o}px))`,c=`calc(100% - ${n}px)`;a.left=`min(${h}, ${c})`}}else{const o=r/2;if(!t)a.bottom=`calc(var(--slider-pointer) - ${o}px)`;else{const h=`max(${o}px, calc(var(--slider-pointer) - ${o}px))`,c=`calc(100% - ${r}px)`;a.bottom=`min(${h}, ${c})`}}Object.assign(i.style,a)}const Re=class Re extends y{constructor(){super(...arguments),this.If=Ue(this.ab.bind(this),25)}onSetup(){this.a=x(),J(Zt,{default:"percent"}),new gt({Ka:this.$props.step,Pb:this.$props.keyStep,K:this.$props.disabled,Ob:Math.round,ia:this.ia.bind(this),ja:this.ja.bind(this),nb:this.nb.bind(this),o:this.o.bind(this)}).attach(this),l(this.Fd.bind(this))}onAttach(t){t.setAttribute("data-media-volume-slider",""),k(t,"aria-label","Volume");const{canSetVolume:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":G(()=>!e())})}ia(){const{value:t}=this.$state;return Math.round(t())}ja(){const{value:t,max:e}=this.$state;return F(t()/e()*100,2)+"%"}Fd(){const{muted:t,volume:e}=this.a.$state,s=t()?0:e()*100;this.$state.value.set(s),this.dispatch("value-change",{detail:s})}ab(t){if(!t.trigger)return;const e=F(t.detail/100,3);this.a.remote.changeVolume(e,t)}o(t){this.If(t)}nb(t){this.If(t)}};Re.props={...gt.props,keyStep:5,shiftKeyMultiplier:2},Re.state=Ns;let fn=Re;const Ie=class Ie extends y{constructor(){super(),this.Jf=$(null),this.Wd=!1,new gt({ni:!0,Ka:this.Ka.bind(this),Pb:this.Pb.bind(this),K:this.K.bind(this),Ob:this.Ob,ia:this.ia.bind(this),ja:this.ja.bind(this),Qd:this.Qd.bind(this),nb:this.nb.bind(this),Ec:this.Ec.bind(this),o:this.o.bind(this)})}onSetup(){this.a=x(),J(Zt,{default:"time",value:this.Ki.bind(this),time:this.Li.bind(this)}),this.setAttributes({"data-chapters":this.Mi.bind(this)}),this.setStyles({"--slider-progress":this.Ni.bind(this)}),l(this.jb.bind(this)),l(this.Oi.bind(this))}onAttach(t){t.setAttribute("data-media-time-slider",""),k(t,"aria-label","Seek")}onConnect(t){l(this.Pi.bind(this)),Is(this.a.textTracks,"chapters",this.Jf.set)}Ni(){const{bufferedEnd:t,duration:e}=this.a.$state;return F(Math.min(t()/Math.max(e(),1),1)*100,3)+"%"}Mi(){var e;const{duration:t}=this.a.$state;return((e=this.Jf())==null?void 0:e.cues.length)&&Number.isFinite(t())&&t()>0}Oi(){this.Vd=Ue(this.qa.bind(this),this.$props.seekingRequestThrottle())}jb(){const{currentTime:t}=this.a.$state,{value:e,dragging:s}=this.$state,n=this.Qi(t());d(s)||(e.set(n),this.dispatch("value-change",{detail:n}))}Pi(){const t=this.a.player.el,{Cf:e}=j(Vs);t&&e()&&v(t,"data-preview",this.$state.active())}qa(t,e){this.a.remote.seeking(t,e)}Ri(t,e,s){this.Vd.cancel();const{live:n}=this.a.$state;if(n()&&e>=99){this.a.remote.seekToLiveEdge(s);return}this.a.remote.seek(t,s)}Qd(t){const{pauseWhileDragging:e}=this.$props;if(e()){const{paused:s}=this.a.$state;this.Wd=!s(),this.a.remote.pause(t)}}nb(t){this.Vd(this.Tb(t.detail),t)}Ec(t){const e=t.detail;this.Ri(this.Tb(e),e,t);const{pauseWhileDragging:s}=this.$props;s()&&this.Wd&&(this.a.remote.play(t),this.Wd=!1)}o(t){const{dragging:e}=this.$state;e()||!t.trigger||this.Ec(t)}Ka(){const t=this.$props.step()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}Pb(){const t=this.$props.keyStep()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}Ob(t){return F(t,3)}K(){const{canSeek:t}=this.a.$state;return this.$props.disabled()||!t()}ia(){const{value:t}=this.$state;return Math.round(t())}ja(){const t=this.Tb(this.$state.value()),{duration:e}=this.a.$state;return Number.isFinite(t)?`${ms(t)} out of ${ms(e())}`:"live"}Tb(t){const{duration:e}=this.a.$state;return F(t/100*e(),5)}Qi(t){const{liveEdge:e,duration:s}=this.a.$state,n=Math.max(0,Math.min(1,e()?1:Math.min(t,s())/s()));return Number.isNaN(n)?0:Number.isFinite(n)?n*100:100}Ki(t){const e=this.Tb(t),{live:s,duration:n}=this.a.$state;return Number.isFinite(e)?(s()?e-n():e).toFixed(0):"LIVE"}Li(t,e,s,n){const r=this.Tb(t),{live:a,duration:o}=this.a.$state,h=a()?r-o():r;return Number.isFinite(r)?`${h<0?"-":""}${Be(Math.abs(h),e,s,n)}`:"LIVE"}};Ie.props={...gt.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,seekingRequestThrottle:100},Ie.state=Ns;let ys=Ie;var fh=Object.defineProperty,ph=Object.getOwnPropertyDescriptor,ze=(i,t,e,s)=>{for(var n=s>1?void 0:s?ph(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&fh(t,e,n),n};const li=class li extends y{constructor(){super(...arguments),this.La=null,this.R=[],this.Gc=$(null),this._=$([]),this.Ub=$(-1),this.Hc=$(-1),this.Zd=0,this.Xi=qt(t=>{var n;let e,s=this._();for(let r=this.Zd;r<this.R.length;r++)if(e=this.ae(s[r],t),(n=this.R[r])==null||n.style.setProperty("--chapter-progress",e+"%"),e<100){this.Zd=r;break}}),this.Yi=Ct(this.Zi.bind(this)),this.$i=ar(()=>{const t=d(this.Gc);!this.scope||!t||!t.cues.length||(this._.set(this._i(t.cues)),this.Ub.set(0))},150,!0)}get cues(){return this._()}get activeCue(){return this._()[this.Ub()]||null}get activePointerCue(){return this._()[this.Hc()]||null}onSetup(){this.a=x(),this.Xd=He(ys.state)}onAttach(t){Is(this.a.textTracks,"chapters",this.Kf.bind(this)),l(this._d.bind(this))}onConnect(){T(()=>this.H.bind(this))}onDestroy(){this.Kf(null)}setRefs(t){var e;if(this.R=t,(e=this.Yd)==null||e.dispose(),this.R.length===1){const s=this.R[0];s.style.width="100%",s.style.setProperty("--chapter-fill","var(--slider-fill)"),s.style.setProperty("--chapter-progress","var(--slider-progress)")}else this.R.length>0&&I(()=>this.Si(),this.Yd=ye())}Kf(t){d(this.Gc)!==t&&(this.H(),this.Gc.set(t))}H(){var t;this.R=[],this._.set([]),this.Ub.set(-1),this.Hc.set(-1),this.Zd=0,(t=this.Yd)==null||t.dispose()}Si(){this.R.length&&(l(this.Ti.bind(this)),l(this.Ui.bind(this)),l(this.Vi.bind(this)),l(this.Wi.bind(this)))}Ti(){let t,e=this._(),s=e[e.length-1].endTime;for(let n=0;n<e.length;n++)t=e[n],this.R[n]&&(this.R[n].style.width=F((t.endTime-t.startTime)/s*100,3)+"%")}Ui(){let{liveEdge:t,ended:e}=this.a.$state,{fillPercent:s,value:n}=this.Xd,r=this._(),a=t(),o=d(this.Ub),h=r[o],c=a?this._.length-1:this.Lf(h&&h.startTime<=d(n)?o:0,s());a||e()||!h?this.$d(0,r.length,"100%"):c>o?this.$d(o,c,"100%"):c<o&&this.$d(c+1,o+1,"0%");const u=a?"100%":this.ae(r[c],s())+"%";this.Mf(this.R[c],u),this.Ub.set(c)}Vi(){let{pointing:t,pointerPercent:e}=this.Xd;if(!t()){this.Hc.set(-1);return}const s=this.Lf(0,e());this.Hc.set(s)}$d(t,e,s){for(let n=t;n<e;n++)this.Mf(this.R[n],s)}Mf(t,e){t&&t.style.setProperty("--chapter-fill",e)}Lf(t,e){let s=0,n=this._();for(let r=t;r<n.length;r++)if(s=this.ae(n[r],e),s>=0&&s<100)return r;return 0}Wi(){this.Xi(this.Yi())}Zi(){const{bufferedEnd:t,duration:e}=this.a.$state;return F(Math.min(t()/Math.max(e(),1),1),3)*100}ae(t,e){const s=this._();if(s.length===0)return 0;const n=s[s.length-1],r=t.startTime/n.endTime*100,a=t.endTime/n.endTime*100;return Math.max(0,F(e>=a?100:(e-r)/(a-r)*100,3))}_i(t){const e=[];t[0].startTime!==0&&e.push(new window.VTTCue(0,t[0].startTime,""));for(let s=0;s<t.length-1;s++){const n=t[s],r=t[s+1];if(e.push(n),r){const a=r.startTime-n.endTime;a>0&&e.push(new window.VTTCue(n.endTime,n.endTime+a,""))}}return e.push(t[t.length-1]),e}_d(){if(!this.scope)return;const{disabled:t}=this.$props;if(t())return;const e=this.Gc();if(e){const s=this.$i.bind(this);s(),T(p(e,"add-cue",s)),T(p(e,"remove-cue",s))}return this.La=this.aj(),this.La&&l(this.bj.bind(this)),()=>{this.La&&(this.La.textContent="",this.La=null)}}bj(){const t=this.activePointerCue||this.activeCue;this.La&&(this.La.textContent=(t==null?void 0:t.text)||"")}cj(){let t=this.el;for(;t&&t.getAttribute("role")!=="slider";)t=t.parentElement;return t}aj(){const t=this.cj();return t?t.querySelector('[data-part="chapter-title"]'):null}};li.props={disabled:!1};let _t=li;ze([g],_t.prototype,"cues",1);ze([g],_t.prototype,"activeCue",1);ze([g],_t.prototype,"activePointerCue",1);ze([M],_t.prototype,"setRefs",1);const R=$t(),bh=["a[href]","[tabindex]","input","select","button"].map(i=>`${i}:not([aria-hidden])`).join(","),pn=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);class mh{constructor(t){this.j=t,this.ka=0,this.xa=null,this.da=[]}get r(){return this.da}Nf(t){return p(t,"focus",this.Lb.bind(this)),this.xa=t,T(()=>{this.xa=null}),this}zc(){this.xa&&(this.ea(),p(this.xa,"keyup",this.zb.bind(this)),p(this.xa,"keydown",this.Ab.bind(this)),T(()=>{this.ka=0,this.da=[]}))}ea(){this.ka=0,this.da=this.dj()}Of(t=this.Pf()){const e=this.da[t],s=this.j.ej();e&&s&&requestAnimationFrame(()=>{s.scrollTop=e.offsetTop-s.offsetHeight/2+e.offsetHeight/2})}qb(t){var e;this.ka=t,(e=this.da[t])==null||e.focus(),this.Of(t)}Pf(){return this.da.findIndex(t=>t.getAttribute("aria-checked")==="true")}Lb(){this.ea(),setTimeout(()=>{const t=this.Pf();this.qb(t>=0?t:0)},100)}zb(t){pn.has(t.key)&&(t.stopPropagation(),t.preventDefault())}Ab(t){if(pn.has(t.key))switch(t.stopPropagation(),t.preventDefault(),t.key){case"Escape":this.j.fj(t);break;case"Tab":this.qb(this.be(t.shiftKey?-1:1));break;case"ArrowUp":this.qb(this.be(-1));break;case"ArrowDown":this.qb(this.be(1));break;case"Home":case"PageUp":this.qb(0);break;case"End":case"PageDown":this.qb(this.da.length-1);break}}be(t){var s;let e=this.ka;do e=(e+t+this.da.length)%this.da.length;while(((s=this.da[e])==null?void 0:s.offsetParent)===null);return e}dj(){if(!this.xa)return[];const t=this.xa.querySelectorAll(bh),e=[],s=n=>n.getAttribute("role")==="menu";for(const n of t)n instanceof HTMLElement&&n.offsetParent!==null&&er(this.xa,n,s)&&e.push(n);return e}}var gh=Object.defineProperty,yh=Object.getOwnPropertyDescriptor,he=(i,t,e,s)=>{for(var n=s>1?void 0:s?yh(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&gh(t,e,n),n};let $h=0;const ui=class ui extends y{constructor(){super(),this.L=$(!1),this.Fc=$(!1),this.C=$(null),this.u=$(null),this.Qf=$(!1),this.Vb=new Set,this.Ic=null,this.rj=this.sj.bind(this),this.pj=this.tj.bind(this),this.qj=this.uj.bind(this);const{showDelay:t}=this.$props;this.Jc=new cr({C:this.C,u:this.u,yf:t,zc:(e,s,n)=>{Et(e,a=>{this.L()?n(a):s(a)});const r=this.gj();r&&Et(r,a=>{a.stopPropagation(),n(a)})},B:this.hj.bind(this)})}get triggerElement(){return this.C()}get contentElement(){return this.u()}get isSubmenu(){return!!this.ee}onSetup(){this.a=x();const t=++$h;this.ce=`media-menu-${t}`,this.de=`media-menu-button-${t}`,this.rb=new mh({ej:this.ij.bind(this),fj:this.close.bind(this)}),rt(R)&&(this.ee=j(R)),this.setAttributes({"data-open":this.L,"data-submenu":this.isSubmenu,"data-disabled":this.K.bind(this)}),J(R,{jj:this.C,L:this.L,Wb:$(""),Ma:this.Ma.bind(this),fe:this.fe.bind(this),ge:this.ge.bind(this),he:this.he.bind(this),ie:this.ie.bind(this),je:this.je.bind(this)})}onAttach(t){t.style.setProperty("display","contents"),this.rb.Nf(t)}onConnect(t){var e;l(this.kj.bind(this)),this.isSubmenu&&((e=this.ee)==null||e.je(this)),requestAnimationFrame(()=>{this.O()})}onDestroy(){this.C.set(null),this.u.set(null),this.Ic=null}kj(){const t=this.lj();this.O(),this.Rf(t),t&&(l(()=>{const{height:e}=this.a.$state,s=this.u();s&&W(s,"--player-height",e()+"px")}),this.rb.zc(),this.listen("pointerup",this.mj.bind(this)),p(window,"pointerup",this.nj.bind(this)))}fe(t){const e=t.el,s=this.isSubmenu,n=G(this.K.bind(this));k(e,"tabindex",s?"-1":"0"),k(e,"role",s?"menuitem":"button"),v(e,"id",this.de),v(e,"aria-haspopup","menu"),v(e,"aria-expanded","false"),v(e,"data-submenu",this.isSubmenu),this.isSubmenu||this.Sf(e),l(()=>{v(e,"data-open",this.L()),v(e,"aria-disabled",n())}),this.C.set(e),T(()=>{this.C.set(null)})}ge(t){const e=t.el;e.style.setProperty("display","none"),v(e,"id",this.ce),k(e,"role","menu"),k(e,"tabindex","-1"),v(e,"data-submenu",this.isSubmenu),this.u.set(e),T(()=>this.u.set(null)),this.isSubmenu||this.Sf(e),l(()=>{v(e,"data-open",this.L())}),this.rb.Nf(e),this.Rf(!1);{const n=qt(this.O.bind(this)),r=new MutationObserver(n);n(),r.observe(e,{childList:!0,subtree:!0}),T(()=>r.disconnect())}}he(t){this.Ic=t}Sf(t){p(t,"click",e=>e.stopPropagation()),p(t,"pointerup",e=>e.stopPropagation())}Rf(t){const e=d(this.u);e&&v(e,"aria-hidden",ve(!t))}ie(t){this.Qf.set(t)}hj(t,e){var r,a,o,h,c;if(e==null||e.stopPropagation(),this.L()===t)return;if(this.K()){t&&this.Jc.hide(e);return}const s=this.C(),n=this.u();if(s&&(v(s,"aria-controls",t&&this.ce),v(s,"aria-expanded",ve(t))),n&&v(n,"aria-labelledby",t&&this.de),this.L.set(t),this.oj(e),pt(),we(e)){t?n==null||n.focus():s==null||s.focus();for(const u of[this.el,n])u&&u.setAttribute("data-keyboard","")}else for(const u of[this.el,n])u&&u.removeAttribute("data-keyboard");this.dispatch(t?"open":"close",{trigger:e}),t?(!this.isSubmenu&&this.a.activeMenu!==this&&((r=this.a.activeMenu)==null||r.close(e),this.a.activeMenu=this),(o=(a=this.Ic)==null?void 0:a.ke)==null||o.call(a,e)):(this.isSubmenu?setTimeout(()=>{for(const u of this.Vb)u.close(e)},300):this.a.activeMenu=null,(c=(h=this.Ic)==null?void 0:h.Tj)==null||c.call(h,e)),t&&!we(e)&&requestAnimationFrame(()=>{this.rb.ea(),setTimeout(()=>{this.rb.Of()},100)})}lj(){return!this.K()&&this.L()}K(){return this.Fc()||this.Qf()}Ma(t){this.Fc.set(t)}mj(t){t.stopPropagation()}nj(t){if(this.isSubmenu)return setTimeout(this.close.bind(this,t),800);this.close(t)}gj(){const t=this.el.querySelector('[data-part="close-target"]');return er(this.el,t,e=>e.getAttribute("role")==="menu")?t:null}ij(){if(this.isSubmenu){let t=this.el;for(;t&&t.tagName!=="media-menu"&&t.hasAttribute("data-submenu");)t=t.parentNode;return t}else return d(this.u)||null}oj(t){this.isSubmenu||(this.L()?this.a.remote.pauseControls(t):this.a.remote.resumeControls(t))}je(t){this.Vb.add(t),p(t,"open",this.pj),p(t,"close",this.qj),T(this.rj)}sj(t){this.Vb.delete(t)}tj(t){for(const e of this.Vb)if(e!==t.target)for(const s of[e.el,e.triggerElement])s==null||s.setAttribute("aria-hidden","true");requestAnimationFrame(()=>{this.O()})}uj(){for(const t of this.Vb)for(const e of[t.el,t.triggerElement])e==null||e.setAttribute("aria-hidden","false");requestAnimationFrame(()=>{this.O()})}O(){const t=d(this.u);if(!t)return;let{paddingTop:e,paddingBottom:s,borderTopWidth:n,borderBottomWidth:r}=getComputedStyle(t),a=parseFloat(e)+parseFloat(s)+parseFloat(n)+parseFloat(r),o=[...t.children];for(const h of o)h instanceof HTMLElement&&h.style.display==="contents"?o.push(...h.children):h.nodeType===3?a+=parseInt(window.getComputedStyle(h).fontSize,10):a+=h.offsetHeight||0;requestAnimationFrame(()=>{t&&(v(t,"data-resizing",""),setTimeout(()=>{t&&v(t,"data-resizing",!1)},400),W(t,"--menu-height",a+"px"))})}open(t){d(this.L)||(this.Jc.show(t),pt())}close(t){d(this.L)&&(this.Jc.hide(t),pt())}};ui.props={showDelay:0};let St=ui;he([g],St.prototype,"triggerElement",1);he([g],St.prototype,"contentElement",1);he([g],St.prototype,"isSubmenu",1);he([M],St.prototype,"open",1);he([M],St.prototype,"close",1);var wh=Object.defineProperty,vh=Object.getOwnPropertyDescriptor,Th=(i,t,e,s)=>{for(var n=s>1?void 0:s?vh(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&wh(t,e,n),n};const di=class di extends y{constructor(){super(),new at}get expanded(){var t;return((t=this.l)==null?void 0:t.L())??!1}onSetup(){this.l=j(R)}onAttach(t){this.l.fe(this),l(this.Qb.bind(this)),k(t,"type","button")}onConnect(t){const e=Array.from(t.querySelectorAll('[data-part="hint"]')).pop();e&&l(()=>{const s=this.l.Wb();s&&(e.textContent=s)}),Et(t,s=>{this.dispatch("select",{trigger:s})})}Qb(){this.l.ie(this.$props.disabled())}};di.props={disabled:!1};let $s=di;Th([g],$s.prototype,"expanded",1);const fi=class fi extends y{constructor(){super(...arguments),this.A=null}onSetup(){this.a=x(),J(me,{Ja:this.vj.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){}onDestroy(){var t;(t=this.A)==null||t.remove(),this.A=null}vj(t){this.Tf(!1),this.A=t,ls(()=>{ls(()=>{this.connectScope&&l(this.Qb.bind(this))})})}Qb(){const{fullscreen:t}=this.a.$state,{disabled:e}=this.$props,s=e();this.Tf(s==="fullscreen"?!t():!s)}Tf(t){var n;if(!this.A)return;let e=this.wj(this.$props.container());if(!e)return;const s=this.A.parentElement===e;v(this.A,"data-portal",t),t?s||(this.A.remove(),e.append(this.A)):s&&this.A.parentElement===e&&(this.A.remove(),(n=this.el)==null||n.append(this.A))}wj(t){return t instanceof HTMLElement?t:t?document.querySelector(t):document.body}};fi.props={container:null,disabled:!1};let bn=fi;const me=$t(),pi=class pi extends y{constructor(){super(),new at;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){if(this.l=j(R),this.l.ge(this),rt(me)){const e=j(me);e&&(J(me,null),e.Ja(t),T(()=>e.Ja(null)))}}onConnect(t){l(this.Nd.bind(this))}Nd(){if(!this.el)return;const t=this.$props.placement();if(t){Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});const{offset:e,alignOffset:s}=this.$props;return sr(this.el,this.Cc(),t,{offsetVarName:"media-menu",xOffset:s(),yOffset:e()})}else this.el.removeAttribute("style"),this.el.style.display="none"}Cc(){return this.l.jj()}};pi.props={placement:null,offset:0,alignOffset:0};let mn=pi;const ws=$t();class Ht extends et{constructor(){super(...arguments),this.sb=new Set,this.la=$(""),this.d=null,this.Aj=this.B.bind(this)}get xj(){return Array.from(this.sb).map(t=>t.la())}get value(){return this.la()}set value(t){this.B(t)}onSetup(){J(ws,{add:this.yj.bind(this),remove:this.zj.bind(this)})}onAttach(t){rt(R)||k(t,"role","radiogroup"),this.setAttributes({value:this.la})}onDestroy(){this.sb.clear()}yj(t){this.sb.has(t)||(this.sb.add(t),t.Kc=this.Aj,t.Xb(t.la()===this.la()))}zj(t){t.Kc=null,this.sb.delete(t)}B(t,e){var a;const s=d(this.la);if(!t||t===s)return;const n=this.Uf(s),r=this.Uf(t);n==null||n.Xb(!1,e),r==null||r.Xb(!0,e),this.la.set(t),(a=this.o)==null||a.call(this,t,e)}Uf(t){for(const e of this.sb)if(t===d(e.la))return e;return null}}var xh=Object.defineProperty,kh=Object.getOwnPropertyDescriptor,ur=(i,t,e,s)=>{for(var n=s>1?void 0:s?kh(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&xh(t,e,n),n};const bi=class bi extends y{constructor(){super(),this.d=new Ht,this.d.o=this.o.bind(this)}get values(){return this.d.xj}get value(){return this.d.value}set value(t){this.d.value=t}onSetup(){l(this.D.bind(this))}D(){this.d.value=this.$props.value()}o(t,e){const s=this.createEvent("change",{detail:t,trigger:e});this.dispatch(s)}};bi.props={value:""};let Pe=bi;ur([g],Pe.prototype,"values",1);ur([g],Pe.prototype,"value",1);var Eh=Object.defineProperty,Sh=Object.getOwnPropertyDescriptor,Ph=(i,t,e,s)=>{for(var n=s>1?void 0:s?Sh(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Eh(t,e,n),n};const mi=class mi extends y{constructor(){super(),this.Na=$(!1),this.d={la:this.$props.value,Xb:this.Xb.bind(this),Kc:null},new at}get checked(){return this.Na()}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":this.Na,"aria-checked":G(this.Na)})}onAttach(t){const e=rt(R);k(t,"tabindex",e?"-1":"0"),k(t,"role",e?"menuitemradio":"radio"),l(this.D.bind(this))}onConnect(t){this.Bj(),Et(t,this.v.bind(this)),T(this.ya.bind(this))}ya(){I(()=>{j(ws).remove(this.d)},this.connectScope)}Bj(){j(ws).add(this.d)}D(){var s,n;const{value:t}=this.$props,e=t();d(this.Na)&&((n=(s=this.d).Kc)==null||n.call(s,e))}v(t){var e,s;d(this.Na)||(this.B(!0,t),this.Cj(t),(s=(e=this.d).Kc)==null||s.call(e,d(this.$props.value),t))}Xb(t,e){d(this.Na)!==t&&this.B(t,e)}B(t,e){this.Na.set(t),this.dispatch("change",{detail:t,trigger:e})}Cj(t){this.dispatch("select",{trigger:t})}};mi.props={value:""};let vs=mi;Ph([g],vs.prototype,"checked",1);var Ah=Object.defineProperty,Ch=Object.getOwnPropertyDescriptor,Ws=(i,t,e,s)=>{for(var n=s>1?void 0:s?Ch(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Ah(t,e,n),n};const gi=class gi extends y{constructor(){super(),this.ka=$(0),this.z=$(null),this.J=$([]),this.d=new Ht,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){var t;return!((t=this.J())!=null&&t.length)}onSetup(){this.a=x(),rt(R)&&(this.l=j(R));const{thumbnails:t}=this.$props;this.setAttributes({"data-thumbnails":()=>!!t()})}onAttach(t){var e;(e=this.l)==null||e.he({ke:this.ke.bind(this)})}getOptions(){return this.J().map((t,e)=>({cue:t,value:e+"",label:t.text,startTime:Be(t.startTime,!1),duration:ms(t.endTime-t.startTime)}))}ke(){d(()=>this.jb())}onConnect(t){l(this.D.bind(this)),l(this.jb.bind(this)),l(this.ma.bind(this)),l(this.tk.bind(this)),Is(this.a.textTracks,"chapters",this.z.set)}tk(){const t=this.z();if(!t)return;const e=this.$i.bind(this,t);return e(),p(t,"add-cue",e),p(t,"remove-cue",e),()=>{this.J.set([])}}$i(t){this.J.set([...t.cues])}D(){this.d.value=this.na()}jb(){var r;if(!((r=this.l)!=null&&r.L()))return;const t=this.z();if(!t){this.ka.set(-1);return}const{currentTime:e}=this.a.$state,s=e(),n=t.cues.findIndex(a=>ke(a,s));if(this.ka.set(n),n>=0){const a=t.cues[n],o=this.el.querySelector("[aria-checked='true']"),h=(s-a.startTime)/(a.endTime-a.startTime)*100;o&&W(o,"--progress",F(h,3)+"%")}}ma(){var t;(t=this.l)==null||t.Ma(this.disabled)}na(){return this.ka()+""}o(t,e){var r;if(this.disabled||!e)return;const s=+t,n=(r=this.z())==null?void 0:r.cues;$e(s)&&(n!=null&&n[s])&&(this.ka.set(s),this.a.remote.seek(n[s].startTime,e),this.dispatch("change",{detail:n[s],trigger:e}))}};gi.props={thumbnails:""};let te=gi;Ws([g],te.prototype,"value",1);Ws([g],te.prototype,"disabled",1);Ws([M],te.prototype,"getOptions",1);var Oh=Object.defineProperty,jh=Object.getOwnPropertyDescriptor,Ks=(i,t,e,s)=>{for(var n=s>1?void 0:s?jh(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Oh(t,e,n),n};const yi=class yi extends y{constructor(){super(),this.d=new Ht,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){const{audioTracks:t}=this.a.$state;return t().length===0}onSetup(){this.a=x(),rt(R)&&(this.l=j(R))}onConnect(t){l(this.D.bind(this)),l(this.ma.bind(this)),l(this.Oa.bind(this))}getOptions(){const{audioTracks:t}=this.a.$state;return t().map(e=>({track:e,label:e.label,value:e.label.toLowerCase()}))}D(){this.d.value=this.na()}Oa(){var n;const{emptyLabel:t}=this.$props,{audioTrack:e}=this.a.$state,s=e();(n=this.l)==null||n.Wb.set((s==null?void 0:s.label)??t())}ma(){var t;(t=this.l)==null||t.Ma(this.disabled)}na(){const{audioTrack:t}=this.a.$state,e=t();return e?e.label.toLowerCase():""}o(t,e){if(this.disabled)return;const s=this.a.audioTracks.toArray().findIndex(n=>n.label.toLowerCase()===t);if(s>=0){const n=this.a.audioTracks[s];this.a.remote.changeAudioTrack(s,e),this.dispatch("change",{detail:n,trigger:e})}}};yi.props={emptyLabel:"Default"};let ee=yi;Ks([g],ee.prototype,"value",1);Ks([g],ee.prototype,"disabled",1);Ks([M],ee.prototype,"getOptions",1);var Lh=Object.defineProperty,Dh=Object.getOwnPropertyDescriptor,Us=(i,t,e,s)=>{for(var n=s>1?void 0:s?Dh(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Lh(t,e,n),n};const $i=class $i extends y{constructor(){super(),this.d=new Ht,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){const{textTracks:t}=this.a.$state;return t().filter(_).length===0}onSetup(){this.a=x(),rt(R)&&(this.l=j(R))}onConnect(t){var e;(e=super.onConnect)==null||e.call(this,t),l(this.D.bind(this)),l(this.ma.bind(this)),l(this.Oa.bind(this))}getOptions(){const{offLabel:t}=this.$props,{textTracks:e}=this.a.$state;return[{value:"off",label:t},...e().filter(_).map(s=>({track:s,label:s.label,value:this.xk(s)}))]}D(){this.d.value=this.na()}Oa(){var n;const{offLabel:t}=this.$props,{textTrack:e}=this.a.$state,s=e();(n=this.l)==null||n.Wb.set(s&&_(s)&&s.mode==="showing"?s.label:t())}ma(){var t;(t=this.l)==null||t.Ma(this.disabled)}na(){const{textTrack:t}=this.a.$state,e=t();return e&&_(e)&&e.mode==="showing"?this.xk(e):"off"}o(t,e){if(this.disabled)return;if(t==="off"){const n=this.a.textTracks.selected;if(n){const r=this.a.textTracks.toArray().indexOf(n);this.a.remote.changeTextTrackMode(r,"disabled",e),this.dispatch("change",{detail:null,trigger:e})}return}const s=this.a.textTracks.toArray().findIndex(n=>this.xk(n)===t);if(s>=0){const n=this.a.textTracks[s];this.a.remote.changeTextTrackMode(s,"showing",e),this.dispatch("change",{detail:n,trigger:e})}}xk(t){return t.id+":"+t.kind+"-"+t.label.toLowerCase()}};$i.props={offLabel:"Off"};let se=$i;Us([g],se.prototype,"value",1);Us([g],se.prototype,"disabled",1);Us([M],se.prototype,"getOptions",1);var Mh=Object.defineProperty,Rh=Object.getOwnPropertyDescriptor,Bs=(i,t,e,s)=>{for(var n=s>1?void 0:s?Rh(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Mh(t,e,n),n};const wi=class wi extends y{constructor(){super(),this.d=new Ht,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){const{rates:t}=this.$props,{canSetPlaybackRate:e}=this.a.$state;return!e()||t().length===0}onSetup(){this.a=x(),rt(R)&&(this.l=j(R))}onConnect(t){l(this.D.bind(this)),l(this.Oa.bind(this)),l(this.ma.bind(this))}getOptions(){const{rates:t,normalLabel:e}=this.$props;return t().map(s=>({label:s===1?e:s+"",value:s+""}))}D(){this.d.value=this.na()}Oa(){var n;const{normalLabel:t}=this.$props,{playbackRate:e}=this.a.$state,s=e();(n=this.l)==null||n.Wb.set(s===1?t():s+"")}ma(){var t;(t=this.l)==null||t.Ma(this.disabled)}na(){const{playbackRate:t}=this.a.$state;return t()+""}o(t,e){if(this.disabled)return;const s=+t;this.a.remote.changePlaybackRate(s,e),this.dispatch("change",{detail:s,trigger:e})}};wi.props={normalLabel:"Normal",rates:[.25,.5,.75,1,1.25,1.5,1.75,2]};let ie=wi;Bs([g],ie.prototype,"value",1);Bs([g],ie.prototype,"disabled",1);Bs([M],ie.prototype,"getOptions",1);var Ih=Object.defineProperty,_h=Object.getOwnPropertyDescriptor,zs=(i,t,e,s)=>{for(var n=s>1?void 0:s?_h(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Ih(t,e,n),n};const vi=class vi extends y{constructor(){super(),this.Dj=Ct(()=>{const{qualities:t}=this.a.$state;return[...t()].sort((e,s)=>s.height===e.height?s.bitrate-e.bitrate:s.height-e.height)}),this.d=new Ht,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){const{canSetQuality:t,qualities:e}=this.a.$state;return!t()||e().length===0}onSetup(){this.a=x(),rt(R)&&(this.l=j(R))}onConnect(t){l(this.D.bind(this)),l(this.ma.bind(this)),l(this.Oa.bind(this))}getOptions(){const{autoLabel:t,hideBitrate:e}=this.$props;return[{value:"auto",label:t},...this.Dj().map(s=>{const n=s.bitrate>=0?`${F(s.bitrate/1e6,2)} Mbps`:null;return{quality:s,label:s.height+"p",value:this.le(s),bitrate:()=>e()?null:n}})]}D(){this.d.value=this.na()}Oa(){var r;const{autoLabel:t}=this.$props,{autoQuality:e,quality:s}=this.a.$state,n=s()?s().height+"p":"";(r=this.l)==null||r.Wb.set(e()?t()+(n?` (${n})`:""):n)}ma(){var t;(t=this.l)==null||t.Ma(this.disabled)}o(t,e){if(this.disabled)return;if(t==="auto"){this.a.remote.changeQuality(-1,e),this.dispatch("change",{detail:"auto",trigger:e});return}const{qualities:s}=this.a.$state,n=d(s).findIndex(r=>this.le(r)===t);if(n>=0){const r=d(s)[n];this.a.remote.changeQuality(n,e),this.dispatch("change",{detail:r,trigger:e})}}na(){const{quality:t,autoQuality:e}=this.a.$state;if(e())return"auto";const s=t();return s?this.le(s):"auto"}le(t){return t.height+"_"+t.bitrate}};vi.props={autoLabel:"Auto",hideBitrate:!1};let ne=vi;zs([g],ne.prototype,"value",1);zs([g],ne.prototype,"disabled",1);zs([M],ne.prototype,"getOptions",1);const Ti=class Ti extends y{constructor(){super(...arguments),this.i=null,this.Pa=0,this.Vf=-1}onSetup(){this.a=x();const{event:t,action:e}=this.$props;this.setAttributes({event:t,action:e})}onAttach(t){t.setAttribute("data-media-gesture",""),t.style.setProperty("pointer-events","none")}onConnect(t){var e;this.i=(e=this.a.player.el)==null?void 0:e.querySelector("[data-media-provider]"),l(this.Ej.bind(this))}Ej(){let t=this.$props.event();!this.i||!t||(/^dbl/.test(t)&&(t=t.split(/^dbl/)[1]),(t==="pointerup"||t==="pointerdown")&&this.a.$state.pointer()==="coarse"&&(t=t==="pointerup"?"touchend":"touchstart"),p(this.i,t,this.Fj.bind(this),{passive:!1}))}Fj(t){if(Ci(t)&&(t.button!==0||this.a.activeMenu)||pe(t)&&this.a.activeMenu||_s(t)||!this.Gj(t))return;t.MEDIA_GESTURE=!0,t.preventDefault();const e=d(this.$props.event);if(!(e==null?void 0:e.startsWith("dbl")))this.Pa===0&&setTimeout(()=>{this.Pa===1&&this.Wf(t)},250);else if(this.Pa===1){queueMicrotask(()=>this.Wf(t)),clearTimeout(this.Vf),this.Pa=0;return}this.Pa===0&&(this.Vf=window.setTimeout(()=>{this.Pa=0},275)),this.Pa++}Wf(t){this.el.setAttribute("data-triggered",""),requestAnimationFrame(()=>{this.Hj()&&this.Ij(d(this.$props.action),t),requestAnimationFrame(()=>{this.el.removeAttribute("data-triggered")})})}Gj(t){if(!this.el)return!1;if(Ci(t)||kr(t)||pe(t)){const e=pe(t)?t.changedTouches[0]??t.touches[0]:void 0,s=(e==null?void 0:e.clientX)??t.clientX,n=(e==null?void 0:e.clientY)??t.clientY,r=this.el.getBoundingClientRect(),a=n>=r.top&&n<=r.bottom&&s>=r.left&&s<=r.right;return t.type.includes("leave")?!a:a}return!0}Hj(){const t=this.a.player.el.querySelectorAll("[data-media-gesture][data-triggered]");return Array.from(t).sort((e,s)=>+getComputedStyle(s).zIndex-+getComputedStyle(e).zIndex)[0]===this.el}Ij(t,e){if(!t)return;const s=new O("will-trigger",{detail:t,cancelable:!0,trigger:e});if(this.dispatchEvent(s),s.defaultPrevented)return;const[n,r]=t.replace(/:([a-z])/,"-$1").split(":");t.includes(":fullscreen")?this.a.remote.toggleFullscreen("prefer-media",e):t.includes("seek:")?this.a.remote.seek(d(this.a.$state.currentTime)+(+r||0),e):this.a.remote[Rn(n)](e),this.dispatch("trigger",{detail:t,trigger:e})}};Ti.props={event:void 0,action:void 0};let gn=Ti;class Fh{constructor(t){this.S=t,this.priority=10,this.z=null,this.sa=In()}attach(){}canRender(){return!0}detach(){this.sa.empty(),this.S.reset(),this.z=null}changeTrack(t){!t||this.z===t||(this.sa.empty(),t.readyState<2?(this.S.reset(),this.sa.add(p(t,"load",()=>this.Xf(t),{once:!0}))):this.Xf(t),this.sa.add(p(t,"add-cue",e=>{this.S.addCue(e.detail)}),p(t,"remove-cue",e=>{this.S.removeCue(e.detail)})),this.z=t)}Xf(t){this.S.changeTrack({cues:[...t.cues],regions:[...t.regions]})}}const xi=class xi extends y{onSetup(){this.a=x(),this.setAttributes({"aria-hidden":G(this.lb.bind(this))})}onAttach(t){t.style.setProperty("pointer-events","none")}onConnect(t){if(this.S){l(this.Yf.bind(this));return}lt(()=>import("./prod-uUTSXybs.js").then(e=>e.d),__vite__mapDeps([0,1])).then(e=>{this.connectScope&&I(()=>{this.W=e;const{CaptionsRenderer:s}=this.W;this.S=new s(t),this.Qa=new Fh(this.S),l(this.Yf.bind(this))},this.connectScope)})}onDestroy(){var t;this.Qa&&(this.Qa.detach(),this.a.textRenderers.remove(this.Qa)),(t=this.S)==null||t.destroy()}lb(){const{textTrack:t}=this.a.$state,e=t();return this.a.$iosControls()||!e||!_(e)}Yf(){const{viewType:t}=this.a.$state;return t()==="audio"?this.Jj():this.Kj()}Jj(){return l(this._d.bind(this)),()=>{this.el.textContent=""}}_d(){if(this.lb())return;const{textTrack:t}=this.a.$state;this.Zf(),p(t(),"cue-change",this.Zf.bind(this)),l(this.Lj.bind(this))}Zf(){this.el.textContent="";const{currentTime:t,textTrack:e}=this.a.$state,s=d(t),n=d(e).activeCues,{renderVTTCueString:r}=this.W;for(const a of n){const o=document.createElement("div");o.setAttribute("data-part","cue"),o.innerHTML=r(a,s),this.el.append(o)}}Lj(){const{currentTime:t}=this.a.$state,{updateTimedVTTCueNodes:e}=this.W;e(this.el,t())}Kj(){return l(this.Mj.bind(this)),l(this.Nj.bind(this)),this.a.textRenderers.add(this.Qa),()=>{this.el.textContent="",this.Qa.detach(),this.a.textRenderers.remove(this.Qa)}}Mj(){this.S.dir=this.$props.textDir()}Nj(){if(this.lb())return;const{currentTime:t}=this.a.$state;this.S.currentTime=t()}};xi.props={textDir:"ltr"};let yn=xi;const _e=class _e extends y{onSetup(){this.a=x(),this._f(),this.$f(),this.ob()}onAttach(t){t.style.setProperty("pointer-events","none"),l(this.Ud.bind(this)),l(this._f.bind(this)),l(this.$f.bind(this)),l(this.ob.bind(this));const{started:e}=this.a.$state;this.setAttributes({"data-visible":()=>!e(),"data-loading":this.Rb.bind(this),"data-error":this.wa.bind(this),"data-hidden":this.$state.hidden})}onConnect(t){const{canLoad:e,poster:s}=this.a.$state;window.requestAnimationFrame(()=>{e()||Gn(s())}),l(this.Ea.bind(this))}wa(){const{error:t}=this.$state;return!yt(t())}ob(){const{src:t}=this.$props,{$iosControls:e}=this.a,{poster:s}=this.a.$state;this.el&&v(this.el,"display",e()?"none":null),this.$state.hidden.set(this.wa()||!(t()||s())||e())}Rb(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}Ud(){const t=this.$state.img();t&&(p(t,"load",this.lc.bind(this)),p(t,"error",this.U.bind(this)))}_f(){const{canLoad:t,poster:e}=this.a.$state,s=this.$props.src(),n=s||e();s&&e()!==s&&this.a.$state.providedPoster.set(s),this.$state.src.set(t()&&n.length?n:null)}$f(){const{src:t,alt:e}=this.$state;e.set(t()?this.$props.alt():null)}Ea(){const{loading:t,error:e}=this.$state,{canLoad:s,poster:n}=this.a.$state;t.set(s()&&!!n()),e.set(null)}lc(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null)}U(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}};_e.props={src:void 0,alt:void 0},_e.state=new Ot({img:null,src:null,alt:null,loading:!0,error:null,hidden:!1});let $n=_e;const Fe=class Fe extends y{onSetup(){this.a=x(),this.ag();const{type:t,remainder:e}=this.$props;this.setAttributes({"data-type":t,"data-remainder":e})}onAttach(t){l(this.ag.bind(this))}ag(){const{type:t,remainder:e,padHours:s,padMinutes:n,showHours:r}=this.$props,a=this.Oj(t()),o=this.a.$state.duration();if(!Number.isFinite(a+o)){this.$state.timeText.set("LIVE");return}const h=e()?Math.max(0,o-a):a,c=Be(h,s(),n(),r());this.$state.timeText.set(c)}Oj(t){const{bufferedEnd:e,duration:s,currentTime:n}=this.a.$state;switch(t){case"buffered":return e();case"duration":return s();default:return n()}}};Fe.props={type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1},Fe.state=new Ot({timeText:""});let wn=Fe;var qh=Object.defineProperty,Nh=Object.getOwnPropertyDescriptor,Qs=(i,t,e,s)=>{for(var n=s>1?void 0:s?Nh(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&qh(t,e,n),n};const ki=class ki extends y{constructor(){super(...arguments),this.menuContainer=null}get isMatch(){return this.me.matches}get isSmallLayout(){return this.Lc.matches}onSetup(){const{when:t,smallWhen:e,thumbnails:s,translations:n,menuGroup:r,noModal:a}=this.$props;this.me=Jt.create(t),this.Lc=Jt.create(e),this.setAttributes({"data-match":this.me.$matches,"data-size":()=>this.Lc.matches?"sm":null});const o=this;J(dr,{smQueryList:this.Lc,thumbnails:s,translations:n,menuGroup:r,noModal:a,get menuContainer(){return o.menuContainer}})}};ki.props={when:"",smallWhen:"",thumbnails:"",customIcons:!1,translations:null,menuGroup:"bottom",noModal:!1};let Pt=ki;Qs([g],Pt.prototype,"menuContainer",2);Qs([g],Pt.prototype,"isMatch",1);Qs([g],Pt.prototype,"isSmallLayout",1);const zt=class zt extends Pt{};zt.props={...Xe(zt,zt,"props"),when:"(view-type: audio)",smallWhen:"(width < 576)"};let vn=zt;const Qt=class Qt extends Pt{};Qt.props={...Xe(Qt,Qt,"props"),when:"(view-type: video)",smallWhen:"(width < 576) or (height < 380)"};let Tn=Qt;function rc(i,t){var e;return((e=i())==null?void 0:e[t])??t}const dr=$t();function ac(){return j(dr)}export{ne as $,Is as A,Jt as B,y as C,vn as D,en as E,at as F,gn as G,zh as H,rn as I,sn as J,nn as K,an as L,fs as M,ps as N,hn as O,$n as P,Gi as Q,tn as R,on as S,un as T,ee as U,se as V,St as W,bn as X,mn as Y,te as Z,ie as _,nc as a,vs as a0,Pe as a1,Gt as a2,He as a3,gs as a4,ca as a5,bs as a6,ys as a7,dn as a8,fn as a9,Zh as aA,Yn as aB,jt as aC,Xh as aD,Ge as aE,Gh as aF,js as aG,X as aH,_t as aa,tc as ab,ec as ac,ye as ad,ic as ae,Bh as af,Ca as ag,Fs as ah,d as ai,Wh as aj,oo as ak,O as al,E as am,H as an,$e as ao,I as ap,Jh as aq,Yh as ar,ja as as,cs as at,w as au,Ze as av,Gn as aw,Kh as ax,Uh as ay,os as az,ac as b,Ct as c,Qh as d,l as e,Dr as f,rc as g,_ as h,ct as i,qt as j,D as k,p as l,Tn as m,W as n,T as o,j as p,$s as q,ls as r,v as s,be as t,x as u,yn as v,sc as w,wn as x,Zi as y,$ as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/prod-uUTSXybs.js","assets/app-hIMIqkOU.js","assets/vidstack-audio-Ki6xPpMB.js","assets/vidstack-html-1TCwrTyf.js","assets/vidstack-4jGm7oeB-JAXLYo9W.js","assets/vidstack-video--JyAfZ36.js","assets/vidstack-youtube-MxnDZZNh.js","assets/vidstack-cgu9mlil-6DOlJVyh.js","assets/vidstack-hls-Vo-MmZjx.js","assets/vidstack-vimeo-JfA8EVo5.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
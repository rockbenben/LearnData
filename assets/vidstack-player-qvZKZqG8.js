import{H as f,M as H,u as $,e as c,s as i,c as v,a as C,d as O}from"./vidstack-Q8NlvF8c-5YvUhBho.js";import"./app-fLXE89NS.js";const d=class d extends f(HTMLElement,H){constructor(){super(...arguments),this.b=null,this.Oa=null}onSetup(){this.B=$(),this.setAttribute("keep-alive","")}onDestroy(){var t,e;(t=this.Oa)==null||t.remove(),this.Oa=null,(e=this.b)==null||e.remove(),this.b=null}onConnect(){c(()=>{var a,r,m;const t=this.$state.loader(),e=t==null?void 0:t.canPlay({src:"",type:"video/youtube"}),o=t==null?void 0:t.canPlay({src:"",type:"video/vimeo"}),n=e||o,s=t?n?this.Pa():t.mediaType()==="audio"?this.Qa():this.Ra():null;if(this.b!==s){const E=((a=this.b)==null?void 0:a.parentElement)??this;(r=this.b)==null||r.remove(),this.b=s,s&&E.prepend(s),n&&s&&c(()=>{var p;const{$iosControls:L}=this.B,{controls:y}=this.B.$state,b=y()||L();b?((p=this.Oa)==null||p.remove(),this.Oa=null):(this.Oa=this.querySelector(".vds-blocker")??document.createElement("div"),this.Oa.classList.add("vds-blocker"),s.after(this.Oa)),i(s,"data-no-controls",!b)})}e?s==null||s.classList.add("vds-youtube"):o&&(s==null||s.classList.add("vds-vimeo")),n||((m=this.Oa)==null||m.remove(),this.Oa=null),this.load(s)})}Qa(){const t=this.b instanceof HTMLAudioElement?this.b:document.createElement("audio");i(t,"preload","none"),i(t,"aria-hidden","true");const{controls:e,crossorigin:o}=this.B.$state;return c(()=>{i(t,"controls",e()),i(t,"crossorigin",o())}),t}Ra(){const t=this.b instanceof HTMLVideoElement?this.b:document.createElement("video"),{controls:e,crossorigin:o,poster:n}=this.B.$state,{$iosControls:s}=this.B,a=v(()=>e()||s()?"":null),r=v(()=>n()&&(e()||s())?n():null);return c(()=>{i(t,"controls",a()),i(t,"crossorigin",o()),i(t,"poster",r())}),t}Pa(){return this.b instanceof HTMLIFrameElement?this.b:document.createElement("iframe")}};d.tagName="media-provider";let h=d;const l=class l extends f(HTMLElement,C){};l.tagName="media-player",l.attrs={preferNativeHLS:"prefer-native-hls"};let u=l;O(u);O(h);
